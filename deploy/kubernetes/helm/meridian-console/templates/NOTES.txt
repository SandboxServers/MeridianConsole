================================================================================
üéÆ Meridian Console - Game Server Control Plane
================================================================================

Thank you for installing {{ .Chart.Name }}!

Your release is named: {{ .Release.Name }}
Deployed to namespace: {{ .Release.Namespace }}

--------------------------------------------------------------------------------
üìä DEPLOYMENT STATUS
--------------------------------------------------------------------------------

To check the status of your deployment:

  kubectl get pods -n {{ .Release.Namespace }} -l app.kubernetes.io/instance={{ .Release.Name }}

To watch the rollout:

  kubectl rollout status deployment -n {{ .Release.Namespace }} -l app.kubernetes.io/instance={{ .Release.Name }}

--------------------------------------------------------------------------------
üåê ACCESSING THE GATEWAY
--------------------------------------------------------------------------------

{{- if .Values.gateway.ingress.enabled }}
The Gateway is exposed via Ingress:

{{- range .Values.gateway.ingress.hosts }}
  Gateway URL: https://{{ .host }}
{{- end }}

Make sure your DNS is configured to point to your Ingress controller's IP.

To get the Ingress controller IP:

  kubectl get ingress -n {{ .Release.Namespace }} {{ include "meridian.fullname" . }}-gateway
{{- else }}
The Gateway is running as a ClusterIP service. To access it:

1. Port-forward to the Gateway service:

  kubectl port-forward -n {{ .Release.Namespace }} svc/{{ include "meridian.service.fullname" (dict "context" . "service" "gateway") }} 8080:80

2. Access the Gateway at: http://localhost:8080

{{- end }}

--------------------------------------------------------------------------------
üóÑÔ∏è  INFRASTRUCTURE STATUS
--------------------------------------------------------------------------------

{{- if .Values.postgresql.enabled }}
‚úÖ PostgreSQL is deployed as part of this chart

Database host: {{ include "meridian.fullname" . }}-postgresql
Username: {{ .Values.postgresql.auth.username }}
Password: (stored in secret {{ include "meridian.fullname" . }}-secrets)

To connect to PostgreSQL:

  kubectl run {{ .Release.Name }}-postgresql-client --rm --tty -i --restart='Never' \
    --namespace {{ .Release.Namespace }} \
    --image docker.io/bitnami/postgresql:15 \
    --env="PGPASSWORD={{ .Values.secrets.postgresPassword }}" \
    --command -- psql --host {{ include "meridian.fullname" . }}-postgresql \
    -U {{ .Values.postgresql.auth.username }} -d {{ .Values.postgresql.auth.database }} -p 5432
{{- else }}
‚ö†Ô∏è  PostgreSQL is NOT deployed - using external instance
{{- end }}

{{- if .Values.rabbitmq.enabled }}
‚úÖ RabbitMQ is deployed as part of this chart

RabbitMQ host: {{ include "meridian.fullname" . }}-rabbitmq
Username: {{ .Values.rabbitmq.auth.username }}
Password: (stored in secret {{ include "meridian.fullname" . }}-secrets)

To access the RabbitMQ Management UI:

  kubectl port-forward -n {{ .Release.Namespace }} svc/{{ include "meridian.fullname" . }}-rabbitmq 15672:15672

  Then visit: http://localhost:15672
{{- else }}
‚ö†Ô∏è  RabbitMQ is NOT deployed - using external instance
{{- end }}

{{- if .Values.redis.enabled }}
‚úÖ Redis is deployed as part of this chart

Redis host: {{ include "meridian.fullname" . }}-redis-master
Password: (stored in secret {{ include "meridian.fullname" . }}-secrets)

To connect to Redis:

  kubectl run {{ .Release.Name }}-redis-client --rm --tty -i --restart='Never' \
    --namespace {{ .Release.Namespace }} \
    --image docker.io/bitnami/redis:7.2 \
    --env REDIS_PASSWORD={{ .Values.secrets.redisPassword }} \
    --command -- redis-cli -h {{ include "meridian.fullname" . }}-redis-master -a $REDIS_PASSWORD
{{- else }}
‚ö†Ô∏è  Redis is NOT deployed - using external instance
{{- end }}

--------------------------------------------------------------------------------
üîí SECURITY REMINDERS
--------------------------------------------------------------------------------

‚ö†Ô∏è  IMPORTANT: The default passwords are NOT secure!

Before using this in production, you MUST:

1. Change all default passwords:
   - PostgreSQL password
   - RabbitMQ password
   - Redis password
   - JWT signing key

2. Update via Helm values or kubectl:

  helm upgrade {{ .Release.Name }} meridian-console \
    --set secrets.postgresPassword="<secure-password>" \
    --set secrets.rabbitmqPassword="<secure-password>" \
    --set secrets.redisPassword="<secure-password>" \
    --set secrets.jwtSigningKey="<secure-key>"

3. For production, use external secret management:
   - Kubernetes External Secrets Operator
   - HashiCorp Vault
   - AWS Secrets Manager
   - Azure Key Vault

--------------------------------------------------------------------------------
üìö MICROSERVICES DEPLOYED
--------------------------------------------------------------------------------

The following services are deployed:

{{- if .Values.gateway.enabled }}
  ‚úì Gateway (YARP reverse proxy) - Entry point
{{- end }}
{{- if .Values.identity.enabled }}
  ‚úì Identity - Authentication & authorization
{{- end }}
{{- if .Values.billing.enabled }}
  ‚úì Billing - SaaS subscriptions
{{- end }}
{{- if .Values.servers.enabled }}
  ‚úì Servers - Game server lifecycle
{{- end }}
{{- if .Values.nodes.enabled }}
  ‚úì Nodes - Node inventory & health
{{- end }}
{{- if .Values.tasks.enabled }}
  ‚úì Tasks - Background job orchestration
{{- end }}
{{- if .Values.files.enabled }}
  ‚úì Files - File metadata & transfers
{{- end }}
{{- if .Values.mods.enabled }}
  ‚úì Mods - Mod registry & versioning
{{- end }}
{{- if .Values.console.enabled }}
  ‚úì Console - Real-time console streaming (SignalR)
{{- end }}
{{- if .Values.notifications.enabled }}
  ‚úì Notifications - Email/Discord/webhooks
{{- end }}
{{- if .Values.firewall.enabled }}
  ‚úì Firewall - Port & policy management
{{- end }}
{{- if .Values.secrets.enabled }}
  ‚úì Secrets - Secret storage & rotation
{{- end }}
{{- if .Values.discord.enabled }}
  ‚úì Discord - Discord bot integration
{{- end }}

--------------------------------------------------------------------------------
üîç MONITORING & LOGS
--------------------------------------------------------------------------------

View logs for a specific service (example: gateway):

  kubectl logs -n {{ .Release.Namespace }} -l app.kubernetes.io/component=gateway --tail=100 -f

View all service logs:

  kubectl logs -n {{ .Release.Namespace }} -l app.kubernetes.io/instance={{ .Release.Name }} --all-containers=true

--------------------------------------------------------------------------------
üìñ NEXT STEPS
--------------------------------------------------------------------------------

1. Verify all pods are running:
   kubectl get pods -n {{ .Release.Namespace }}

2. Check service endpoints:
   kubectl get svc -n {{ .Release.Namespace }}

3. Review the full documentation:
   https://github.com/SandboxServers/MeridianConsole

4. Configure frontends (Panel, ShoppingCart, Scope) in Azure Static Web Apps

5. Enroll customer-hosted agents to connect to the control plane

--------------------------------------------------------------------------------

For support and issues:
  https://github.com/SandboxServers/MeridianConsole/issues

Happy gaming! üéÆ
