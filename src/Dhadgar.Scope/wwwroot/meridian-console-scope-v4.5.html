<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meridian Console - Scope Document v4.2</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .diagram { font-family: 'Courier New', monospace; font-size: 10px; line-height: 1.3; }
        .tree { font-family: 'Courier New', monospace; font-size: 11px; line-height: 1.4; }
        html { scroll-behavior: smooth; }
    </style>
</head>
<body class="bg-gray-900 text-gray-300">
<header class="bg-gradient-to-r from-indigo-900 to-gray-900 border-b border-indigo-700 py-8 px-6">
    <div class="max-w-7xl mx-auto">
        <div class="flex items-center gap-4 mb-2">
            <h1 class="text-4xl font-bold text-white">ğŸ® Meridian Console</h1>
            <span class="bg-indigo-800 text-indigo-200 px-3 py-1 rounded-full text-sm">Codename: Dadghar</span>
        </div>
        <p class="text-xl text-gray-400 mt-2">Game Server Hosting Platform â€” Technical Scoping Document</p>
        <p class="text-sm text-gray-500 mt-1">Version 4.4</p>
        <p class="text-xs text-indigo-400 mt-2">A Product of Sandbox Servers</p>
    </div>
</header>
<nav class="bg-gray-800 border-b border-gray-700 px-6 py-3 sticky top-0 z-50">
    <div class="max-w-7xl mx-auto flex flex-wrap gap-4 text-sm">
        <a href="#project-structure" class="text-indigo-400 hover:text-indigo-300">Project Structure</a>
        <a href="#vision" class="text-indigo-400 hover:text-indigo-300">Vision</a>
        <a href="#build-strategy" class="text-indigo-400 hover:text-indigo-300">Build Strategy</a>
        <a href="#tech-stack" class="text-indigo-400 hover:text-indigo-300">Tech Stack</a>
        <a href="#deployment" class="text-indigo-400 hover:text-indigo-300">Deployment</a>
        <a href="#data-retention" class="text-indigo-400 hover:text-indigo-300">Data Retention</a>
        <a href="#security" class="text-indigo-400 hover:text-indigo-300">Security</a>
        <a href="#certificates" class="text-indigo-400 hover:text-indigo-300">Certificates</a>
        <a href="#architecture" class="text-indigo-400 hover:text-indigo-300">Architecture</a>
        <a href="#flows" class="text-indigo-400 hover:text-indigo-300">Network Flows</a>
        <a href="#matrix" class="text-indigo-400 hover:text-indigo-300">Service Matrix</a>
        <a href="#rabbitmq" class="text-indigo-400 hover:text-indigo-300">RabbitMQ</a>
        <a href="#services" class="text-indigo-400 hover:text-indigo-300">Services</a>
        <a href="#agents" class="text-indigo-400 hover:text-indigo-300">Agents</a>
        <a href="#kip" class="text-indigo-400 hover:text-indigo-300">KiP Edition</a>
        <a href="#mvp" class="text-indigo-400 hover:text-indigo-300">MVP Scope</a>
        <a href="#governance" class="text-indigo-400 hover:text-indigo-300">Governance</a>
        <a href="#repos" class="text-indigo-400 hover:text-indigo-300">Repository</a>
    </div>
</nav>
<main class="max-w-7xl mx-auto px-6 py-10 space-y-12">

<!-- SECTION 1: PROJECT STRUCTURE -->
<section id="project-structure" class="bg-gray-800 rounded-xl p-6 border border-indigo-700">
    <h2 class="text-2xl font-bold text-purple-400 mb-6 border-b border-purple-600 pb-2">
        1. Project Structure
    </h2>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Product Name</h3>
    <p class="text-gray-300 mb-4"><strong class="text-white">Meridian Console</strong></p>
    <p class="text-gray-300 mb-6">Domain: <a href="https://meridianconsole.com" class="text-blue-400 hover:underline">meridianconsole.com</a></p>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Repository</h3>
    <p class="text-gray-300 mb-6"><a href="https://github.com/SandboxServers/MeridianConsole" class="text-blue-400 hover:underline">https://github.com/SandboxServers/MeridianConsole</a></p>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Codename (Pre-Release)</h3>
    <p class="text-gray-300 mb-6"><strong class="text-white">Dadgar</strong> â€” Internal codename used prior to public release.</p>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Core Team</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead>
            <tr class="bg-gray-700 text-white">
                <th class="border border-gray-600 p-2 text-left">Role</th>
                <th class="border border-gray-600 p-2 text-left">Name</th>
                <th class="border border-gray-600 p-2 text-left">Responsibilities</th>
            </tr>
        </thead>
        <tbody class="text-gray-300">
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">Project Lead</td><td class="border border-gray-600 p-2">Cady</td><td class="border border-gray-600 p-2">Vision, architecture decisions, final approval</td></tr>
            <tr><td class="border border-gray-600 p-2">Lead Developer</td><td class="border border-gray-600 p-2">Jorsh</td><td class="border border-gray-600 p-2">Core development, code review, technical implementation</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">Infrastructure</td><td class="border border-gray-600 p-2">Aura (Derek)</td><td class="border border-gray-600 p-2">DevOps, observability, New Relic integration</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Distribution Lists</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead>
            <tr class="bg-gray-700 text-white">
                <th class="border border-gray-600 p-2 text-left">DL</th>
                <th class="border border-gray-600 p-2 text-left">Members</th>
                <th class="border border-gray-600 p-2 text-left">Purpose</th>
            </tr>
        </thead>
        <tbody class="text-gray-300">
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">dev@meridianconsole.com</td><td class="border border-gray-600 p-2">Jorsh, Aura</td><td class="border border-gray-600 p-2">Development team communications</td></tr>
            <tr><td class="border border-gray-600 p-2">ops@meridianconsole.com</td><td class="border border-gray-600 p-2">Cady, Aura</td><td class="border border-gray-600 p-2">Operations and infrastructure alerts</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">team@meridianconsole.com</td><td class="border border-gray-600 p-2">Cady, Jorsh, Aura</td><td class="border border-gray-600 p-2">All-hands communications</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mt-6 mb-3">Asset Ownership</h3>
    <table class="w-full text-sm border-collapse mb-4">
        <thead>
            <tr class="bg-gray-700 text-white">
                <th class="border border-gray-600 p-2 text-left">Asset</th>
                <th class="border border-gray-600 p-2 text-left">Current Owner</th>
                <th class="border border-gray-600 p-2 text-left">Status</th>
            </tr>
        </thead>
        <tbody class="text-gray-300">
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">meridianconsole.com (domain)</td><td class="border border-gray-600 p-2">Aura (personal)</td><td class="border border-gray-600 p-2">Transfer post-MVP</td></tr>
            <tr><td class="border border-gray-600 p-2">Cloudflare Zone</td><td class="border border-gray-600 p-2">Aura (personal)</td><td class="border border-gray-600 p-2">Transfer post-MVP</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">GitHub Organization</td><td class="border border-gray-600 p-2">Jorsh</td><td class="border border-gray-600 p-2">âœ“ Active</td></tr>
            <tr><td class="border border-gray-600 p-2">M365 Tenant</td><td class="border border-gray-600 p-2">Cady</td><td class="border border-gray-600 p-2">âœ“ Active</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">Azure Subscription</td><td class="border border-gray-600 p-2">Cady</td><td class="border border-gray-600 p-2">âœ“ Active</td></tr>
        </tbody>
    </table>
    <div class="bg-yellow-900/30 border border-yellow-700 rounded-lg p-4">
        <p class="text-yellow-400 font-semibold mb-2">âš ï¸ Transfer Note</p>
        <p class="text-gray-300 text-sm">Assets currently on personal accounts will be transferred to a formal business entity post-MVP when company structure is established.</p>
    </div>
</section>

<!-- SECTION 2: VISION & SCOPE -->
<section id="vision" class="bg-gray-800 rounded-xl p-6 border border-gray-700">
    <h2 class="text-2xl font-bold text-white mb-4">ğŸš€ Section 2: Vision & Scope</h2>
    
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Product Overview</h3>
    <p class="text-lg mb-6 text-gray-300">A complete game server hosting platform consisting of three integrated components:</p>
    <ul class="text-gray-300 space-y-2 mb-6">
        <li class="flex items-start gap-2"><span class="text-indigo-400">â€¢</span> <strong class="text-white">Control Plane:</strong> Microservices-based backend managing provisioning, orchestration, billing, and user management</li>
        <li class="flex items-start gap-2"><span class="text-green-400">â€¢</span> <strong class="text-white">Distributed Agents:</strong> Cross-platform workers (Linux + Windows) that provision and manage game servers</li>
        <li class="flex items-start gap-2"><span class="text-purple-400">â€¢</span> <strong class="text-white">Unified Web Application:</strong> Blazor WASM frontend providing real-time console, server management, and administrative controls</li>
    </ul>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Target Users</h3>
    <div class="bg-gray-900 rounded-lg p-4 border border-gray-600 mb-6">
        <p class="text-white font-semibold mb-2">Primary Audiences:</p>
        <ul class="text-gray-300 space-y-1 text-sm grid md:grid-cols-2 gap-2">
            <li>â€¢ Gaming communities & clans</li>
            <li>â€¢ Content creators & streamers</li>
            <li>â€¢ Small-medium businesses</li>
            <li>â€¢ Modding communities</li>
            <li>â€¢ Indie game developers</li>
            <li>â€¢ Individuals</li>
            <li>â€¢ LAN event organizers</li>
            <li>â€¢ Esports teams</li>
        </ul>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Core Differentiators</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead><tr class="bg-gray-700 text-white"><th class="border border-gray-600 p-2">Feature</th><th class="border border-gray-600 p-2">Advantage</th></tr></thead>
        <tbody class="text-gray-300">
            <tr><td class="border border-gray-600 p-2"><strong class="text-white">.NET 8 + SignalR</strong></td><td class="border border-gray-600 p-2">Real-time console, high performance, modern stack</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong class="text-white">Cross-Platform Agents</strong></td><td class="border border-gray-600 p-2">Linux + Windows support (most competitors Linux-only)</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong class="text-white">Multi-Engine Support</strong></td><td class="border border-gray-600 p-2">Minecraft, Valheim, ARK, Rust, Palworld, and more</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong class="text-white">Hybrid Cloud Ready</strong></td><td class="border border-gray-600 p-2">Deploy agents anywhere (colo, cloud, on-prem)</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Performance Targets</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead><tr class="bg-gray-700 text-white"><th class="border border-gray-600 p-2">Metric</th><th class="border border-gray-600 p-2">Target</th></tr></thead>
        <tbody class="text-gray-300">
            <tr><td class="border border-gray-600 p-2"><strong>Provisioning Time</strong></td><td class="border border-gray-600 p-2">Server created + installing within 60 seconds (not playable yet)</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong>Uptime SLA</strong></td><td class="border border-gray-600 p-2">99% (MVP), 99.5% (growth target)</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Non-Goals</h3>
    <ul class="text-gray-300 space-y-1 mb-6">
        <li>â€¢ Web hosting (focus on game servers only)</li>
        <li>â€¢ Competing on price (premium positioning)</li>
        <li>â€¢ White-label / reseller program (at least initially)</li>
    </ul>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Deferred Goals</h3>
    <div class="bg-yellow-900/30 border border-yellow-700 rounded-lg p-4">
        <p class="text-yellow-400 font-semibold mb-2">âš ï¸ Important: Architecture must support these future features</p>
        <ul class="text-gray-300 space-y-1">
            <li>â€¢ <strong>Mobile apps</strong> (iOS/Android)</li>
            <li>â€¢ <strong>KiP - Knowledge is Power Edition</strong> (detailed analytics/insights product)</li>
        </ul>
    </div>
</section>

<!-- SECTION 3: BUILD STRATEGY -->
<section id="build-strategy" class="bg-gray-800 rounded-xl p-6 border border-indigo-700">
    <h2 class="text-2xl font-bold text-white mb-4">ğŸ›¤ï¸ Section 3: Build Strategy</h2>
    
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Environment Structure</h3>
    <table class="w-full text-sm border-collapse mb-4">
        <thead><tr class="bg-gray-700 text-white"><th class="border border-gray-600 p-2">Environment</th><th class="border border-gray-600 p-2">Infrastructure</th><th class="border border-gray-600 p-2">Purpose</th></tr></thead>
        <tbody class="text-gray-300">
            <tr><td class="border border-gray-600 p-2"><strong>Dev</strong></td><td class="border border-gray-600 p-2">Kubernetes namespace</td><td class="border border-gray-600 p-2">Active development, frequent deploys</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong>Staging</strong></td><td class="border border-gray-600 p-2">Kubernetes namespace</td><td class="border border-gray-600 p-2">Pre-production validation, customer demos</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong>Prod</strong></td><td class="border border-gray-600 p-2">Kubernetes namespace (future: dedicated cluster)</td><td class="border border-gray-600 p-2">Live customer environment</td></tr>
        </tbody>
    </table>

    <div class="bg-gray-900 rounded-lg p-4 border border-gray-600 mb-6">
        <p class="text-white font-semibold mb-1">Local Development:</p>
        <p class="text-sm text-gray-400">Developer's choice (Docker Compose, local Kubernetes, etc.). Changes must be validated locally before pushing to dev environment.</p>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">CI/CD Platform</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead><tr class="bg-gray-700 text-white"><th class="border border-gray-600 p-2">Component</th><th class="border border-gray-600 p-2">Technology</th></tr></thead>
        <tbody class="text-gray-300">
            <tr><td class="border border-gray-600 p-2"><strong>CI/CD</strong></td><td class="border border-gray-600 p-2">Azure Pipelines</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong>Build Agents</strong></td><td class="border border-gray-600 p-2">Self-hosted (pod in cluster)</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong>Container Registry</strong></td><td class="border border-gray-600 p-2">Azure Container Registry (ACR)</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong>Artifact Retention</strong></td><td class="border border-gray-600 p-2">Forever (ADO doesn't charge for storage)</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong>Package Manager</strong></td><td class="border border-gray-600 p-2">Helm</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">GitOps with ArgoCD</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead><tr class="bg-gray-700 text-white"><th class="border border-gray-600 p-2">Aspect</th><th class="border border-gray-600 p-2">Implementation</th></tr></thead>
        <tbody class="text-gray-300">
            <tr><td class="border border-gray-600 p-2"><strong>ArgoCD Role</strong></td><td class="border border-gray-600 p-2">Read-only, declarative state enforcement</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong>Drift Detection</strong></td><td class="border border-gray-600 p-2">Used as deployment gate (staging/prod must match Git exactly)</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong>Source of Truth</strong></td><td class="border border-gray-600 p-2">CI/CD pipeline updates Git, ArgoCD syncs to cluster</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Branching Strategy</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead><tr class="bg-gray-700 text-white"><th class="border border-gray-600 p-2">Branch</th><th class="border border-gray-600 p-2">Deploys To</th><th class="border border-gray-600 p-2">Trigger</th></tr></thead>
        <tbody class="text-gray-300">
            <tr><td class="border border-gray-600 p-2"><code class="text-indigo-400">develop</code></td><td class="border border-gray-600 p-2">Dev</td><td class="border border-gray-600 p-2">Automatic on push</td></tr>
            <tr><td class="border border-gray-600 p-2"><code class="text-indigo-400">main</code> (untagged)</td><td class="border border-gray-600 p-2">Staging</td><td class="border border-gray-600 p-2">Automatic on merge</td></tr>
            <tr><td class="border border-gray-600 p-2"><code class="text-indigo-400">main</code> (tagged)</td><td class="border border-gray-600 p-2">Prod</td><td class="border border-gray-600 p-2">Manual approval required (ADO Environment Resources)</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Deployment Gates</h3>
    <ul class="text-gray-300 space-y-1 mb-6">
        <li>â€¢ <strong class="text-white">Dev â†’ Staging:</strong> Unit tests pass, build succeeds</li>
        <li>â€¢ <strong class="text-white">Staging â†’ Prod:</strong> Manual approval + ArgoCD drift check (staging must be in sync)</li>
    </ul>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Notifications</h3>
    <table class="w-full text-sm border-collapse">
        <thead><tr class="bg-gray-700 text-white"><th class="border border-gray-600 p-2">Event</th><th class="border border-gray-600 p-2">Notification Method</th></tr></thead>
        <tbody class="text-gray-300">
            <tr><td class="border border-gray-600 p-2">Build failures</td><td class="border border-gray-600 p-2">Discord webhook to dev channel</td></tr>
            <tr><td class="border border-gray-600 p-2">Deployment to staging/prod</td><td class="border border-gray-600 p-2">Discord webhook to ops channel</td></tr>
            <tr><td class="border border-gray-600 p-2">Approval required</td><td class="border border-gray-600 p-2">Discord webhook + ADO notification</td></tr>
        </tbody>
    </table>
</section>

<!-- SECTION 4: TECH STACK -->
<section id="tech-stack" class="bg-gray-800 rounded-xl p-6 border border-gray-700">
    <h2 class="text-2xl font-bold text-purple-400 mb-6 border-b border-purple-600 pb-2">
        4. Tech Stack
    </h2>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Backend</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead>
            <tr class="bg-gray-700 text-white">
                <th class="border border-gray-600 p-2 text-left">Component</th>
                <th class="border border-gray-600 p-2 text-left">Technology</th>
            </tr>
        </thead>
        <tbody class="text-gray-300">
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2"><strong>Framework</strong></td><td class="border border-gray-600 p-2">.NET 8, ASP.NET Core</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong>ORM</strong></td><td class="border border-gray-600 p-2">Entity Framework Core</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2"><strong>Real-time</strong></td><td class="border border-gray-600 p-2">SignalR (WebSockets)</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong>Messaging</strong></td><td class="border border-gray-600 p-2">MassTransit + RabbitMQ</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2"><strong>Reverse Proxy</strong></td><td class="border border-gray-600 p-2">YARP</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Frontend</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead>
            <tr class="bg-gray-700 text-white">
                <th class="border border-gray-600 p-2 text-left">Component</th>
                <th class="border border-gray-600 p-2 text-left">Technology</th>
            </tr>
        </thead>
        <tbody class="text-gray-300">
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2"><strong>Framework</strong></td><td class="border border-gray-600 p-2">Blazor WebAssembly</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong>Styling</strong></td><td class="border border-gray-600 p-2">TailwindCSS</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2"><strong>Console Rendering</strong></td><td class="border border-gray-600 p-2">xterm.js</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Infrastructure & Data</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead>
            <tr class="bg-gray-700 text-white">
                <th class="border border-gray-600 p-2 text-left">Component</th>
                <th class="border border-gray-600 p-2 text-left">Technology</th>
            </tr>
        </thead>
        <tbody class="text-gray-300">
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2"><strong>Orchestration</strong></td><td class="border border-gray-600 p-2">Kubernetes</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong>CNI / Service Mesh</strong></td><td class="border border-gray-600 p-2">Cilium (mTLS, network policies)</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2"><strong>Database</strong></td><td class="border border-gray-600 p-2">PostgreSQL</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong>Cache</strong></td><td class="border border-gray-600 p-2">Redis</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2"><strong>Message Queue</strong></td><td class="border border-gray-600 p-2">RabbitMQ</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong>Secrets</strong></td><td class="border border-gray-600 p-2">Azure Key Vault + CSI Driver</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Observability</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead>
            <tr class="bg-gray-700 text-white">
                <th class="border border-gray-600 p-2 text-left">Component</th>
                <th class="border border-gray-600 p-2 text-left">Technology</th>
            </tr>
        </thead>
        <tbody class="text-gray-300">
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2"><strong>APM</strong></td><td class="border border-gray-600 p-2">New Relic (SaaS)</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong>Metrics</strong></td><td class="border border-gray-600 p-2">Prometheus + Grafana (internal)</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2"><strong>Logs</strong></td><td class="border border-gray-600 p-2">Loki</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">DevOps</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead>
            <tr class="bg-gray-700 text-white">
                <th class="border border-gray-600 p-2 text-left">Component</th>
                <th class="border border-gray-600 p-2 text-left">Technology</th>
            </tr>
        </thead>
        <tbody class="text-gray-300">
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2"><strong>CI/CD</strong></td><td class="border border-gray-600 p-2">Azure DevOps Pipelines</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong>GitOps</strong></td><td class="border border-gray-600 p-2">ArgoCD</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2"><strong>Containers</strong></td><td class="border border-gray-600 p-2">Docker</td></tr>
            <tr><td class="border border-gray-600 p-2"><strong>Registry</strong></td><td class="border border-gray-600 p-2">Azure Container Registry</td></tr>
        </tbody>
    </table>
</section>

<!-- SECTION 5: DEPLOYMENT TOPOLOGY -->
<section id="deployment" class="bg-gray-800 rounded-xl p-6 border border-indigo-700">
    <h2 class="text-2xl font-bold text-white mb-4">ğŸŒ Section 5: Deployment Topology</h2>
    
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">High-Level Architecture</h3>
    <p class="text-gray-300 mb-6">Single Kubernetes cluster hosting dev/staging/prod as separate namespaces. Agent nodes run outside Kubernetes on isolated VLANs.</p>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">External Services</h3>
    <ul class="text-gray-300 space-y-1 mb-6">
        <li>â€¢ Azure (Key Vault, AD, ACR, DevOps)</li>
        <li>â€¢ Cloudflare (DNS, WAF, CDN)</li>
        <li>â€¢ New Relic (Observability)</li>
    </ul>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Kubernetes Cluster</h3>
    
    <h4 class="text-lg font-semibold text-purple-400 mt-4 mb-2">Infrastructure Layer</h4>
    <ul class="text-gray-300 space-y-1 mb-4">
        <li>â€¢ cert-manager (TLS automation)</li>
        <li>â€¢ Secrets Store CSI Driver (Azure Key Vault integration)</li>
        <li>â€¢ ArgoCD (GitOps, read-only drift detection)</li>
        <li>â€¢ Azure DevOps Build Agent (self-hosted pod)</li>
    </ul>

    <h4 class="text-lg font-semibold text-purple-400 mb-2">Platform Data Layer</h4>
    <ul class="text-gray-300 space-y-1 mb-4">
        <li>â€¢ <strong class="text-white">PostgreSQL (platform):</strong> Application metadata (users, servers, agents, billing)</li>
        <li>â€¢ <strong class="text-white">RabbitMQ:</strong> Message queue for async operations</li>
        <li>â€¢ <strong class="text-white">Redis:</strong> Caching, session state</li>
    </ul>

    <h4 class="text-lg font-semibold text-purple-400 mb-2">User Data Layer</h4>
    <div class="bg-red-900/30 border border-red-700 rounded-lg p-4 mb-4">
        <p class="text-red-400 font-bold mb-2">ğŸ”´ HARD RULE:</p>
        <p class="text-gray-300 text-sm">User data (game server databases, configs, saves) stored in separate PostgreSQL instance per environment. Platform DB and User DB must never share an instance.</p>
    </div>

    <table class="w-full text-sm border-collapse mb-6">
        <thead><tr class="bg-gray-700 text-white"><th class="border border-gray-600 p-2">Environment</th><th class="border border-gray-600 p-2">User DB Instance</th></tr></thead>
        <tbody class="text-gray-300">
            <tr><td class="border border-gray-600 p-2">Dev</td><td class="border border-gray-600 p-2">PostgreSQL (user-dev)</td></tr>
            <tr><td class="border border-gray-600 p-2">Staging</td><td class="border border-gray-600 p-2">PostgreSQL (user-staging)</td></tr>
            <tr><td class="border border-gray-600 p-2">Prod</td><td class="border border-gray-600 p-2">PostgreSQL (user-prod)</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Agent Nodes</h3>
    <ul class="text-gray-300 space-y-1 mb-6">
        <li>â€¢ Run <strong class="text-white">outside Kubernetes</strong> on isolated VLANs</li>
        <li>â€¢ Linux + Windows agents (cross-platform)</li>
        <li>â€¢ Connect to cluster via <strong class="text-white">mTLS</strong></li>
        <li>â€¢ Managed by Nodes Service (cert issuance, health checks)</li>
    </ul>

    <div class="bg-yellow-900/30 border border-yellow-700 rounded-lg p-4">
        <p class="text-yellow-400 font-semibold mb-2">ğŸ’¡ Future Note</p>
        <p class="text-gray-300 text-sm"><strong>When to split prod to dedicated cluster?</strong> When customer base grows to the point where resource contention or blast radius concerns justify the operational overhead (likely 500+ active servers).</p>
    </div>
</section>

<!-- SECTION 6: DATA RETENTION -->
<section id="data-retention" class="bg-gray-800 rounded-xl p-6 border border-gray-700">
    <h2 class="text-2xl font-bold text-white mb-4">ğŸ’¾ Section 6: Data Retention</h2>
    
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Logs</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead><tr class="bg-gray-700 text-white"><th class="border border-gray-600 p-2">Log Type</th><th class="border border-gray-600 p-2">Retention Period</th></tr></thead>
        <tbody class="text-gray-300">
            <tr><td class="border border-gray-600 p-2">Application Logs</td><td class="border border-gray-600 p-2">30 days</td></tr>
            <tr><td class="border border-gray-600 p-2">Audit/Compliance Logs</td><td class="border border-gray-600 p-2">30 days</td></tr>
            <tr><td class="border border-gray-600 p-2">Game Server Logs</td><td class="border border-gray-600 p-2">30 days</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Build Artifacts</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead><tr class="bg-gray-700 text-white"><th class="border border-gray-600 p-2">Artifact Type</th><th class="border border-gray-600 p-2">Retention Period</th></tr></thead>
        <tbody class="text-gray-300">
            <tr><td class="border border-gray-600 p-2">Build Artifacts (ADO)</td><td class="border border-gray-600 p-2">Forever (no cost)</td></tr>
            <tr><td class="border border-gray-600 p-2">Container Images (ACR)</td><td class="border border-gray-600 p-2">Forever (tagged releases), 90 days (untagged)</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Metrics</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead><tr class="bg-gray-700 text-white"><th class="border border-gray-600 p-2">System</th><th class="border border-gray-600 p-2">Retention Period</th></tr></thead>
        <tbody class="text-gray-300">
            <tr><td class="border border-gray-600 p-2">Prometheus</td><td class="border border-gray-600 p-2">TBD (tune based on disk usage)</td></tr>
            <tr><td class="border border-gray-600 p-2">New Relic</td><td class="border border-gray-600 p-2">8 days (free tier limit)</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Billing Records</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead><tr class="bg-gray-700 text-white"><th class="border border-gray-600 p-2">Record Type</th><th class="border border-gray-600 p-2">Retention Period</th></tr></thead>
        <tbody class="text-gray-300">
            <tr><td class="border border-gray-600 p-2">Invoices, Payment Records</td><td class="border border-gray-600 p-2">7 years (legal requirement)</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Database Backups</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead><tr class="bg-gray-700 text-white"><th class="border border-gray-600 p-2">Database</th><th class="border border-gray-600 p-2">Retention Policy</th></tr></thead>
        <tbody class="text-gray-300">
            <tr><td class="border border-gray-600 p-2">Platform DB</td><td class="border border-gray-600 p-2">7 daily, 2 weekly, 1 monthly</td></tr>
            <tr><td class="border border-gray-600 p-2">User DB</td><td class="border border-gray-600 p-2">TBD (define post-MVP based on customer needs)</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">User Data Lifecycle</h3>
    <table class="w-full text-sm border-collapse">
        <thead><tr class="bg-gray-700 text-white"><th class="border border-gray-600 p-2">Event</th><th class="border border-gray-600 p-2">Action</th></tr></thead>
        <tbody class="text-gray-300">
            <tr><td class="border border-gray-600 p-2">User deletes game server</td><td class="border border-gray-600 p-2">Immediate hard delete (no soft delete)</td></tr>
            <tr><td class="border border-gray-600 p-2">User deletes game server database</td><td class="border border-gray-600 p-2">24-hour soft delete (recoverable)</td></tr>
            <tr><td class="border border-gray-600 p-2">Billing stops (non-payment/cancel)</td><td class="border border-gray-600 p-2">30 days until disk data purged</td></tr>
            <tr><td class="border border-gray-600 p-2">User account deletion</td><td class="border border-gray-600 p-2">Never automatically pruned (GDPR compliance allows manual deletion on request)</td></tr>
        </tbody>
    </table>
</section>

<!-- SECTION 7: SECURITY ARCHITECTURE -->
<section id="security" class="bg-gray-800 rounded-xl p-6 border border-indigo-700">
    <h2 class="text-2xl font-bold text-purple-400 mb-6 border-b border-purple-600 pb-2">
        7. Security Architecture
    </h2>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Security Philosophy</h3>
    <div class="bg-gray-900 border border-gray-600 rounded-lg p-4 mb-6">
        <p class="text-white font-semibold mb-2">ğŸ” TLS Everywhere, Always, Forever</p>
        <p class="text-gray-300 text-sm">Every connection, internal or external, is encrypted. No exceptions.</p>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Transport Security</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead>
            <tr class="bg-gray-700 text-white">
                <th class="border border-gray-600 p-2 text-left">Connection</th>
                <th class="border border-gray-600 p-2 text-left">Security</th>
                <th class="border border-gray-600 p-2 text-left">TLS Version</th>
            </tr>
        </thead>
        <tbody class="text-gray-300">
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">User â†’ Cloudflare</td><td class="border border-gray-600 p-2">TLS</td><td class="border border-gray-600 p-2">1.3 (preferred), 1.2 (minimum)</td></tr>
            <tr><td class="border border-gray-600 p-2">Cloudflare â†’ Cluster</td><td class="border border-gray-600 p-2">TLS (Full/Strict mode)</td><td class="border border-gray-600 p-2">1.2 minimum</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">Agent â†” Cluster</td><td class="border border-gray-600 p-2">mTLS (mutual authentication)</td><td class="border border-gray-600 p-2">1.2 minimum</td></tr>
            <tr><td class="border border-gray-600 p-2">Microservices â†” Microservices</td><td class="border border-gray-600 p-2">Cilium mTLS (service mesh)</td><td class="border border-gray-600 p-2">1.2 minimum</td></tr>
        </tbody>
    </table>

    <div class="bg-gray-900 border border-gray-600 rounded-lg p-4 mb-6">
        <p class="text-white font-semibold mb-2">ğŸ” TLS Version Policy</p>
        <ul class="text-gray-300 text-sm space-y-1">
            <li>â€¢ <strong class="text-white">Minimum:</strong> TLS 1.2 for all connections</li>
            <li>â€¢ <strong class="text-white">Preferred:</strong> TLS 1.3 where supported</li>
            <li>â€¢ <strong class="text-white">Prohibited:</strong> TLS 1.0, TLS 1.1, SSL 3.0</li>
            <li>â€¢ <strong class="text-white">Cipher Suites:</strong> Modern AEAD ciphers only (AES-GCM, ChaCha20-Poly1305)</li>
        </ul>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Authentication Layers</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead>
            <tr class="bg-gray-700 text-white">
                <th class="border border-gray-600 p-2 text-left">Actor</th>
                <th class="border border-gray-600 p-2 text-left">Method</th>
                <th class="border border-gray-600 p-2 text-left">Token Type</th>
            </tr>
        </thead>
        <tbody class="text-gray-300">
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">End Users</td><td class="border border-gray-600 p-2">OAuth (Discord/Steam)</td><td class="border border-gray-600 p-2">JWT Bearer</td></tr>
            <tr><td class="border border-gray-600 p-2">Node Agents (Bootstrap)</td><td class="border border-gray-600 p-2">One-time registration token</td><td class="border border-gray-600 p-2">15-minute expiry</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">Node Agents (Registered)</td><td class="border border-gray-600 p-2">mTLS client certificate</td><td class="border border-gray-600 p-2">X.509</td></tr>
            <tr><td class="border border-gray-600 p-2">External Webhooks</td><td class="border border-gray-600 p-2">Signature verification</td><td class="border border-gray-600 p-2">HMAC/RSA</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Kubernetes Security</h3>
    <ul class="text-gray-300 space-y-2 mb-6">
        <li>â€¢ <strong class="text-white">CNI:</strong> Cilium (network policy enforcement, mTLS between pods)</li>
        <li>â€¢ <strong class="text-white">RBAC:</strong> Least-privilege service accounts per microservice</li>
        <li>â€¢ <strong class="text-white">Secrets:</strong> Azure Key Vault + CSI driver (no secrets in etcd)</li>
        <li>â€¢ <strong class="text-white">Pod Security:</strong> Restricted PSS baseline</li>
        <li>â€¢ <strong class="text-white">Network Policies:</strong> Default deny, explicit allow per service</li>
    </ul>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Secret Management</h3>
    <ul class="text-gray-300 space-y-2 mb-6">
        <li>â€¢ All secrets stored in Azure Key Vault</li>
        <li>â€¢ CSI Secret Store driver mounts secrets as volumes</li>
        <li>â€¢ Automatic rotation via Secrets Service (:5110)</li>
        <li>â€¢ Secret access logged and auditable</li>
    </ul>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Network Boundaries</h3>
    <ul class="text-gray-300 space-y-2">
        <li>â€¢ <strong class="text-white">Edge:</strong> Cloudflare (WAF, DDoS protection)</li>
        <li>â€¢ <strong class="text-white">Perimeter:</strong> UniFi Hardware Firewall (stateful inspection)</li>
        <li>â€¢ <strong class="text-white">Internal:</strong> Cilium (pod-to-pod encryption, L3/L4 policies)</li>
        <li>â€¢ <strong class="text-white">Data:</strong> Encrypted at rest (PostgreSQL, Redis), encrypted in transit</li>
    </ul>
</section>

<!-- SECTION 8: CERTIFICATE MANAGEMENT -->
<section id="certificates" class="bg-gray-800 rounded-xl p-6 border border-gray-700">
    <h2 class="text-2xl font-bold text-purple-400 mb-6 border-b border-purple-600 pb-2">
        8. Certificate Management
    </h2>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Certificate Architecture Overview</h3>
    <div class="bg-gray-900 border border-gray-600 rounded-lg p-4 mb-6 font-mono text-xs overflow-x-auto">
        <pre class="text-gray-300">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CERTIFICATE MANAGEMENT                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚   EXTERNAL (User-Facing):                                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Let's Encrypt  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Cloudflare API â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  cert-manager   â”‚   â”‚
â”‚   â”‚  (ACME CA)      â”‚         â”‚  (DNS-01)       â”‚         â”‚  (Ingress only) â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                  â”‚
â”‚   INTERNAL (Pod-to-Pod):                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                         CILIUM SERVICE MESH                              â”‚   â”‚
â”‚   â”‚   â€¢ Automatic mTLS between all pods                                      â”‚   â”‚
â”‚   â”‚   â€¢ No manual cert management                                            â”‚   â”‚
â”‚   â”‚   â€¢ Covers: services, PostgreSQL, RabbitMQ, Redis                        â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                  â”‚
â”‚   AGENT CERTIFICATES:                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                    NODES SERVICE (Agent Cert Manager)                    â”‚   â”‚
â”‚   â”‚                                                                          â”‚   â”‚
â”‚   â”‚  Bootstrap: Token â†’ Register â†’ Issue cert â†’ Establish mTLS              â”‚   â”‚
â”‚   â”‚  Renewal: Automated at 45 days before expiry                             â”‚   â”‚
â”‚   â”‚  DNS: agent-{id}.nodes.meridianconsole.com                              â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        </pre>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Certificate Types</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead>
            <tr class="bg-gray-700 text-white">
                <th class="border border-gray-600 p-2 text-left">Type</th>
                <th class="border border-gray-600 p-2 text-left">Scope</th>
                <th class="border border-gray-600 p-2 text-left">Manager</th>
                <th class="border border-gray-600 p-2 text-left">Renewal</th>
            </tr>
        </thead>
        <tbody class="text-gray-300">
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">Ingress (User-facing)</td><td class="border border-gray-600 p-2">*.meridianconsole.com</td><td class="border border-gray-600 p-2">cert-manager</td><td class="border border-gray-600 p-2">45 days (automated)</td></tr>
            <tr><td class="border border-gray-600 p-2">Internal Pod-to-Pod</td><td class="border border-gray-600 p-2">All cluster services</td><td class="border border-gray-600 p-2">Cilium</td><td class="border border-gray-600 p-2">Automatic (mesh)</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">Agent mTLS</td><td class="border border-gray-600 p-2">agent-{id}.nodes.*</td><td class="border border-gray-600 p-2">Nodes Service</td><td class="border border-gray-600 p-2">45 days (automated)</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Agent Bootstrap Flow</h3>
    <div class="bg-gray-900 border border-gray-600 rounded-lg p-4 mb-6 font-mono text-xs overflow-x-auto">
        <pre class="text-gray-300">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           AGENT BOOTSTRAP SEQUENCE                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  1. ADMIN GENERATES TOKEN                                                        â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     POST /nodes/tokens      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚     â”‚  Admin  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Nodes     â”‚                     â”‚
â”‚     â”‚   UI    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   :5040     â”‚                     â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     { token: "xxx" }        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                     (15 min expiry)                                              â”‚
â”‚                                                                                  â”‚
â”‚  2. AGENT REGISTERS                                                              â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     POST /nodes/register    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚     â”‚  Agent  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Nodes     â”‚                     â”‚
â”‚     â”‚  (new)  â”‚     { token: "xxx" }        â”‚   :5040     â”‚                     â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                                    â”‚                             â”‚
â”‚  3. NODES SERVICE PROVISIONS CERT                  â”‚                             â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                     â–¼                                                            â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚     â”‚  â€¢ Create DNS entry: agent-{id}.nodes.meridianconsole.com              â”‚ â”‚
â”‚     â”‚  â€¢ Request cert from Let's Encrypt (via Cloudflare API DNS-01)         â”‚ â”‚
â”‚     â”‚  â€¢ Store cert metadata in nodes_db                                      â”‚ â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                     â”‚                                                            â”‚
â”‚  4. PUSH CERT TO AGENT                                                           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     cert + private key      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚     â”‚  Agent  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   Nodes     â”‚                     â”‚
â”‚     â”‚  (new)  â”‚     (over initial TLS)      â”‚   :5040     â”‚                     â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                                                                  â”‚
â”‚  5. ESTABLISH mTLS                                                               â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     mTLS connection         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚     â”‚  Agent  â”‚â—„â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–ºâ”‚   Nodes     â”‚                     â”‚
â”‚     â”‚  (reg)  â”‚     (ongoing comms)         â”‚   :5040     â”‚                     â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        </pre>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">DNS-01 Challenge Flow</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead>
            <tr class="bg-gray-700 text-white">
                <th class="border border-gray-600 p-2 text-left">Step</th>
                <th class="border border-gray-600 p-2 text-left">Action</th>
                <th class="border border-gray-600 p-2 text-left">Component</th>
            </tr>
        </thead>
        <tbody class="text-gray-300">
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">1</td><td class="border border-gray-600 p-2">Request new certificate order</td><td class="border border-gray-600 p-2">â†’ Let's Encrypt ACME</td></tr>
            <tr><td class="border border-gray-600 p-2">2</td><td class="border border-gray-600 p-2">Create TXT record via API</td><td class="border border-gray-600 p-2">â†’ Cloudflare API</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">3</td><td class="border border-gray-600 p-2">Validate challenge</td><td class="border border-gray-600 p-2">â†’ Let's Encrypt ACME</td></tr>
            <tr><td class="border border-gray-600 p-2">4</td><td class="border border-gray-600 p-2">Delete TXT record</td><td class="border border-gray-600 p-2">â†’ Cloudflare API</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">5</td><td class="border border-gray-600 p-2">Store/push certificate</td><td class="border border-gray-600 p-2">â†’ K8s Secret / Agent</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Renewal Policy</h3>
    <div class="bg-green-900/30 border border-green-700 rounded-lg p-4 mb-6">
        <p class="text-green-400 font-semibold mb-2">âœ… Automated Renewal</p>
        <ul class="text-gray-300 text-sm space-y-1">
            <li>â€¢ <strong class="text-white">Validity:</strong> 90 days (Let's Encrypt standard)</li>
            <li>â€¢ <strong class="text-white">Renewal trigger:</strong> 45 days before expiry (50% lifetime)</li>
            <li>â€¢ <strong class="text-white">Automation:</strong> Fully automated â€” no manual intervention</li>
            <li>â€¢ <strong class="text-white">Alerting:</strong> Alert if renewal fails 30 days before expiry</li>
        </ul>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Internal Services (Cilium)</h3>
    <div class="bg-blue-900/30 border border-blue-700 rounded-lg p-4">
        <p class="text-blue-400 font-semibold mb-2">ğŸ”’ Pod-to-Pod Encryption</p>
        <p class="text-gray-300 text-sm mb-2">Cilium service mesh handles all internal mTLS automatically:</p>
        <ul class="text-gray-300 text-sm space-y-1">
            <li>â€¢ All 12 control plane services</li>
            <li>â€¢ PostgreSQL connections (Platform DB, User DB)</li>
            <li>â€¢ RabbitMQ connections</li>
            <li>â€¢ Redis connections</li>
            <li>â€¢ Prometheus/Loki scraping</li>
        </ul>
        <p class="text-gray-400 text-xs mt-2 italic">No manual certificate management required for internal services.</p>
    </div>
</section>

<!-- SECTION 9: SYSTEM ARCHITECTURE -->
<section id="architecture" class="bg-gray-800 rounded-xl p-6 border border-indigo-700">
    <h2 class="text-2xl font-bold text-purple-400 mb-6 border-b border-purple-600 pb-2">
        9. System Architecture
    </h2>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Architecture Overview</h3>
    <div class="bg-gray-900 border border-gray-600 rounded-lg p-4 mb-6 font-mono text-xs overflow-x-auto">
        <pre class="text-gray-300">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                              INTERNET                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚      New Relic (SaaS)     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  Outbound Telemetry (APM, metrics, logs, traces)   â”‚    â”‚
â”‚   â”‚                           â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                                      â”‚
â”‚                                                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                               CUSTOMER NODE AGENTS                                           â”‚   â”‚
â”‚   â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚   â”‚
â”‚   â”‚     â”‚   Agent.Linux       â”‚              â”‚   Agent.Windows     â”‚                            â”‚   â”‚
â”‚   â”‚     â”‚   (Customer sites)  â”‚              â”‚   (Customer sites)  â”‚                            â”‚   â”‚
â”‚   â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                               â”‚                                                      â”‚
â”‚                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚                               â”‚         CLOUDFLARE            â”‚                                     â”‚
â”‚                               â”‚     WAF Â· CDN Â· DDoS Prot     â”‚                                     â”‚
â”‚                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                                               â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                â”‚
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                                     COLO BOUNDARY (AS396426)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                                                â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚      UniFi Hardware Firewall      â”‚
                              â”‚           (UDM Pro)               â”‚
                              â”‚   â€¢ Stateful inspection           â”‚
                              â”‚   â€¢ Dynamic game port forwarding  â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                    K8S CLUSTER                                                        â”‚
â”‚                                                                                                       â”‚
â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚                              â”‚         INGRESS CONTROLLER        â”‚                                   â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚                                                â”‚                                                      â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚                     â”‚                                                     â”‚                           â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚           â”‚  Web App :5200    â”‚                             â”‚     Gateway :5000         â”‚            â”‚
â”‚           â”‚  (Blazor WASM)    â”‚                             â”‚        (YARP)             â”‚            â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                           â”‚                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                    CONTROL PLANE SERVICES (12)                                 â”‚  â”‚
â”‚   â”‚                                                                                                â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚   â”‚  â”‚ Identity   â”‚ â”‚  Billing   â”‚ â”‚  Servers   â”‚ â”‚   Nodes    â”‚ â”‚   Tasks    â”‚ â”‚   Files    â”‚    â”‚  â”‚
â”‚   â”‚  â”‚   :5010    â”‚ â”‚   :5020    â”‚ â”‚   :5030    â”‚ â”‚   :5040    â”‚ â”‚   :5050    â”‚ â”‚   :5060    â”‚    â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚   â”‚                                                                                                â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚   â”‚  â”‚  Console   â”‚ â”‚   Mods     â”‚ â”‚   Notifs   â”‚ â”‚  Firewall  â”‚ â”‚  Secrets   â”‚ â”‚  Discord   â”‚    â”‚  â”‚
â”‚   â”‚  â”‚   :5070    â”‚ â”‚   :5080    â”‚ â”‚   :5090    â”‚ â”‚   :5100    â”‚ â”‚   :5110    â”‚ â”‚   :5120    â”‚    â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚   â”‚                                                                                                â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                â”‚                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚   â”‚                                    INFRASTRUCTURE LAYER                                          â”‚â”‚
â”‚   â”‚                                                                                                  â”‚â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚   â”‚  â”‚  Platform DB Pod (PostgreSQL)â”‚  â”‚  User DB Pod (PostgreSQL)   â”‚  â”‚      RabbitMQ          â”‚ â”‚â”‚
â”‚   â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”‚                        â”‚ â”‚â”‚
â”‚   â”‚  â”‚  â€¢ identity_db               â”‚  â”‚  â€¢ Customer game databases  â”‚  â”‚  Events & Commands     â”‚ â”‚â”‚
â”‚   â”‚  â”‚  â€¢ billing_db                â”‚  â”‚  â€¢ Tenant data              â”‚  â”‚                        â”‚ â”‚â”‚
â”‚   â”‚  â”‚  â€¢ servers_db                â”‚  â”‚                             â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚   â”‚  â”‚  â€¢ nodes_db                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚â”‚
â”‚   â”‚  â”‚  â€¢ tasks_db                  â”‚                                                               â”‚â”‚
â”‚   â”‚  â”‚  â€¢ files_db                  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚   â”‚  â”‚  â€¢ mods_db                   â”‚  â”‚         Redis                â”‚  â”‚     Cilium             â”‚ â”‚â”‚
â”‚   â”‚  â”‚  â€¢ notifications_db          â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚ â”‚â”‚
â”‚   â”‚  â”‚  â€¢ firewall_db               â”‚  â”‚  â€¢ Session tokens           â”‚  â”‚  â€¢ CNI                 â”‚ â”‚â”‚
â”‚   â”‚  â”‚  â€¢ secrets_db                â”‚  â”‚  â€¢ Rate limiting            â”‚  â”‚  â€¢ Service mesh        â”‚ â”‚â”‚
â”‚   â”‚  â”‚                              â”‚  â”‚  â€¢ Server status cache      â”‚  â”‚  â€¢ Pod-to-pod mTLS     â”‚ â”‚â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â€¢ Distributed locks        â”‚  â”‚  â€¢ Network policies    â”‚ â”‚â”‚
â”‚   â”‚                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚   â”‚                                                                                                  â”‚â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚
â”‚   â”‚  â”‚                              INTERNAL OBSERVABILITY                                       â”‚   â”‚â”‚
â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚   â”‚â”‚
â”‚   â”‚  â”‚  â”‚  Prometheus  â”‚â”€â”€â”€â–ºâ”‚   Grafana    â”‚    â”‚     Loki     â”‚                                â”‚   â”‚â”‚
â”‚   â”‚  â”‚  â”‚  (metrics)   â”‚    â”‚ (dashboards) â”‚â—„â”€â”€â”€â”‚    (logs)    â”‚                                â”‚   â”‚â”‚
â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚   â”‚â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â”‚
â”‚   â”‚                                                                                                  â”‚â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                â”‚                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚   â”‚                                    DOGFOOD AGENTS (Internal)                                     â”‚â”‚
â”‚   â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚â”‚
â”‚   â”‚     â”‚   Agent.Linux       â”‚              â”‚   Agent.Windows     â”‚                                â”‚â”‚
â”‚   â”‚     â”‚   (Internal test)   â”‚              â”‚   (Internal test)   â”‚                                â”‚â”‚
â”‚   â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        </pre>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Control Plane Services (12)</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead>
            <tr class="bg-gray-700 text-white">
                <th class="border border-gray-600 p-2 text-left">Service</th>
                <th class="border border-gray-600 p-2 text-left">Port</th>
                <th class="border border-gray-600 p-2 text-left">Responsibility</th>
            </tr>
        </thead>
        <tbody class="text-gray-300">
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">Identity</td><td class="border border-gray-600 p-2">:5010</td><td class="border border-gray-600 p-2">User authentication, OAuth (Discord/Steam), JWT issuance</td></tr>
            <tr><td class="border border-gray-600 p-2">Billing</td><td class="border border-gray-600 p-2">:5020</td><td class="border border-gray-600 p-2">Subscriptions, payments (Stripe/PayPal), usage tracking</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">Servers</td><td class="border border-gray-600 p-2">:5030</td><td class="border border-gray-600 p-2">Server CRUD, state management, configuration</td></tr>
            <tr><td class="border border-gray-600 p-2">Nodes</td><td class="border border-gray-600 p-2">:5040</td><td class="border border-gray-600 p-2">Agent registration, heartbeat, certificate issuance</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">Tasks</td><td class="border border-gray-600 p-2">:5050</td><td class="border border-gray-600 p-2">Job queue, provisioning, async operations</td></tr>
            <tr><td class="border border-gray-600 p-2">Files</td><td class="border border-gray-600 p-2">:5060</td><td class="border border-gray-600 p-2">File storage, backups, uploads/downloads</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">Console</td><td class="border border-gray-600 p-2">:5070</td><td class="border border-gray-600 p-2">WebSocket console streaming (xterm.js), RCON relay</td></tr>
            <tr><td class="border border-gray-600 p-2">Mods</td><td class="border border-gray-600 p-2">:5080</td><td class="border border-gray-600 p-2">Mod management (Steam Workshop, CurseForge, Modrinth)</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">Notifications</td><td class="border border-gray-600 p-2">:5090</td><td class="border border-gray-600 p-2">Email, push notifications, customer alerts</td></tr>
            <tr><td class="border border-gray-600 p-2">Firewall</td><td class="border border-gray-600 p-2">:5100</td><td class="border border-gray-600 p-2">Port allocation, UniFi API integration</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">Secrets</td><td class="border border-gray-600 p-2">:5110</td><td class="border border-gray-600 p-2">Secret rotation, Azure Key Vault sync</td></tr>
            <tr><td class="border border-gray-600 p-2">Discord</td><td class="border border-gray-600 p-2">:5120</td><td class="border border-gray-600 p-2">Internal team bot (NOT customer-facing)</td></tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Database Architecture</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
        <div class="bg-blue-900/30 border border-blue-700 rounded-lg p-4">
            <p class="text-blue-400 font-semibold mb-2">ğŸ“¦ Platform DB Pod</p>
            <p class="text-gray-300 text-sm mb-2">All microservice databases. NO customer data.</p>
            <ul class="text-gray-400 text-xs space-y-1">
                <li>â€¢ identity_db, billing_db, servers_db</li>
                <li>â€¢ nodes_db, tasks_db, files_db</li>
                <li>â€¢ mods_db, notifications_db</li>
                <li>â€¢ firewall_db, secrets_db</li>
            </ul>
        </div>
        <div class="bg-green-900/30 border border-green-700 rounded-lg p-4">
            <p class="text-green-400 font-semibold mb-2">ğŸ‘¤ User DB Pod</p>
            <p class="text-gray-300 text-sm mb-2">Customer-created databases ONLY.</p>
            <ul class="text-gray-400 text-xs space-y-1">
                <li>â€¢ Game server databases (per customer)</li>
                <li>â€¢ Tenant-specific data</li>
                <li>â€¢ Complete isolation from platform DBs</li>
            </ul>
        </div>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Agent Types</h3>
    <table class="w-full text-sm border-collapse mb-6">
        <thead>
            <tr class="bg-gray-700 text-white">
                <th class="border border-gray-600 p-2 text-left">Type</th>
                <th class="border border-gray-600 p-2 text-left">Location</th>
                <th class="border border-gray-600 p-2 text-left">Network Path</th>
                <th class="border border-gray-600 p-2 text-left">Purpose</th>
            </tr>
        </thead>
        <tbody class="text-gray-300">
            <tr class="bg-gray-800">
                <td class="border border-gray-600 p-2"><strong class="text-orange-400">Customer Agent</strong></td>
                <td class="border border-gray-600 p-2">Internet (anywhere)</td>
                <td class="border border-gray-600 p-2">Internet â†’ Cloudflare â†’ UniFi â†’ Gateway â†’ Services</td>
                <td class="border border-gray-600 p-2">Production customer gameservers</td>
            </tr>
            <tr>
                <td class="border border-gray-600 p-2"><strong class="text-cyan-400">Dogfood Agent</strong></td>
                <td class="border border-gray-600 p-2">Inside colo</td>
                <td class="border border-gray-600 p-2">Internal network â†’ Services (direct)</td>
                <td class="border border-gray-600 p-2">Internal testing, validation</td>
            </tr>
        </tbody>
    </table>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Observability Stack</h3>
    <table class="w-full text-sm border-collapse">
        <thead>
            <tr class="bg-gray-700 text-white">
                <th class="border border-gray-600 p-2 text-left">Layer</th>
                <th class="border border-gray-600 p-2 text-left">Tool</th>
                <th class="border border-gray-600 p-2 text-left">Location</th>
                <th class="border border-gray-600 p-2 text-left">Purpose</th>
            </tr>
        </thead>
        <tbody class="text-gray-300">
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">APM</td><td class="border border-gray-600 p-2">New Relic</td><td class="border border-gray-600 p-2">SaaS (external)</td><td class="border border-gray-600 p-2">Traces, APM, primary dashboards</td></tr>
            <tr><td class="border border-gray-600 p-2">Metrics</td><td class="border border-gray-600 p-2">Prometheus</td><td class="border border-gray-600 p-2">In-cluster</td><td class="border border-gray-600 p-2">Internal metrics scraping</td></tr>
            <tr class="bg-gray-800"><td class="border border-gray-600 p-2">Dashboards</td><td class="border border-gray-600 p-2">Grafana</td><td class="border border-gray-600 p-2">In-cluster</td><td class="border border-gray-600 p-2">Internal visualization</td></tr>
            <tr><td class="border border-gray-600 p-2">Logs</td><td class="border border-gray-600 p-2">Loki</td><td class="border border-gray-600 p-2">In-cluster</td><td class="border border-gray-600 p-2">Log aggregation</td></tr>
        </tbody>
    </table>
</section>

<!-- SECTION 10: NETWORK FLOWS -->
<section id="flows" class="bg-gray-800 rounded-xl p-6 border border-gray-700">
    <h2 class="text-2xl font-bold text-purple-400 mb-6 border-b border-purple-600 pb-2">
        10. Network Flows
    </h2>

    <div class="bg-red-900/30 border border-red-700 rounded-lg p-4 mb-6">
        <p class="text-red-400 font-semibold mb-2">ğŸ”’ Canonical Traffic Manifest</p>
        <p class="text-gray-300 text-sm"><strong class="text-white">Rule:</strong> If it's not documented here, the traffic is NOT allowed. This section serves as the authoritative reference for all network communication.</p>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Network Boundaries</h3>
    <div class="bg-gray-900 border border-gray-600 rounded-lg p-4 mb-6 font-mono text-xs overflow-x-auto">
        <pre class="text-gray-300">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                    INTERNET                                          â”‚
â”‚   â€¢ Customer Node Agents (worldwide)                                                 â”‚
â”‚   â€¢ User Browsers                                                                    â”‚
â”‚   â€¢ External SaaS (Stripe, PayPal, Steam, Discord, etc.)                            â”‚
â”‚   â€¢ New Relic (SaaS telemetry endpoint)                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚       CLOUDFLARE          â”‚
                            â”‚   WAF Â· CDN Â· DDoS Prot   â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                               COLO BOUNDARY (AS396426)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                                          â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚   UniFi Hardware Firewall â”‚
                            â”‚       (UDM Pro)           â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚     K8S CLUSTER           â”‚
                            â”‚  (Cilium service mesh)    â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚    DOGFOOD AGENTS         â”‚
                            â”‚  (Internal testing)       â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        </pre>
    </div>

    <div class="bg-purple-900/30 border border-purple-700 rounded-lg p-4 mb-6">
        <p class="text-purple-400 font-semibold text-lg">Total Documented Flows: 95</p>
    </div>

    <!-- INBOUND FLOWS -->
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">1. Inbound Flows (Internet â†’ Colo) â€” 12 Flows</h3>

    <h4 class="text-lg font-medium text-cyan-400 mb-2">1.1 User Browser Traffic (3 flows)</h4>
    <div class="overflow-x-auto mb-4">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Encryption</th>
                    <th class="border border-gray-600 p-2 text-left">Path</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">IN-001</td><td class="border border-gray-600 p-2">User Browser</td><td class="border border-gray-600 p-2">Web App :5200</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">None (public)</td><td class="border border-gray-600 p-2">TLS 1.3</td><td class="border border-gray-600 p-2">Internet â†’ CF â†’ UniFi â†’ Ingress â†’ Web App</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">IN-002</td><td class="border border-gray-600 p-2">User Browser</td><td class="border border-gray-600 p-2">Gateway :5000</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">JWT Bearer</td><td class="border border-gray-600 p-2">TLS 1.3</td><td class="border border-gray-600 p-2">Internet â†’ CF â†’ UniFi â†’ Ingress â†’ Gateway</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">IN-003</td><td class="border border-gray-600 p-2">User Browser</td><td class="border border-gray-600 p-2">Console :5070</td><td class="border border-gray-600 p-2">WSS 443</td><td class="border border-gray-600 p-2">JWT Bearer</td><td class="border border-gray-600 p-2">TLS 1.3</td><td class="border border-gray-600 p-2">Internet â†’ CF â†’ UniFi â†’ Ingress â†’ GW â†’ Console</td></tr>
            </tbody>
        </table>
    </div>

    <h4 class="text-lg font-medium text-cyan-400 mb-2">1.2 Customer Agent Traffic (4 flows)</h4>
    <div class="overflow-x-auto mb-4">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Encryption</th>
                    <th class="border border-gray-600 p-2 text-left">Path</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">IN-010</td><td class="border border-gray-600 p-2">Customer Agent</td><td class="border border-gray-600 p-2">Nodes :5040</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">One-time Token (15m)</td><td class="border border-gray-600 p-2">TLS 1.3</td><td class="border border-gray-600 p-2">Bootstrap: Internet â†’ CF â†’ UniFi â†’ GW â†’ Nodes</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">IN-011</td><td class="border border-gray-600 p-2">Customer Agent</td><td class="border border-gray-600 p-2">Nodes :5040</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">mTLS Client Cert</td><td class="border border-gray-600 p-2">TLS 1.3+mTLS</td><td class="border border-gray-600 p-2">Registered: Internet â†’ CF â†’ UniFi â†’ GW â†’ Nodes</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">IN-012</td><td class="border border-gray-600 p-2">Customer Agent</td><td class="border border-gray-600 p-2">Console :5070</td><td class="border border-gray-600 p-2">WSS 443</td><td class="border border-gray-600 p-2">mTLS Client Cert</td><td class="border border-gray-600 p-2">TLS 1.3+mTLS</td><td class="border border-gray-600 p-2">Internet â†’ CF â†’ UniFi â†’ GW â†’ Console</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">IN-013</td><td class="border border-gray-600 p-2">Customer Agent</td><td class="border border-gray-600 p-2">Files :5060</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">mTLS Client Cert</td><td class="border border-gray-600 p-2">TLS 1.3+mTLS</td><td class="border border-gray-600 p-2">Internet â†’ CF â†’ UniFi â†’ GW â†’ Files</td></tr>
            </tbody>
        </table>
    </div>

    <h4 class="text-lg font-medium text-cyan-400 mb-2">1.3 External Webhooks (3 flows)</h4>
    <div class="overflow-x-auto mb-4">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Encryption</th>
                    <th class="border border-gray-600 p-2 text-left">Path</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">IN-020</td><td class="border border-gray-600 p-2">Stripe</td><td class="border border-gray-600 p-2">Billing :5020</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">Webhook Signature</td><td class="border border-gray-600 p-2">TLS 1.3</td><td class="border border-gray-600 p-2">Internet â†’ CF â†’ UniFi â†’ GW â†’ Billing</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">IN-021</td><td class="border border-gray-600 p-2">PayPal</td><td class="border border-gray-600 p-2">Billing :5020</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">Webhook Signature</td><td class="border border-gray-600 p-2">TLS 1.3</td><td class="border border-gray-600 p-2">Internet â†’ CF â†’ UniFi â†’ GW â†’ Billing</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">IN-022</td><td class="border border-gray-600 p-2">Discord</td><td class="border border-gray-600 p-2">Discord :5120</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">Webhook Signature</td><td class="border border-gray-600 p-2">TLS 1.3</td><td class="border border-gray-600 p-2">Internet â†’ CF â†’ UniFi â†’ GW â†’ Discord</td></tr>
            </tbody>
        </table>
    </div>

    <h4 class="text-lg font-medium text-cyan-400 mb-2">1.4 OAuth Callbacks (2 flows)</h4>
    <div class="overflow-x-auto mb-6">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Encryption</th>
                    <th class="border border-gray-600 p-2 text-left">Path</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">IN-030</td><td class="border border-gray-600 p-2">Discord OAuth</td><td class="border border-gray-600 p-2">Identity :5010</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">OAuth State Token</td><td class="border border-gray-600 p-2">TLS 1.3</td><td class="border border-gray-600 p-2">Internet â†’ CF â†’ UniFi â†’ GW â†’ Identity</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">IN-031</td><td class="border border-gray-600 p-2">Steam OAuth</td><td class="border border-gray-600 p-2">Identity :5010</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">OAuth State Token</td><td class="border border-gray-600 p-2">TLS 1.3</td><td class="border border-gray-600 p-2">Internet â†’ CF â†’ UniFi â†’ GW â†’ Identity</td></tr>
            </tbody>
        </table>
    </div>


    <!-- OUTBOUND FLOWS -->
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">2. Outbound Flows (Colo â†’ Internet) â€” 18 Flows</h3>

    <h4 class="text-lg font-medium text-cyan-400 mb-2">2.1 Payment Providers (2 flows)</h4>
    <div class="overflow-x-auto mb-4">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Purpose</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">OUT-001</td><td class="border border-gray-600 p-2">Billing :5020</td><td class="border border-gray-600 p-2">Stripe API</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">API Key</td><td class="border border-gray-600 p-2">Payment processing, subscription mgmt</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">OUT-002</td><td class="border border-gray-600 p-2">Billing :5020</td><td class="border border-gray-600 p-2">PayPal API</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">OAuth Client Creds</td><td class="border border-gray-600 p-2">Payment processing</td></tr>
            </tbody>
        </table>
    </div>

    <h4 class="text-lg font-medium text-cyan-400 mb-2">2.2 Auth Providers (2 flows)</h4>
    <div class="overflow-x-auto mb-4">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Purpose</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">OUT-010</td><td class="border border-gray-600 p-2">Identity :5010</td><td class="border border-gray-600 p-2">Discord API</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">OAuth</td><td class="border border-gray-600 p-2">User authentication, token exchange</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">OUT-011</td><td class="border border-gray-600 p-2">Identity :5010</td><td class="border border-gray-600 p-2">Steam API</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">API Key</td><td class="border border-gray-600 p-2">User authentication</td></tr>
            </tbody>
        </table>
    </div>

    <h4 class="text-lg font-medium text-cyan-400 mb-2">2.3 Mod Platforms (3 flows)</h4>
    <div class="overflow-x-auto mb-4">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Purpose</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">OUT-020</td><td class="border border-gray-600 p-2">Mods :5080</td><td class="border border-gray-600 p-2">Steam Workshop API</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">API Key</td><td class="border border-gray-600 p-2">Mod metadata, downloads</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">OUT-021</td><td class="border border-gray-600 p-2">Mods :5080</td><td class="border border-gray-600 p-2">CurseForge API</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">API Key</td><td class="border border-gray-600 p-2">Mod metadata, downloads</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">OUT-022</td><td class="border border-gray-600 p-2">Mods :5080</td><td class="border border-gray-600 p-2">Modrinth API</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">API Key</td><td class="border border-gray-600 p-2">Mod metadata, downloads</td></tr>
            </tbody>
        </table>
    </div>

    <h4 class="text-lg font-medium text-cyan-400 mb-2">2.4 Notifications (3 flows)</h4>
    <div class="overflow-x-auto mb-4">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Purpose</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">OUT-030</td><td class="border border-gray-600 p-2">Notifications :5090</td><td class="border border-gray-600 p-2">SMTP Provider</td><td class="border border-gray-600 p-2">SMTPS 465</td><td class="border border-gray-600 p-2">SMTP Auth</td><td class="border border-gray-600 p-2">Transactional email</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">OUT-031</td><td class="border border-gray-600 p-2">Discord :5120</td><td class="border border-gray-600 p-2">Discord API</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">Bot Token</td><td class="border border-gray-600 p-2">Bot messages (internal team only)</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">OUT-032</td><td class="border border-gray-600 p-2">Notifications :5090</td><td class="border border-gray-600 p-2">Push Service</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">API Key</td><td class="border border-gray-600 p-2">Mobile push notifications</td></tr>
            </tbody>
        </table>
    </div>

    <h4 class="text-lg font-medium text-cyan-400 mb-2">2.5 Certificate Management (4 flows)</h4>
    <div class="overflow-x-auto mb-4">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Purpose</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">OUT-040</td><td class="border border-gray-600 p-2">cert-manager</td><td class="border border-gray-600 p-2">Let's Encrypt ACME</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">ACME Account Key</td><td class="border border-gray-600 p-2">Certificate issuance (ingress)</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">OUT-041</td><td class="border border-gray-600 p-2">cert-manager</td><td class="border border-gray-600 p-2">Cloudflare API</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">API Token</td><td class="border border-gray-600 p-2">DNS-01 challenge (programmatic)</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">OUT-042</td><td class="border border-gray-600 p-2">Nodes :5040</td><td class="border border-gray-600 p-2">Let's Encrypt ACME</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">ACME Account Key</td><td class="border border-gray-600 p-2">Agent certificate issuance</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">OUT-043</td><td class="border border-gray-600 p-2">Nodes :5040</td><td class="border border-gray-600 p-2">Cloudflare API</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">API Token</td><td class="border border-gray-600 p-2">DNS-01 challenge (agent certs)</td></tr>
            </tbody>
        </table>
    </div>

    <h4 class="text-lg font-medium text-cyan-400 mb-2">2.6 Observability (2 flows)</h4>
    <div class="overflow-x-auto mb-4">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Purpose</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">OUT-050</td><td class="border border-gray-600 p-2">All Services</td><td class="border border-gray-600 p-2">New Relic</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">License Key</td><td class="border border-gray-600 p-2">APM, traces, metrics, logs</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">OUT-051</td><td class="border border-gray-600 p-2">Prometheus</td><td class="border border-gray-600 p-2">New Relic (optional)</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">API Key</td><td class="border border-gray-600 p-2">Metric forwarding</td></tr>
            </tbody>
        </table>
    </div>

    <h4 class="text-lg font-medium text-cyan-400 mb-2">2.7 Secrets (2 flows)</h4>
    <div class="overflow-x-auto mb-6">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Purpose</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">OUT-060</td><td class="border border-gray-600 p-2">Secrets :5110</td><td class="border border-gray-600 p-2">Azure Key Vault</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">Managed Identity</td><td class="border border-gray-600 p-2">Secret storage, rotation</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">OUT-061</td><td class="border border-gray-600 p-2">CSI Driver</td><td class="border border-gray-600 p-2">Azure Key Vault</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">Managed Identity</td><td class="border border-gray-600 p-2">Secret retrieval for pod mount</td></tr>
            </tbody>
        </table>
    </div>


    <!-- SERVICE-TO-SERVICE: Gateway â†’ Control Plane -->
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">3. Service-to-Service: Gateway â†’ Control Plane â€” 12 Flows</h3>
    <div class="bg-blue-900/20 border border-blue-800 rounded-lg p-3 mb-4">
        <p class="text-blue-300 text-sm">All internal traffic encrypted via Cilium service mesh mTLS.</p>
    </div>
    <div class="overflow-x-auto mb-6">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Purpose</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">SVC-001</td><td class="border border-gray-600 p-2">Gateway :5000</td><td class="border border-gray-600 p-2">Identity :5010</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Auth validation, user lookup</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">SVC-002</td><td class="border border-gray-600 p-2">Gateway :5000</td><td class="border border-gray-600 p-2">Billing :5020</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Subscription status</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">SVC-003</td><td class="border border-gray-600 p-2">Gateway :5000</td><td class="border border-gray-600 p-2">Servers :5030</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Server CRUD operations</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">SVC-004</td><td class="border border-gray-600 p-2">Gateway :5000</td><td class="border border-gray-600 p-2">Nodes :5040</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Agent management</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">SVC-005</td><td class="border border-gray-600 p-2">Gateway :5000</td><td class="border border-gray-600 p-2">Tasks :5050</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Job status</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">SVC-006</td><td class="border border-gray-600 p-2">Gateway :5000</td><td class="border border-gray-600 p-2">Files :5060</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">File operations</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">SVC-007</td><td class="border border-gray-600 p-2">Gateway :5000</td><td class="border border-gray-600 p-2">Console :5070</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">WebSocket proxy</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">SVC-008</td><td class="border border-gray-600 p-2">Gateway :5000</td><td class="border border-gray-600 p-2">Mods :5080</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Mod queries</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">SVC-009</td><td class="border border-gray-600 p-2">Gateway :5000</td><td class="border border-gray-600 p-2">Notifications :5090</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Notification triggers</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">SVC-010</td><td class="border border-gray-600 p-2">Gateway :5000</td><td class="border border-gray-600 p-2">Firewall :5100</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Firewall status</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">SVC-011</td><td class="border border-gray-600 p-2">Gateway :5000</td><td class="border border-gray-600 p-2">Secrets :5110</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Secret retrieval</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">SVC-012</td><td class="border border-gray-600 p-2">Gateway :5000</td><td class="border border-gray-600 p-2">Discord :5120</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Discord operations</td></tr>
            </tbody>
        </table>
    </div>

    <!-- SERVICE-TO-SERVICE: Cross-Service -->
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">4. Service-to-Service: Cross-Service â€” 13 Flows</h3>
    <div class="overflow-x-auto mb-6">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Purpose</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">SVC-020</td><td class="border border-gray-600 p-2">Servers :5030</td><td class="border border-gray-600 p-2">Nodes :5040</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Node assignment</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">SVC-021</td><td class="border border-gray-600 p-2">Servers :5030</td><td class="border border-gray-600 p-2">Firewall :5100</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Port allocation request</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">SVC-022</td><td class="border border-gray-600 p-2">Billing :5020</td><td class="border border-gray-600 p-2">Servers :5030</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Subscription â†’ server status sync</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">SVC-023</td><td class="border border-gray-600 p-2">Billing :5020</td><td class="border border-gray-600 p-2">Notifications :5090</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Payment notifications</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">SVC-024</td><td class="border border-gray-600 p-2">Nodes :5040</td><td class="border border-gray-600 p-2">Console :5070</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Agent console relay</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">SVC-025</td><td class="border border-gray-600 p-2">Tasks :5050</td><td class="border border-gray-600 p-2">Nodes :5040</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Task execution on agents</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">SVC-026</td><td class="border border-gray-600 p-2">Tasks :5050</td><td class="border border-gray-600 p-2">Servers :5030</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Server state updates</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">SVC-027</td><td class="border border-gray-600 p-2">Tasks :5050</td><td class="border border-gray-600 p-2">Notifications :5090</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Task completion notifications</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">SVC-028</td><td class="border border-gray-600 p-2">Mods :5080</td><td class="border border-gray-600 p-2">Files :5060</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Mod file storage</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">SVC-029</td><td class="border border-gray-600 p-2">Discord :5120</td><td class="border border-gray-600 p-2">Servers :5030</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Discord cmd â†’ server action</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">SVC-030</td><td class="border border-gray-600 p-2">Identity :5010</td><td class="border border-gray-600 p-2">Notifications :5090</td><td class="border border-gray-600 p-2">HTTP/2</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Welcome emails, pw resets</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">SVC-031</td><td class="border border-gray-600 p-2">Console :5070</td><td class="border border-gray-600 p-2">Customer Agent</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">mTLS Client Cert</td><td class="border border-gray-600 p-2">RCON command relay (via Gateway)</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">SVC-032</td><td class="border border-gray-600 p-2">Console :5070</td><td class="border border-gray-600 p-2">Dogfood Agent</td><td class="border border-gray-600 p-2">HTTP/2 Dyn</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">RCON command relay (direct internal)</td></tr>
            </tbody>
        </table>
    </div>
    <div class="bg-yellow-900/20 border border-yellow-700 rounded-lg p-3 mb-6">
        <p class="text-yellow-300 text-sm"><strong>Note:</strong> SVC-031 and SVC-032 are Console-initiated RCON commands to agents. This is separate from Agent-initiated console streaming flows (AGT-005, DOG-005). RCON allows the Console service to send commands TO the gameserver via the agent.</p>
    </div>


    <!-- INFRASTRUCTURE: PostgreSQL Platform DB -->
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">5. Infrastructure: PostgreSQL â€” Platform DB Pod â€” 10 Flows</h3>
    <div class="bg-blue-900/20 border border-blue-800 rounded-lg p-3 mb-4">
        <p class="text-blue-300 text-sm">Platform DB Pod hosts ALL microservice databases. NO customer data here.</p>
    </div>
    <div class="overflow-x-auto mb-6">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Database</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">DB-001</td><td class="border border-gray-600 p-2">Identity :5010</td><td class="border border-gray-600 p-2">Platform DB Pod</td><td class="border border-gray-600 p-2">PGSQL 5432</td><td class="border border-gray-600 p-2">Cilium mTLS + Creds</td><td class="border border-gray-600 p-2">identity_db</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">DB-002</td><td class="border border-gray-600 p-2">Billing :5020</td><td class="border border-gray-600 p-2">Platform DB Pod</td><td class="border border-gray-600 p-2">PGSQL 5432</td><td class="border border-gray-600 p-2">Cilium mTLS + Creds</td><td class="border border-gray-600 p-2">billing_db</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">DB-003</td><td class="border border-gray-600 p-2">Servers :5030</td><td class="border border-gray-600 p-2">Platform DB Pod</td><td class="border border-gray-600 p-2">PGSQL 5432</td><td class="border border-gray-600 p-2">Cilium mTLS + Creds</td><td class="border border-gray-600 p-2">servers_db</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">DB-004</td><td class="border border-gray-600 p-2">Nodes :5040</td><td class="border border-gray-600 p-2">Platform DB Pod</td><td class="border border-gray-600 p-2">PGSQL 5432</td><td class="border border-gray-600 p-2">Cilium mTLS + Creds</td><td class="border border-gray-600 p-2">nodes_db</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">DB-005</td><td class="border border-gray-600 p-2">Tasks :5050</td><td class="border border-gray-600 p-2">Platform DB Pod</td><td class="border border-gray-600 p-2">PGSQL 5432</td><td class="border border-gray-600 p-2">Cilium mTLS + Creds</td><td class="border border-gray-600 p-2">tasks_db</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">DB-006</td><td class="border border-gray-600 p-2">Files :5060</td><td class="border border-gray-600 p-2">Platform DB Pod</td><td class="border border-gray-600 p-2">PGSQL 5432</td><td class="border border-gray-600 p-2">Cilium mTLS + Creds</td><td class="border border-gray-600 p-2">files_db</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">DB-007</td><td class="border border-gray-600 p-2">Mods :5080</td><td class="border border-gray-600 p-2">Platform DB Pod</td><td class="border border-gray-600 p-2">PGSQL 5432</td><td class="border border-gray-600 p-2">Cilium mTLS + Creds</td><td class="border border-gray-600 p-2">mods_db</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">DB-008</td><td class="border border-gray-600 p-2">Notifications :5090</td><td class="border border-gray-600 p-2">Platform DB Pod</td><td class="border border-gray-600 p-2">PGSQL 5432</td><td class="border border-gray-600 p-2">Cilium mTLS + Creds</td><td class="border border-gray-600 p-2">notifications_db</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">DB-009</td><td class="border border-gray-600 p-2">Firewall :5100</td><td class="border border-gray-600 p-2">Platform DB Pod</td><td class="border border-gray-600 p-2">PGSQL 5432</td><td class="border border-gray-600 p-2">Cilium mTLS + Creds</td><td class="border border-gray-600 p-2">firewall_db</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">DB-010</td><td class="border border-gray-600 p-2">Secrets :5110</td><td class="border border-gray-600 p-2">Platform DB Pod</td><td class="border border-gray-600 p-2">PGSQL 5432</td><td class="border border-gray-600 p-2">Cilium mTLS + Creds</td><td class="border border-gray-600 p-2">secrets_db</td></tr>
            </tbody>
        </table>
    </div>

    <!-- INFRASTRUCTURE: PostgreSQL User DB -->
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">6. Infrastructure: PostgreSQL â€” User DB Pod â€” 1 Flow</h3>
    <div class="bg-green-900/20 border border-green-800 rounded-lg p-3 mb-4">
        <p class="text-green-300 text-sm">User DB Pod hosts ONLY customer-created gameserver databases. NO SaaS microservice DBs.</p>
    </div>
    <div class="overflow-x-auto mb-6">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Purpose</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">DB-020</td><td class="border border-gray-600 p-2">Customer Gameservers</td><td class="border border-gray-600 p-2">User DB Pod</td><td class="border border-gray-600 p-2">PGSQL 5432</td><td class="border border-gray-600 p-2">Game Credentials</td><td class="border border-gray-600 p-2">Customer-created game databases</td></tr>
            </tbody>
        </table>
    </div>

    <!-- INFRASTRUCTURE: RabbitMQ -->
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">7. Infrastructure: RabbitMQ â€” 2 Flows</h3>
    <div class="overflow-x-auto mb-4">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Purpose</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">RMQ-001</td><td class="border border-gray-600 p-2">All Services</td><td class="border border-gray-600 p-2">RabbitMQ</td><td class="border border-gray-600 p-2">AMQP 5672</td><td class="border border-gray-600 p-2">Cilium mTLS + Creds</td><td class="border border-gray-600 p-2">Event publishing</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">RMQ-002</td><td class="border border-gray-600 p-2">RabbitMQ</td><td class="border border-gray-600 p-2">All Services</td><td class="border border-gray-600 p-2">AMQP 5672</td><td class="border border-gray-600 p-2">Cilium mTLS + Creds</td><td class="border border-gray-600 p-2">Event consumption</td></tr>
            </tbody>
        </table>
    </div>

    <h4 class="text-lg font-medium text-cyan-400 mb-2">Key Event Flows</h4>
    <div class="overflow-x-auto mb-6">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Event</th>
                    <th class="border border-gray-600 p-2 text-left">Publisher</th>
                    <th class="border border-gray-600 p-2 text-left">Subscribers</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">server.created</td><td class="border border-gray-600 p-2">Servers</td><td class="border border-gray-600 p-2">Tasks, Nodes, Firewall, Notifications</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">server.provisioned</td><td class="border border-gray-600 p-2">Tasks</td><td class="border border-gray-600 p-2">Servers, Firewall, Notifications</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">server.deleted</td><td class="border border-gray-600 p-2">Servers</td><td class="border border-gray-600 p-2">Tasks, Nodes, Firewall, Files</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">payment.succeeded</td><td class="border border-gray-600 p-2">Billing</td><td class="border border-gray-600 p-2">Servers, Notifications</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">payment.failed</td><td class="border border-gray-600 p-2">Billing</td><td class="border border-gray-600 p-2">Servers, Notifications</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">agent.registered</td><td class="border border-gray-600 p-2">Nodes</td><td class="border border-gray-600 p-2">Tasks, Servers</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">agent.heartbeat</td><td class="border border-gray-600 p-2">Nodes</td><td class="border border-gray-600 p-2">Servers (status)</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">cert.renewed</td><td class="border border-gray-600 p-2">Nodes</td><td class="border border-gray-600 p-2">(logging only)</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">secret.rotated</td><td class="border border-gray-600 p-2">Secrets</td><td class="border border-gray-600 p-2">(affected services reload)</td></tr>
            </tbody>
        </table>
    </div>

    <!-- INFRASTRUCTURE: Redis -->
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">8. Infrastructure: Redis â€” 4 Flows</h3>
    <div class="overflow-x-auto mb-6">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Purpose</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">REDIS-001</td><td class="border border-gray-600 p-2">Identity :5010</td><td class="border border-gray-600 p-2">Redis</td><td class="border border-gray-600 p-2">Redis 6379</td><td class="border border-gray-600 p-2">Cilium mTLS + Auth</td><td class="border border-gray-600 p-2">Session tokens, JWT blacklist</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">REDIS-002</td><td class="border border-gray-600 p-2">Gateway :5000</td><td class="border border-gray-600 p-2">Redis</td><td class="border border-gray-600 p-2">Redis 6379</td><td class="border border-gray-600 p-2">Cilium mTLS + Auth</td><td class="border border-gray-600 p-2">Rate limiting counters</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">REDIS-003</td><td class="border border-gray-600 p-2">Servers :5030</td><td class="border border-gray-600 p-2">Redis</td><td class="border border-gray-600 p-2">Redis 6379</td><td class="border border-gray-600 p-2">Cilium mTLS + Auth</td><td class="border border-gray-600 p-2">Server status cache</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">REDIS-004</td><td class="border border-gray-600 p-2">Tasks :5050</td><td class="border border-gray-600 p-2">Redis</td><td class="border border-gray-600 p-2">Redis 6379</td><td class="border border-gray-600 p-2">Cilium mTLS + Auth</td><td class="border border-gray-600 p-2">Job queue, distributed locks</td></tr>
            </tbody>
        </table>
    </div>

    <!-- INFRASTRUCTURE: Observability -->
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">9. Infrastructure: Internal Observability â€” 4 Flows</h3>
    <div class="overflow-x-auto mb-6">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Purpose</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">OBS-001</td><td class="border border-gray-600 p-2">All Services</td><td class="border border-gray-600 p-2">Prometheus</td><td class="border border-gray-600 p-2">HTTP 9090</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Metrics scraping</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">OBS-002</td><td class="border border-gray-600 p-2">All Services</td><td class="border border-gray-600 p-2">Loki</td><td class="border border-gray-600 p-2">HTTP 3100</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Log aggregation</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">OBS-003</td><td class="border border-gray-600 p-2">Prometheus</td><td class="border border-gray-600 p-2">Grafana</td><td class="border border-gray-600 p-2">HTTP 3000</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Dashboard queries</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">OBS-004</td><td class="border border-gray-600 p-2">Loki</td><td class="border border-gray-600 p-2">Grafana</td><td class="border border-gray-600 p-2">HTTP 3000</td><td class="border border-gray-600 p-2">Cilium mTLS</td><td class="border border-gray-600 p-2">Log queries</td></tr>
            </tbody>
        </table>
    </div>


    <!-- AGENT: Customer -->
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">10. Agent: Customer (Internet â†’ Colo) â€” 8 Flows</h3>
    <div class="overflow-x-auto mb-6">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Purpose</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">AGT-001</td><td class="border border-gray-600 p-2">Customer Agent</td><td class="border border-gray-600 p-2">GW â†’ Nodes</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">One-time Token (15m)</td><td class="border border-gray-600 p-2">Bootstrap registration</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">AGT-002</td><td class="border border-gray-600 p-2">Nodes</td><td class="border border-gray-600 p-2">Customer Agent</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">One-time Token</td><td class="border border-gray-600 p-2">Push client cert</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">AGT-003</td><td class="border border-gray-600 p-2">Customer Agent</td><td class="border border-gray-600 p-2">GW â†’ Nodes</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">mTLS Client Cert</td><td class="border border-gray-600 p-2">Heartbeat</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">AGT-004</td><td class="border border-gray-600 p-2">Nodes â†’ Tasks</td><td class="border border-gray-600 p-2">Customer Agent</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">mTLS Client Cert</td><td class="border border-gray-600 p-2">Command execution</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">AGT-005</td><td class="border border-gray-600 p-2">Customer Agent</td><td class="border border-gray-600 p-2">GW â†’ Console</td><td class="border border-gray-600 p-2">WSS 443</td><td class="border border-gray-600 p-2">mTLS Client Cert</td><td class="border border-gray-600 p-2">Live console (agent â†’ console streaming)</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">AGT-006</td><td class="border border-gray-600 p-2">Customer Agent</td><td class="border border-gray-600 p-2">GW â†’ Files</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">mTLS Client Cert</td><td class="border border-gray-600 p-2">File upload</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">AGT-007</td><td class="border border-gray-600 p-2">Customer Agent</td><td class="border border-gray-600 p-2">GW â†’ Files</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">mTLS Client Cert</td><td class="border border-gray-600 p-2">File download</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">AGT-008</td><td class="border border-gray-600 p-2">Nodes</td><td class="border border-gray-600 p-2">Customer Agent</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">mTLS Client Cert</td><td class="border border-gray-600 p-2">Cert renewal push</td></tr>
            </tbody>
        </table>
    </div>

    <!-- AGENT: Dogfood -->
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">11. Agent: Dogfood (Internal Only) â€” 8 Flows</h3>
    <div class="overflow-x-auto mb-4">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Purpose</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">DOG-001</td><td class="border border-gray-600 p-2">Dogfood Agent</td><td class="border border-gray-600 p-2">Nodes :5040</td><td class="border border-gray-600 p-2">HTTPS 5040</td><td class="border border-gray-600 p-2">One-time Token (15m)</td><td class="border border-gray-600 p-2">Bootstrap registration</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">DOG-002</td><td class="border border-gray-600 p-2">Nodes</td><td class="border border-gray-600 p-2">Dogfood Agent</td><td class="border border-gray-600 p-2">HTTPS Dyn</td><td class="border border-gray-600 p-2">One-time Token</td><td class="border border-gray-600 p-2">Push client cert</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">DOG-003</td><td class="border border-gray-600 p-2">Dogfood Agent</td><td class="border border-gray-600 p-2">Nodes :5040</td><td class="border border-gray-600 p-2">HTTPS 5040</td><td class="border border-gray-600 p-2">mTLS Client Cert</td><td class="border border-gray-600 p-2">Heartbeat</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">DOG-004</td><td class="border border-gray-600 p-2">Nodes â†’ Tasks</td><td class="border border-gray-600 p-2">Dogfood Agent</td><td class="border border-gray-600 p-2">HTTPS Dyn</td><td class="border border-gray-600 p-2">mTLS Client Cert</td><td class="border border-gray-600 p-2">Command execution</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">DOG-005</td><td class="border border-gray-600 p-2">Dogfood Agent</td><td class="border border-gray-600 p-2">Console :5070</td><td class="border border-gray-600 p-2">WSS 5070</td><td class="border border-gray-600 p-2">mTLS Client Cert</td><td class="border border-gray-600 p-2">Live console (agent â†’ console streaming)</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">DOG-006</td><td class="border border-gray-600 p-2">Dogfood Agent</td><td class="border border-gray-600 p-2">Files :5060</td><td class="border border-gray-600 p-2">HTTPS 5060</td><td class="border border-gray-600 p-2">mTLS Client Cert</td><td class="border border-gray-600 p-2">File upload</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">DOG-007</td><td class="border border-gray-600 p-2">Dogfood Agent</td><td class="border border-gray-600 p-2">Files :5060</td><td class="border border-gray-600 p-2">HTTPS 5060</td><td class="border border-gray-600 p-2">mTLS Client Cert</td><td class="border border-gray-600 p-2">File download</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">DOG-008</td><td class="border border-gray-600 p-2">Nodes</td><td class="border border-gray-600 p-2">Dogfood Agent</td><td class="border border-gray-600 p-2">HTTPS Dyn</td><td class="border border-gray-600 p-2">mTLS Client Cert</td><td class="border border-gray-600 p-2">Cert renewal push</td></tr>
            </tbody>
        </table>
    </div>
    <div class="bg-cyan-900/20 border border-cyan-700 rounded-lg p-3 mb-6">
        <p class="text-cyan-300 text-sm"><strong>Key Difference:</strong> Customer agents route through Internet â†’ Cloudflare â†’ UniFi â†’ Gateway â†’ Service. Dogfood agents connect directly to services on the internal network (never leave colo).</p>
    </div>

    <!-- FIREWALL: UniFi -->
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">12. Firewall: UniFi Integration â€” 2 Flows</h3>
    <div class="overflow-x-auto mb-6">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Purpose</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">FW-001</td><td class="border border-gray-600 p-2">Firewall :5100</td><td class="border border-gray-600 p-2">UniFi Controller</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">API Credentials</td><td class="border border-gray-600 p-2">Create/delete port forward rules</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono">FW-002</td><td class="border border-gray-600 p-2">Firewall :5100</td><td class="border border-gray-600 p-2">UniFi Controller</td><td class="border border-gray-600 p-2">HTTPS 443</td><td class="border border-gray-600 p-2">API Credentials</td><td class="border border-gray-600 p-2">Query current rules</td></tr>
            </tbody>
        </table>
    </div>

    <!-- GAME: Player Traffic -->
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">13. Game: Player Traffic â€” 1 Flow</h3>
    <div class="overflow-x-auto mb-6">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Flow ID</th>
                    <th class="border border-gray-600 p-2 text-left">Source</th>
                    <th class="border border-gray-600 p-2 text-left">Destination</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Auth</th>
                    <th class="border border-gray-600 p-2 text-left">Purpose</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono">GAME-001</td><td class="border border-gray-600 p-2">Game Players</td><td class="border border-gray-600 p-2">UniFi â†’ Agent</td><td class="border border-gray-600 p-2">UDP/TCP Dyn</td><td class="border border-gray-600 p-2">Game Protocol</td><td class="border border-gray-600 p-2">Minecraft, Space Engineers, Satisfactory, etc.</td></tr>
            </tbody>
        </table>
    </div>

    <!-- Discord Service Clarification -->
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">14. Discord Service Clarification</h3>
    <div class="bg-purple-900/30 border border-purple-700 rounded-lg p-4 mb-6">
        <p class="text-purple-400 font-semibold mb-2">ğŸ¤– Discord :5120 is Meridian Console's internal team bot ONLY</p>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-3">
            <div>
                <p class="text-green-400 font-medium mb-1">âœ… Used for:</p>
                <ul class="text-gray-300 text-sm space-y-1">
                    <li>â€¢ Deployment notifications to team Discord</li>
                    <li>â€¢ Alert notifications (system health, errors)</li>
                    <li>â€¢ Status updates</li>
                    <li>â€¢ Admin commands from team Discord server</li>
                </ul>
            </div>
            <div>
                <p class="text-red-400 font-medium mb-1">âŒ NOT used for:</p>
                <ul class="text-gray-300 text-sm space-y-1">
                    <li>â€¢ Customer Discord integrations</li>
                    <li>â€¢ Bot hosting for customers</li>
                    <li>â€¢ Customer server notifications</li>
                </ul>
            </div>
        </div>
        <p class="text-gray-400 text-xs mt-3 italic">Customer Discord notifications route through Notifications :5090 â†’ customer's webhook.</p>
    </div>

    <!-- Explicitly Denied Traffic -->
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">15. Explicitly Denied Traffic</h3>
    <div class="bg-red-900/30 border border-red-700 rounded-lg p-4 mb-6">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-red-900/50 text-white">
                    <th class="border border-red-700 p-2 text-left">Denied Flow</th>
                    <th class="border border-red-700 p-2 text-left">Reason</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr><td class="border border-red-800 p-2">Internet â†’ PostgreSQL</td><td class="border border-red-800 p-2">Must go through services</td></tr>
                <tr><td class="border border-red-800 p-2">Internet â†’ RabbitMQ</td><td class="border border-red-800 p-2">Internal only</td></tr>
                <tr><td class="border border-red-800 p-2">Internet â†’ Redis</td><td class="border border-red-800 p-2">Internal only</td></tr>
                <tr><td class="border border-red-800 p-2">Agent â†’ Agent</td><td class="border border-red-800 p-2">All agent traffic routes through control plane</td></tr>
                <tr><td class="border border-red-800 p-2">Services â†’ Internet (unlisted)</td><td class="border border-red-800 p-2">Must use approved integrations</td></tr>
                <tr><td class="border border-red-800 p-2">Any unencrypted traffic</td><td class="border border-red-800 p-2">All traffic must be TLS or Cilium mTLS</td></tr>
            </tbody>
        </table>
    </div>

    <!-- Flow Count Summary -->
    <h3 class="text-xl font-semibold text-indigo-400 mb-3">Flow Count Summary</h3>
    <div class="overflow-x-auto">
        <table class="w-full text-sm border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Category</th>
                    <th class="border border-gray-600 p-2 text-right">Count</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2">Inbound (Internet â†’ Colo)</td><td class="border border-gray-600 p-2 text-right">12</td></tr>
                <tr><td class="border border-gray-600 p-2">Outbound (Colo â†’ Internet)</td><td class="border border-gray-600 p-2 text-right">18</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2">Service-to-Service (Gateway â†’ Services)</td><td class="border border-gray-600 p-2 text-right">12</td></tr>
                <tr><td class="border border-gray-600 p-2">Service-to-Service (Cross-Service + RCON)</td><td class="border border-gray-600 p-2 text-right">13</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2">PostgreSQL - Platform DB</td><td class="border border-gray-600 p-2 text-right">10</td></tr>
                <tr><td class="border border-gray-600 p-2">PostgreSQL - User DB</td><td class="border border-gray-600 p-2 text-right">1</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2">RabbitMQ</td><td class="border border-gray-600 p-2 text-right">2</td></tr>
                <tr><td class="border border-gray-600 p-2">Redis</td><td class="border border-gray-600 p-2 text-right">4</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2">Internal Observability</td><td class="border border-gray-600 p-2 text-right">4</td></tr>
                <tr><td class="border border-gray-600 p-2">Customer Agent</td><td class="border border-gray-600 p-2 text-right">8</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2">Dogfood Agent</td><td class="border border-gray-600 p-2 text-right">8</td></tr>
                <tr><td class="border border-gray-600 p-2">Firewall Integration</td><td class="border border-gray-600 p-2 text-right">2</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2">Game Player Traffic</td><td class="border border-gray-600 p-2 text-right">1</td></tr>
                <tr class="bg-purple-900/50 font-bold"><td class="border border-purple-600 p-2 text-purple-300">TOTAL</td><td class="border border-purple-600 p-2 text-right text-purple-300">95</td></tr>
            </tbody>
        </table>
    </div>
</section>

<!-- SECTION 11: SERVICE COMMUNICATION MATRIX -->
<section id="matrix" class="bg-gray-800 rounded-xl p-6 border border-indigo-700">
    <h2 class="text-2xl font-bold text-purple-400 mb-6 border-b border-purple-600 pb-2">
        11. Service Communication Matrix
    </h2>
    
    <div class="bg-blue-900/30 border border-blue-700 rounded-lg p-4 mb-6">
        <p class="text-blue-400 font-semibold mb-2">ğŸ“‹ Note</p>
        <p class="text-gray-300 text-sm">This matrix is a visual summary of Section 10's canonical traffic manifest. For complete flow details including ports, authentication methods, and encryption layers, see Section 10.</p>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">11.1 Legend</h3>
    <div class="overflow-x-auto mb-6">
        <table class="w-full text-sm border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Symbol</th>
                    <th class="border border-gray-600 p-2 text-left">Meaning</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono font-bold text-green-400">HTTPS</td><td class="border border-gray-600 p-2">HTTP/2 over Cilium mTLS (internal) or TLS 1.3 (edge)</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono font-bold text-green-400">WSS</td><td class="border border-gray-600 p-2">WebSocket Secure</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono font-bold text-purple-400">RMQ</td><td class="border border-gray-600 p-2">RabbitMQ (AMQP over Cilium mTLS)</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono font-bold text-red-400">mTLS</td><td class="border border-gray-600 p-2">Direct mTLS client certificate authentication</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono font-bold text-yellow-400">PGSQL</td><td class="border border-gray-600 p-2">PostgreSQL over Cilium mTLS</td></tr>
                <tr><td class="border border-gray-600 p-2 font-mono font-bold text-blue-400">REDIS</td><td class="border border-gray-600 p-2">Redis protocol over Cilium mTLS</td></tr>
                <tr class="bg-gray-800"><td class="border border-gray-600 p-2 font-mono text-gray-500">-</td><td class="border border-gray-600 p-2">No direct communication (denied by default)</td></tr>
            </tbody>
        </table>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">11.2 Service-to-Service Communication Matrix</h3>
    <div class="overflow-x-auto mb-6">
        <table class="w-full text-xs border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left min-w-[120px]">FROM \ TO</th>
                    <th class="border border-gray-600 p-1 text-center">Gateway</th>
                    <th class="border border-gray-600 p-1 text-center">Identity</th>
                    <th class="border border-gray-600 p-1 text-center">Billing</th>
                    <th class="border border-gray-600 p-1 text-center">Servers</th>
                    <th class="border border-gray-600 p-1 text-center">Nodes</th>
                    <th class="border border-gray-600 p-1 text-center">Tasks</th>
                    <th class="border border-gray-600 p-1 text-center">Files</th>
                    <th class="border border-gray-600 p-1 text-center">Console</th>
                    <th class="border border-gray-600 p-1 text-center">Mods</th>
                    <th class="border border-gray-600 p-1 text-center">Notif</th>
                    <th class="border border-gray-600 p-1 text-center">Firewall</th>
                    <th class="border border-gray-600 p-1 text-center">Secrets</th>
                    <th class="border border-gray-600 p-1 text-center">Discord</th>
                    <th class="border border-gray-600 p-1 text-center">PlatDB</th>
                    <th class="border border-gray-600 p-1 text-center">UserDB</th>
                    <th class="border border-gray-600 p-1 text-center">RMQ</th>
                    <th class="border border-gray-600 p-1 text-center">Redis</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr>
                    <td class="border border-gray-600 p-2 font-semibold text-white bg-gray-700">Client (Browser)</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">WSS</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                </tr>
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2 font-semibold text-white bg-gray-700">Gateway :5000</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">WSS</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-blue-900/40 text-blue-400 font-mono">REDIS</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2 font-semibold text-white bg-gray-700">Identity :5010</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-yellow-900/40 text-yellow-400 font-mono">PGSQL</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-purple-900/40 text-purple-400 font-mono">RMQ</td>
                    <td class="border border-gray-600 p-1 text-center bg-blue-900/40 text-blue-400 font-mono">REDIS</td>
                </tr>
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2 font-semibold text-white bg-gray-700">Billing :5020</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-yellow-900/40 text-yellow-400 font-mono">PGSQL</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-purple-900/40 text-purple-400 font-mono">RMQ</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2 font-semibold text-white bg-gray-700">Servers :5030</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-yellow-900/40 text-yellow-400 font-mono">PGSQL</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-purple-900/40 text-purple-400 font-mono">RMQ</td>
                    <td class="border border-gray-600 p-1 text-center bg-blue-900/40 text-blue-400 font-mono">REDIS</td>
                </tr>
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2 font-semibold text-white bg-gray-700">Nodes :5040</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-yellow-900/40 text-yellow-400 font-mono">PGSQL</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-purple-900/40 text-purple-400 font-mono">RMQ</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2 font-semibold text-white bg-gray-700">Tasks :5050</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-yellow-900/40 text-yellow-400 font-mono">PGSQL</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-purple-900/40 text-purple-400 font-mono">RMQ</td>
                    <td class="border border-gray-600 p-1 text-center bg-blue-900/40 text-blue-400 font-mono">REDIS</td>
                </tr>
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2 font-semibold text-white bg-gray-700">Files :5060</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-yellow-900/40 text-yellow-400 font-mono">PGSQL</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-purple-900/40 text-purple-400 font-mono">RMQ</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2 font-semibold text-white bg-gray-700">Console :5070</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-purple-900/40 text-purple-400 font-mono">RMQ</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                </tr>
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2 font-semibold text-white bg-gray-700">Mods :5080</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-yellow-900/40 text-yellow-400 font-mono">PGSQL</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-purple-900/40 text-purple-400 font-mono">RMQ</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2 font-semibold text-white bg-gray-700">Notifications :5090</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-yellow-900/40 text-yellow-400 font-mono">PGSQL</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-purple-900/40 text-purple-400 font-mono">RMQ</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                </tr>
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2 font-semibold text-white bg-gray-700">Firewall :5100</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-yellow-900/40 text-yellow-400 font-mono">PGSQL</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-purple-900/40 text-purple-400 font-mono">RMQ</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2 font-semibold text-white bg-gray-700">Secrets :5110</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-yellow-900/40 text-yellow-400 font-mono">PGSQL</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                </tr>
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2 font-semibold text-white bg-gray-700">Discord :5120</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-green-900/40 text-green-400 font-mono">HTTPS</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-yellow-900/40 text-yellow-400 font-mono">PGSQL</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-purple-900/40 text-purple-400 font-mono">RMQ</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2 font-semibold text-white bg-gray-700">Node Agent</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-red-900/40 text-red-400 font-mono">mTLS</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center bg-red-900/40 text-red-400 font-mono">mTLS</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                    <td class="border border-gray-600 p-1 text-center text-gray-600">-</td>
                </tr>
            </tbody>
        </table>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">11.3 External Service Dependencies</h3>
    <div class="overflow-x-auto mb-6">
        <table class="w-full text-sm border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Service</th>
                    <th class="border border-gray-600 p-2 text-left">External Dependency</th>
                    <th class="border border-gray-600 p-2 text-left">Protocol</th>
                    <th class="border border-gray-600 p-2 text-left">Purpose</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2">Identity</td>
                    <td class="border border-gray-600 p-2">Azure AD / Entra ID</td>
                    <td class="border border-gray-600 p-2 font-mono text-green-400">HTTPS</td>
                    <td class="border border-gray-600 p-2">OAuth2 / OIDC authentication</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2">Identity</td>
                    <td class="border border-gray-600 p-2">Discord OAuth</td>
                    <td class="border border-gray-600 p-2 font-mono text-green-400">HTTPS</td>
                    <td class="border border-gray-600 p-2">Social login</td>
                </tr>
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2">Billing</td>
                    <td class="border border-gray-600 p-2">Stripe API</td>
                    <td class="border border-gray-600 p-2 font-mono text-green-400">HTTPS</td>
                    <td class="border border-gray-600 p-2">Payment processing</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2">Notifications</td>
                    <td class="border border-gray-600 p-2">SendGrid / Mailgun</td>
                    <td class="border border-gray-600 p-2 font-mono text-green-400">HTTPS</td>
                    <td class="border border-gray-600 p-2">Transactional email</td>
                </tr>
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2">Discord</td>
                    <td class="border border-gray-600 p-2">Discord API</td>
                    <td class="border border-gray-600 p-2 font-mono text-green-400">HTTPS/WSS</td>
                    <td class="border border-gray-600 p-2">Bot integration</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2">Mods</td>
                    <td class="border border-gray-600 p-2">CurseForge API</td>
                    <td class="border border-gray-600 p-2 font-mono text-green-400">HTTPS</td>
                    <td class="border border-gray-600 p-2">Mod metadata/downloads</td>
                </tr>
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2">Mods</td>
                    <td class="border border-gray-600 p-2">Modrinth API</td>
                    <td class="border border-gray-600 p-2 font-mono text-green-400">HTTPS</td>
                    <td class="border border-gray-600 p-2">Mod metadata/downloads</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2">Secrets</td>
                    <td class="border border-gray-600 p-2">Azure Key Vault</td>
                    <td class="border border-gray-600 p-2 font-mono text-green-400">HTTPS</td>
                    <td class="border border-gray-600 p-2">Secret retrieval</td>
                </tr>
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2">All Services</td>
                    <td class="border border-gray-600 p-2">Azure Container Registry</td>
                    <td class="border border-gray-600 p-2 font-mono text-green-400">HTTPS</td>
                    <td class="border border-gray-600 p-2">Container image pull</td>
                </tr>
            </tbody>
        </table>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">11.4 Key Observations</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="bg-green-900/20 border border-green-700 rounded-lg p-4">
            <h4 class="text-green-400 font-semibold mb-2">âœ… Zero-Trust Architecture</h4>
            <ul class="text-gray-300 text-sm space-y-1">
                <li>â€¢ All internal traffic encrypted via Cilium mTLS</li>
                <li>â€¢ No service-to-service communication without explicit policy</li>
                <li>â€¢ Gateway is the only external entry point</li>
            </ul>
        </div>
        <div class="bg-purple-900/20 border border-purple-700 rounded-lg p-4">
            <h4 class="text-purple-400 font-semibold mb-2">ğŸ° RabbitMQ as Event Backbone</h4>
            <ul class="text-gray-300 text-sm space-y-1">
                <li>â€¢ 10 services publish/consume via RabbitMQ</li>
                <li>â€¢ Decouples services for async workflows</li>
                <li>â€¢ Dead letter queues for failed message handling</li>
            </ul>
        </div>
        <div class="bg-yellow-900/20 border border-yellow-700 rounded-lg p-4">
            <h4 class="text-yellow-400 font-semibold mb-2">ğŸ—„ï¸ Database Isolation</h4>
            <ul class="text-gray-300 text-sm space-y-1">
                <li>â€¢ PlatformDB: shared platform state (servers, billing, etc.)</li>
                <li>â€¢ UserDB: user-specific data (isolated for compliance)</li>
                <li>â€¢ No cross-database queries; services own their data</li>
            </ul>
        </div>
        <div class="bg-blue-900/20 border border-blue-700 rounded-lg p-4">
            <h4 class="text-blue-400 font-semibold mb-2">âš¡ Redis for Hot Data</h4>
            <ul class="text-gray-300 text-sm space-y-1">
                <li>â€¢ Gateway: rate limiting, session cache</li>
                <li>â€¢ Identity: token blacklist, session store</li>
                <li>â€¢ Tasks: job queue state, distributed locks</li>
                <li>â€¢ Servers: real-time status cache</li>
            </ul>
        </div>
    </div>
</section>

<!-- SECTION 12: RABBITMQ TOPOLOGY -->
<section id="rabbitmq" class="bg-gray-800 rounded-xl p-6 border border-gray-700">
    <h2 class="text-2xl font-bold text-purple-400 mb-6 border-b border-purple-600 pb-2">
        12. RabbitMQ Topology
    </h2>
    
    <div class="bg-blue-900/30 border border-blue-700 rounded-lg p-4 mb-6">
        <p class="text-blue-400 font-semibold mb-2">ğŸ“‹ Message Bus Architecture</p>
        <p class="text-gray-300 text-sm">RabbitMQ serves as the central event backbone for asynchronous, event-driven communication between services. All queues, exchanges, and bindings are declared programmatically via .NET client libraries during service startup.</p>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">12.1 Exchange Strategy</h3>
    <div class="overflow-x-auto mb-6">
        <table class="w-full text-sm border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Exchange Name</th>
                    <th class="border border-gray-600 p-2 text-left">Type</th>
                    <th class="border border-gray-600 p-2 text-left">Purpose</th>
                    <th class="border border-gray-600 p-2 text-left">Routing Pattern</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2 font-mono text-purple-400">meridian.events</td>
                    <td class="border border-gray-600 p-2 font-mono">topic</td>
                    <td class="border border-gray-600 p-2">Platform-wide domain events</td>
                    <td class="border border-gray-600 p-2 font-mono text-sm">{domain}.{entity}.{action}</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2 font-mono text-purple-400">meridian.commands</td>
                    <td class="border border-gray-600 p-2 font-mono">direct</td>
                    <td class="border border-gray-600 p-2">Command messages requiring single consumer</td>
                    <td class="border border-gray-600 p-2 font-mono text-sm">{service}.{command}</td>
                </tr>
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2 font-mono text-purple-400">meridian.notifications</td>
                    <td class="border border-gray-600 p-2 font-mono">fanout</td>
                    <td class="border border-gray-600 p-2">Broadcast notifications to all subscribers</td>
                    <td class="border border-gray-600 p-2 font-mono text-sm">(no routing key)</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2 font-mono text-purple-400">meridian.dlx</td>
                    <td class="border border-gray-600 p-2 font-mono">topic</td>
                    <td class="border border-gray-600 p-2">Dead-letter exchange for failed messages</td>
                    <td class="border border-gray-600 p-2 font-mono text-sm">{original.routing.key}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">12.2 Queue Naming Convention</h3>
    <div class="bg-gray-700 rounded-lg p-4 mb-6">
        <p class="text-gray-300 mb-3">All queues follow the pattern:</p>
        <div class="bg-gray-900 rounded p-3 font-mono text-sm text-green-400 mb-3">
            {service-name}.{queue-purpose}[.{optional-discriminator}]
        </div>
        <p class="text-gray-400 text-sm mb-2"><strong class="text-white">Examples:</strong></p>
        <ul class="text-gray-300 text-sm space-y-1 list-disc list-inside">
            <li><span class="font-mono text-purple-400">servers.state-sync</span> â€” Server state change events</li>
            <li><span class="font-mono text-purple-400">billing.invoice-created</span> â€” New invoice notifications</li>
            <li><span class="font-mono text-purple-400">tasks.backup-requested</span> â€” Backup job commands</li>
            <li><span class="font-mono text-purple-400">notifications.email-outbound</span> â€” Email delivery queue</li>
        </ul>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">12.3 Publishers & Consumers</h3>
    <div class="overflow-x-auto mb-6">
        <table class="w-full text-sm border-collapse">
            <thead>
                <tr class="bg-gray-700 text-white">
                    <th class="border border-gray-600 p-2 text-left">Queue Name</th>
                    <th class="border border-gray-600 p-2 text-left">Publisher(s)</th>
                    <th class="border border-gray-600 p-2 text-left">Consumer(s)</th>
                    <th class="border border-gray-600 p-2 text-left">Message Type</th>
                </tr>
            </thead>
            <tbody class="text-gray-300">
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2 font-mono text-purple-400">servers.state-sync</td>
                    <td class="border border-gray-600 p-2">Servers, Nodes</td>
                    <td class="border border-gray-600 p-2">Console, Notifications</td>
                    <td class="border border-gray-600 p-2 text-sm">ServerStateChanged</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2 font-mono text-purple-400">billing.invoice-created</td>
                    <td class="border border-gray-600 p-2">Billing</td>
                    <td class="border border-gray-600 p-2">Notifications</td>
                    <td class="border border-gray-600 p-2 text-sm">InvoiceGenerated</td>
                </tr>
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2 font-mono text-purple-400">billing.payment-received</td>
                    <td class="border border-gray-600 p-2">Billing</td>
                    <td class="border border-gray-600 p-2">Servers, Notifications</td>
                    <td class="border border-gray-600 p-2 text-sm">PaymentProcessed</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2 font-mono text-purple-400">identity.user-registered</td>
                    <td class="border border-gray-600 p-2">Identity</td>
                    <td class="border border-gray-600 p-2">Billing, Notifications</td>
                    <td class="border border-gray-600 p-2 text-sm">UserCreated</td>
                </tr>
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2 font-mono text-purple-400">tasks.backup-requested</td>
                    <td class="border border-gray-600 p-2">Gateway, Servers</td>
                    <td class="border border-gray-600 p-2">Tasks</td>
                    <td class="border border-gray-600 p-2 text-sm">BackupCommand</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2 font-mono text-purple-400">tasks.restore-requested</td>
                    <td class="border border-gray-600 p-2">Gateway, Servers</td>
                    <td class="border border-gray-600 p-2">Tasks</td>
                    <td class="border border-gray-600 p-2 text-sm">RestoreCommand</td>
                </tr>
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2 font-mono text-purple-400">tasks.update-requested</td>
                    <td class="border border-gray-600 p-2">Gateway, Servers</td>
                    <td class="border border-gray-600 p-2">Tasks</td>
                    <td class="border border-gray-600 p-2 text-sm">UpdateCommand</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2 font-mono text-purple-400">tasks.job-completed</td>
                    <td class="border border-gray-600 p-2">Tasks</td>
                    <td class="border border-gray-600 p-2">Servers, Notifications</td>
                    <td class="border border-gray-600 p-2 text-sm">JobFinished</td>
                </tr>
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2 font-mono text-purple-400">files.upload-complete</td>
                    <td class="border border-gray-600 p-2">Files</td>
                    <td class="border border-gray-600 p-2">Mods, Servers</td>
                    <td class="border border-gray-600 p-2 text-sm">FileUploaded</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2 font-mono text-purple-400">mods.catalog-updated</td>
                    <td class="border border-gray-600 p-2">Mods</td>
                    <td class="border border-gray-600 p-2">Servers, Notifications</td>
                    <td class="border border-gray-600 p-2 text-sm">ModCatalogRefreshed</td>
                </tr>
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2 font-mono text-purple-400">console.stream-events</td>
                    <td class="border border-gray-600 p-2">Nodes</td>
                    <td class="border border-gray-600 p-2">Console</td>
                    <td class="border border-gray-600 p-2 text-sm">ConsoleOutput</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2 font-mono text-purple-400">notifications.email-outbound</td>
                    <td class="border border-gray-600 p-2">Identity, Billing, Tasks</td>
                    <td class="border border-gray-600 p-2">Notifications</td>
                    <td class="border border-gray-600 p-2 text-sm">EmailRequest</td>
                </tr>
                <tr class="bg-gray-800">
                    <td class="border border-gray-600 p-2 font-mono text-purple-400">notifications.webhook-outbound</td>
                    <td class="border border-gray-600 p-2">Servers, Billing, Tasks</td>
                    <td class="border border-gray-600 p-2">Notifications</td>
                    <td class="border border-gray-600 p-2 text-sm">WebhookDelivery</td>
                </tr>
                <tr>
                    <td class="border border-gray-600 p-2 font-mono text-purple-400">firewall.rule-sync</td>
                    <td class="border border-gray-600 p-2">Firewall</td>
                    <td class="border border-gray-600 p-2">Nodes</td>
                    <td class="border border-gray-600 p-2 text-sm">FirewallRuleUpdated</td>
                </tr>
            </tbody>
        </table>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">12.4 Dead Letter Queue (DLQ) Strategy</h3>
    <div class="bg-orange-900/30 border border-orange-700 rounded-lg p-4 mb-6">
        <p class="text-orange-400 font-semibold mb-2">âš ï¸ Failure Handling</p>
        <p class="text-gray-300 text-sm mb-3">All application queues are configured with:</p>
        <ul class="text-gray-300 text-sm space-y-1 list-disc list-inside">
            <li><strong>x-message-ttl:</strong> 86400000 (24 hours)</li>
            <li><strong>x-dead-letter-exchange:</strong> meridian.dlx</li>
            <li><strong>x-dead-letter-routing-key:</strong> dlq.{original-queue-name}</li>
            <li><strong>Retry policy:</strong> 3 attempts with exponential backoff (1s, 5s, 15s)</li>
        </ul>
    </div>

    <div class="bg-gray-700 rounded-lg p-4 mb-6">
        <p class="text-gray-300 text-sm mb-2"><strong class="text-white">DLQ Monitoring:</strong></p>
        <p class="text-gray-400 text-sm">Messages entering the DLX trigger alerts in Notifications service. Platform admins receive digest emails for DLQ depth > 10 messages.</p>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">12.5 Message Flow Examples</h3>
    
    <h4 class="text-lg font-semibold text-indigo-300 mb-2">Example 1: Server Creation Flow</h4>
    <div class="bg-gray-900 rounded-lg p-4 mb-4 font-mono text-xs text-gray-300 overflow-x-auto">
        <div class="mb-1"><span class="text-blue-400">1.</span> User creates server via Gateway</div>
        <div class="mb-1 ml-4"><span class="text-green-400">â†’</span> Gateway â†’ Servers (HTTPS): POST /api/servers</div>
        <div class="mb-1"><span class="text-blue-400">2.</span> Servers service creates DB record</div>
        <div class="mb-1 ml-4"><span class="text-green-400">â†’</span> Servers â†’ Platform DB (PostgreSQL): INSERT</div>
        <div class="mb-1"><span class="text-blue-400">3.</span> Servers publishes event</div>
        <div class="mb-1 ml-4"><span class="text-purple-400">â†’</span> Servers â†’ RabbitMQ: servers.state-sync (ServerCreated)</div>
        <div class="mb-1"><span class="text-blue-400">4.</span> Multiple consumers react:</div>
        <div class="mb-1 ml-4"><span class="text-yellow-400">â†’</span> Console: Subscribe to live updates</div>
        <div class="mb-1 ml-4"><span class="text-yellow-400">â†’</span> Notifications: Send "Server Ready" email</div>
        <div class="mb-1 ml-4"><span class="text-yellow-400">â†’</span> Billing: Record billable resource creation</div>
    </div>

    <h4 class="text-lg font-semibold text-indigo-300 mb-2">Example 2: Backup Job Flow</h4>
    <div class="bg-gray-900 rounded-lg p-4 mb-4 font-mono text-xs text-gray-300 overflow-x-auto">
        <div class="mb-1"><span class="text-blue-400">1.</span> User requests backup via Gateway</div>
        <div class="mb-1 ml-4"><span class="text-green-400">â†’</span> Gateway â†’ Tasks (HTTPS): POST /api/tasks/backup</div>
        <div class="mb-1"><span class="text-blue-400">2.</span> Gateway publishes command</div>
        <div class="mb-1 ml-4"><span class="text-purple-400">â†’</span> Gateway â†’ RabbitMQ: tasks.backup-requested (BackupCommand)</div>
        <div class="mb-1"><span class="text-blue-400">3.</span> Tasks consumer picks up work</div>
        <div class="mb-1 ml-4"><span class="text-yellow-400">â†’</span> Tasks: Dequeue message, execute backup logic</div>
        <div class="mb-1"><span class="text-blue-400">4.</span> Tasks uploads backup file</div>
        <div class="mb-1 ml-4"><span class="text-green-400">â†’</span> Tasks â†’ Files (HTTPS): POST /api/files/upload</div>
        <div class="mb-1"><span class="text-blue-400">5.</span> Tasks publishes completion event</div>
        <div class="mb-1 ml-4"><span class="text-purple-400">â†’</span> Tasks â†’ RabbitMQ: tasks.job-completed (JobFinished)</div>
        <div class="mb-1"><span class="text-blue-400">6.</span> Notifications sends confirmation email</div>
        <div class="mb-1 ml-4"><span class="text-yellow-400">â†’</span> Notifications: Dequeue, send email via SMTP</div>
    </div>

    <h4 class="text-lg font-semibold text-indigo-300 mb-2">Example 3: Payment Processing Flow</h4>
    <div class="bg-gray-900 rounded-lg p-4 mb-6 font-mono text-xs text-gray-300 overflow-x-auto">
        <div class="mb-1"><span class="text-blue-400">1.</span> Stripe webhook hits Gateway</div>
        <div class="mb-1 ml-4"><span class="text-green-400">â†’</span> Gateway â†’ Billing (HTTPS): POST /api/billing/webhook</div>
        <div class="mb-1"><span class="text-blue-400">2.</span> Billing validates and records payment</div>
        <div class="mb-1 ml-4"><span class="text-green-400">â†’</span> Billing â†’ Platform DB (PostgreSQL): UPDATE invoices</div>
        <div class="mb-1"><span class="text-blue-400">3.</span> Billing publishes event</div>
        <div class="mb-1 ml-4"><span class="text-purple-400">â†’</span> Billing â†’ RabbitMQ: billing.payment-received (PaymentProcessed)</div>
        <div class="mb-1"><span class="text-blue-400">4.</span> Multiple consumers react:</div>
        <div class="mb-1 ml-4"><span class="text-yellow-400">â†’</span> Servers: Resume suspended servers</div>
        <div class="mb-1 ml-4"><span class="text-yellow-400">â†’</span> Notifications: Send payment receipt email</div>
        <div class="mb-1 ml-4"><span class="text-yellow-400">â†’</span> Billing: Update credit balance</div>
    </div>

    <h3 class="text-xl font-semibold text-indigo-400 mb-3">12.6 Configuration</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
        <div class="bg-gray-700 rounded-lg p-4">
            <p class="text-white font-semibold mb-2">Connection Pooling</p>
            <ul class="text-gray-300 text-sm space-y-1">
                <li>â€¢ Max channels per connection: 50</li>
                <li>â€¢ Connection timeout: 30s</li>
                <li>â€¢ Heartbeat interval: 60s</li>
                <li>â€¢ Auto-recovery enabled</li>
            </ul>
        </div>
        <div class="bg-gray-700 rounded-lg p-4">
            <p class="text-white font-semibold mb-2">Quality of Service</p>
            <ul class="text-gray-300 text-sm space-y-1">
                <li>â€¢ Prefetch count: 10</li>
                <li>â€¢ Manual acknowledgments</li>
                <li>â€¢ Persistent messages (delivery mode 2)</li>
                <li>â€¢ Publisher confirms enabled</li>
            </ul>
        </div>
    </div>

    <div class="bg-green-900/30 border border-green-700 rounded-lg p-4">
        <p class="text-green-400 font-semibold mb-2">âœ… Key Principles</p>
        <ul class="text-gray-300 text-sm space-y-1 list-disc list-inside">
            <li><strong>Idempotency:</strong> All message handlers are idempotent to handle duplicate delivery</li>
            <li><strong>Schema Versioning:</strong> Message types include version field for backward compatibility</li>
            <li><strong>Observability:</strong> All publishes/consumes logged with correlation IDs</li>
            <li><strong>Security:</strong> AMQP traffic encrypted via Cilium mTLS, vhost isolation per environment</li>
        </ul>
    </div>
</section>

<!-- SECTION 13: Services -->
<section id="services" class="bg-gray-800 rounded-xl p-6 border border-indigo-700">
    <h2 class="text-2xl font-bold text-purple-400 mb-6 border-b border-purple-600 pb-2">
        13. Interactive Dependency Visual
    </h2>
    <p class="text-gray-400 text-sm mb-6">Hover over services for quick info â€¢ Click for complete documentation</p>

    <!-- Legend -->
    <div class="bg-gray-900 rounded-lg p-5 border border-gray-700 mb-6">
        <h3 class="text-lg font-semibold text-white mb-3">Architecture Layers</h3>
        <div class="grid grid-cols-2 md:grid-cols-5 gap-3 text-sm">
            <div class="flex items-center gap-2"><div class="w-4 h-4 bg-blue-600 rounded"></div><span class="text-gray-300">Foundation</span></div>
            <div class="flex items-center gap-2"><div class="w-4 h-4 bg-red-600 rounded"></div><span class="text-gray-300">External APIs</span></div>
            <div class="flex items-center gap-2"><div class="w-4 h-4 bg-yellow-600 rounded"></div><span class="text-gray-300">Core Services</span></div>
            <div class="flex items-center gap-2"><div class="w-4 h-4 bg-purple-600 rounded"></div><span class="text-gray-300">Business Logic</span></div>
            <div class="flex items-center gap-2"><div class="w-4 h-4 bg-green-600 rounded"></div><span class="text-gray-300">Presentation</span></div>
        </div>
    </div>

    <!-- Service Layers (populated by JavaScript) -->
    <div id="service-layers" class="bg-gray-900 rounded-lg p-5 border border-gray-700 mb-6"></div>

    <!-- Critical Dependencies Warning -->
    <div class="bg-red-900/30 rounded-lg p-5 border border-red-800 mb-6">
        <h3 class="text-xl font-bold text-red-400 mb-3">âš ï¸ Critical Infrastructure Dependencies</h3>
        <p class="text-gray-400 mb-4">The following services are single points of failure:</p>
        
        <div class="space-y-3">
            <div class="bg-gray-900 rounded-lg p-4">
                <div class="font-semibold text-red-300 mb-2">ğŸ—„ï¸ PostgreSQL (11/14 services depend on it)</div>
                <div class="text-sm text-gray-400"><strong>Impact if down:</strong> Identity, Nodes, Secrets, Billing, Servers, Tasks, Files, Mods, Notifications, Firewall, Discord all fail</div>
                <div class="text-sm text-gray-400 mt-1"><strong>Mitigation:</strong> Automated backups every 6 hours, read replicas, point-in-time recovery</div>
            </div>
            <div class="bg-gray-900 rounded-lg p-4">
                <div class="font-semibold text-red-300 mb-2">ğŸ“¬ RabbitMQ (9/14 services depend on it)</div>
                <div class="text-sm text-gray-400"><strong>Impact if down:</strong> Asynchronous operations halt, no event-driven communication, task queue stops</div>
                <div class="text-sm text-gray-400 mt-1"><strong>Mitigation:</strong> Durable queues, dead letter exchanges, message persistence</div>
            </div>
            <div class="bg-gray-900 rounded-lg p-4">
                <div class="font-semibold text-yellow-300 mb-2">ğŸ–¥ï¸ Nodes (7/17 services depend on it)</div>
                <div class="text-sm text-gray-400"><strong>Impact if down:</strong> Cannot provision new servers, certificate management fails, agents disconnect</div>
                <div class="text-sm text-gray-400 mt-1"><strong>Mitigation:</strong> Health checks, alerting, cached DNS records</div>
            </div>
        </div>
    </div>

</section>

<!-- Tooltip Container -->
<div id="tooltip-services" class="tooltip-services"></div>

<!-- Modal -->
<div id="modal-services" class="modal-services">
    <div class="modal-content-services">
        <div class="sticky top-0 bg-gray-800 p-6 border-b border-gray-700 flex justify-between items-center rounded-t-xl">
            <h3 id="modal-title-services" class="text-2xl font-bold text-white"></h3>
            <button onclick="closeServicesModal()" class="text-gray-400 hover:text-white text-3xl leading-none">&times;</button>
        </div>
        <div id="modal-body-services" class="p-6"></div>
    </div>
</div>

<style>
.service-node {
    transition: all 0.3s ease;
    cursor: pointer;
    position: relative;
}
.service-node:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(0,0,0,0.5);
}
.tooltip-services {
    position: fixed;
    background: rgba(17, 24, 39, 0.98);
    border: 2px solid #3b82f6;
    border-radius: 0.5rem;
    padding: 1rem;
    z-index: 1000;
    min-width: 350px;
    max-width: 450px;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.2s;
    box-shadow: 0 8px 32px rgba(0,0,0,0.6);
}
.tooltip-services.visible {
    opacity: 1;
}
.modal-services {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.85);
    z-index: 2000;
    overflow-y: auto;
}
.modal-services.active {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
}
.modal-content-services {
    background: #1f2937;
    border-radius: 0.75rem;
    max-width: 900px;
    width: 100%;
    max-height: 90vh;
    overflow-y: auto;
    position: relative;
    border: 1px solid #374151;
}
</style>

<script>
const servicesData = {
    foundation: [
        {name:"PostgreSQL",emoji:"ğŸ—„ï¸",port:null,description:"Primary relational database for all persistent storage needs",responsibilities:["User accounts and authentication data","Game server configurations and metadata","Billing records and subscription data","Task queue state and history","File metadata and permissions","Mod registry and version tracking","Notification templates and delivery logs","Firewall rules and IP whitelist/blacklist","Discord integration mappings"],dependencies:[],dependents:["Identity","Nodes","Secrets","Billing","Servers","Tasks","Files","Mods","Notifications","Firewall","Discord"],endpoints:["Connection pooling via PgBouncer","Read replicas for query optimization","Automated backups every 6 hours","Point-in-time recovery capability"]},
        {name:"RabbitMQ",emoji:"ğŸ“¬",port:null,description:"Message broker for asynchronous communication and event-driven architecture",responsibilities:["Task queue management for long-running operations","Event publishing/subscription between services","Server lifecycle notifications (start, stop, crash)","Billing event streams (payment processed, subscription renewed)","Notification delivery orchestration","Discord webhook event routing"],dependencies:[],dependents:["Identity","Gateway","Secrets","Billing","Servers","Tasks","Notifications","Firewall","Discord"],endpoints:["AMQP protocol on port 5672","Management UI on port 15672","Durable queues for critical messages","Dead letter exchange for failed messages"]},
        {name:"Redis",emoji:"âš¡",port:null,description:"In-memory cache and session store for high-performance data access",responsibilities:["Session token storage and validation","Rate limiting counters per user/IP","Real-time server status caching","Task queue temporary state","API response caching (5-60 second TTL)"],dependencies:[],dependents:["Nodes","Tasks"],endpoints:["Redis protocol on port 6379","Persistence via RDB snapshots + AOF","Master-replica setup for HA","Pub/sub for real-time updates"]},
        {name:"Cloudflare",emoji:"ğŸŒ",port:null,description:"DNS management and CDN for domain routing and DDoS protection",responsibilities:["DNS record management for *.meridianconsole.com","ACME DNS-01 challenge responses for Let's Encrypt","DDoS protection and WAF rules","CDN for static assets"],dependencies:[],dependents:["Nodes"],endpoints:["Cloudflare API v4","Programmatic DNS updates","Webhook notifications for zone changes"]}
    ],
    external: [
        {name:"Let's Encrypt",emoji:"ğŸ”’",port:null,description:"Automated SSL/TLS certificate provisioning via ACME protocol",responsibilities:["Issue wildcard certificates for *.meridianconsole.com","90-day certificate lifecycle management","Automated renewal via DNS-01 challenges"],dependencies:[],dependents:["Nodes"],endpoints:["ACME v2 API","DNS-01 challenge via Cloudflare"]},
        {name:"UniFi Controller",emoji:"ğŸŒ",port:null,description:"Network equipment management for dynamic firewall rules",responsibilities:["Apply firewall rules to UniFi Dream Machine","Port forwarding configuration for game servers","Network topology visibility"],dependencies:[],dependents:["Firewall"],endpoints:["UniFi Controller API","SSH for direct rule application"]},
        {name:"Stripe",emoji:"ğŸ’°",port:null,description:"Primary payment processor for credit cards and subscriptions",responsibilities:["Process credit card payments","Manage subscription billing cycles","Handle refunds and disputes","PCI compliance"],dependencies:[],dependents:["Billing"],endpoints:["Stripe API v1","Webhook events for payment updates"]},
        {name:"PayPal",emoji:"ğŸ’µ",port:null,description:"Alternative payment processor for PayPal accounts",responsibilities:["Process PayPal payments","Handle PayPal subscriptions","IPN (Instant Payment Notification) handling"],dependencies:[],dependents:["Billing"],endpoints:["PayPal REST API","IPN endpoint for payment notifications"]}
    ],
    core: [
        {name:"Identity",emoji:"ğŸ”",port:5010,description:"Centralized authentication and authorization service using OAuth 2.0 and OpenID Connect",responsibilities:["User registration and login (email/password, OAuth)","JWT token issuance and validation","Role-based access control (RBAC)","API key management for service-to-service auth","Password reset and email verification"],dependencies:["PostgreSQL","RabbitMQ"],dependents:["Gateway","Billing","Servers","Web UI"],endpoints:["POST /auth/register - User registration","POST /auth/login - User authentication","POST /auth/refresh - Token refresh","GET /auth/validate - Token validation","POST /auth/logout - Session termination"]},
        {name:"Gateway",emoji:"ğŸšª",port:5000,description:"API Gateway providing unified entry point, rate limiting, and request routing",responsibilities:["Route requests to appropriate microservices","Enforce rate limits per user/IP","JWT validation on all protected routes","Request/response logging and metrics","Circuit breaker pattern for failing services"],dependencies:["Identity","RabbitMQ"],dependents:["Web UI"],endpoints:["/* - Routes all API traffic","/health - Gateway health check","/metrics - Prometheus metrics"]},
        {name:"Nodes",emoji:"ğŸ–¥ï¸",port:5040,description:"Physical server lifecycle management and workload orchestration",responsibilities:["Track server hardware inventory and status","Monitor resource utilization (CPU, RAM, disk)","Provision SSL certificates via Let's Encrypt","Manage DNS records via Cloudflare API","Coordinate with Windows/Linux agents for provisioning","Health checks and alerting for hardware failures"],dependencies:["PostgreSQL","Redis","Let's Encrypt","Cloudflare"],dependents:["Secrets","Servers","Files","Console","Firewall","Windows Agent","Linux Agent"],endpoints:["GET /nodes - List all nodes","GET /nodes/:id - Node details","POST /nodes/:id/provision - Provision certificates","GET /nodes/:id/metrics - Resource metrics"]},
        {name:"Secrets",emoji:"ğŸ—ï¸",port:5110,description:"Secure secret storage and rotation for sensitive credentials",responsibilities:["Store encrypted database passwords","Manage API keys for external services","Rotate secrets on configurable schedules","Audit logging for secret access","Provide secrets to authorized services only"],dependencies:["PostgreSQL","RabbitMQ","Nodes"],dependents:[],endpoints:["GET /secrets/:key - Retrieve secret","POST /secrets - Store new secret","PUT /secrets/:key/rotate - Force rotation","GET /secrets/audit - Access audit logs"]}
    ],
    business: [
        {name:"Billing",emoji:"ğŸ’³",port:5020,description:"Payment processing and subscription management",responsibilities:["Process payments via Stripe and PayPal","Manage subscription plans (Free, Basic, Pro, Enterprise)","Handle upgrades, downgrades, and cancellations","Generate invoices and receipts","Track usage for metered billing"],dependencies:["PostgreSQL","RabbitMQ","Identity","Stripe","PayPal"],dependents:["Web UI"],endpoints:["POST /billing/subscribe - Create subscription","POST /billing/upgrade - Upgrade plan","POST /billing/cancel - Cancel subscription","GET /billing/invoices - List invoices"]},
        {name:"Servers",emoji:"ğŸ®",port:5030,description:"Game server lifecycle management and orchestration",responsibilities:["Create, start, stop, and delete game servers","Assign servers to physical nodes","Manage server configurations and save files","Monitor server status and player counts","Schedule automated backups and restarts"],dependencies:["PostgreSQL","RabbitMQ","Nodes","Identity"],dependents:["Console","Discord","Web UI"],endpoints:["POST /servers - Create server","POST /servers/:id/start - Start server","POST /servers/:id/stop - Stop server","GET /servers/:id/status - Server status","POST /servers/:id/backup - Create backup"]},
        {name:"Tasks",emoji:"ğŸ“‹",port:5050,description:"Background job queue and long-running task management",responsibilities:["Process server installation jobs","Handle file uploads and downloads","Execute scheduled maintenance tasks","Retry failed jobs with exponential backoff","Track job status and progress"],dependencies:["PostgreSQL","RabbitMQ","Redis"],dependents:[],endpoints:["POST /tasks - Queue new task","GET /tasks/:id - Task status","POST /tasks/:id/cancel - Cancel task","GET /tasks/queue - Queue depth metrics"]},
        {name:"Files",emoji:"ğŸ“",port:5060,description:"File storage and transfer orchestration",responsibilities:["Manage server configuration files","Handle save file uploads/downloads","Coordinate file transfers between nodes","Enforce storage quotas per user","Generate pre-signed URLs for direct uploads"],dependencies:["PostgreSQL","Nodes"],dependents:["Mods"],endpoints:["GET /files/:serverId - List files","POST /files/:serverId/upload - Upload file","GET /files/:serverId/download/:path - Download file","DELETE /files/:serverId/:path - Delete file"]},
        {name:"Console",emoji:"ğŸ’»",port:5070,description:"Real-time server console access and RCON command execution",responsibilities:["WebSocket connections for live console output","Execute RCON commands on game servers","Stream logs to connected clients","Support multiple concurrent console sessions","Buffer last 1000 lines of console output"],dependencies:["Servers","Nodes"],dependents:[],endpoints:["WS /console/:serverId - WebSocket connection","POST /console/:serverId/command - Execute RCON command","GET /console/:serverId/history - Recent console output"]},
        {name:"Mods",emoji:"ğŸ§©",port:5080,description:"Mod installation and version management",responsibilities:["Browse mod repositories (CurseForge, Steam Workshop)","Install and update mods on game servers","Manage mod dependencies and conflicts","Track mod versions and changelogs","Sync mod lists across server clusters"],dependencies:["PostgreSQL","Files"],dependents:[],endpoints:["GET /mods/search - Search mod repositories","POST /mods/:serverId/install - Install mod","PUT /mods/:serverId/:modId/update - Update mod","DELETE /mods/:serverId/:modId - Uninstall mod"]},
        {name:"Notifications",emoji:"ğŸ””",port:5090,description:"Multi-channel notification delivery system",responsibilities:["Send email notifications via SMTP","Deliver push notifications to mobile apps","Route Discord notifications via webhook","Support notification preferences per user","Track delivery status and failures"],dependencies:["PostgreSQL","RabbitMQ","Discord"],dependents:[],endpoints:["POST /notifications/send - Send notification","GET /notifications/history - Notification history","PUT /notifications/preferences - Update user preferences"]},
        {name:"Firewall",emoji:"ğŸ›¡ï¸",port:5100,description:"Dynamic firewall rule management and IP whitelisting",responsibilities:["Maintain IP whitelist/blacklist per server","Apply firewall rules to UniFi network equipment","Support port forwarding for game servers","Track rule changes and audit logs","Automated DDoS mitigation rules"],dependencies:["PostgreSQL","RabbitMQ","Nodes","UniFi Controller"],dependents:[],endpoints:["POST /firewall/rules - Add firewall rule","DELETE /firewall/rules/:id - Remove rule","GET /firewall/whitelist/:serverId - List whitelisted IPs","POST /firewall/whitelist/:serverId - Add IP to whitelist"]},
        {name:"Discord",emoji:"ğŸ¤–",port:5120,description:"Discord bot integration for server management and notifications",responsibilities:["Discord bot commands for server control","Send server status updates to Discord channels","Player join/leave notifications","Support ticket creation from Discord","Server administration via Discord slash commands"],dependencies:["PostgreSQL","RabbitMQ","Notifications","Servers"],dependents:["Notifications"],endpoints:["POST /discord/webhook - Incoming Discord webhook","POST /discord/send - Send Discord message","GET /discord/link/:userId - Link Discord account"]}
    ],
    presentation: [
        {name:"Web UI",emoji:"ğŸŒ",port:5200,description:"Blazor WebAssembly frontend application for end-user interaction",responsibilities:["User dashboard and control panel","Real-time updates via SignalR","Responsive design for mobile and desktop","Client-side routing and state management","Static asset delivery via CDN"],dependencies:["Gateway","Identity","Billing","Servers"],dependents:[],endpoints:["/ - Landing page","/dashboard - User dashboard","/servers - Server management UI","/billing - Billing portal"]},
        {name:"Windows Agent",emoji:"ğŸªŸ",port:6001,description:"Windows-based agent for game server provisioning and management",responsibilities:["Install and configure game servers on Windows nodes","Monitor server processes and resource usage","Execute server start/stop/restart commands","Report health metrics to Nodes service","Handle Windows-specific game server requirements"],dependencies:["Nodes"],dependents:[],endpoints:["Runs as Windows Service","gRPC API for Nodes service communication","Local HTTP health endpoint on :6001"]},
        {name:"Linux Agent",emoji:"ğŸ§",port:6002,description:"Linux-based agent for game server provisioning and management",responsibilities:["Install and configure game servers on Linux nodes","Monitor server processes via systemd","Execute server lifecycle commands","Report health metrics to Nodes service","Handle containerized game server deployments"],dependencies:["Nodes"],dependents:[],endpoints:["Runs as systemd service","gRPC API for Nodes service communication","Local HTTP health endpoint on :6002"]}
    ]
};

// Layer config with CORRECT colors that match the legend
const layerConfig = [
    {name:'Presentation Layer', key:'presentation', gridCols:'3', color:'green'},
    {name:'Business Services', key:'business', gridCols:'5', color:'purple'},
    {name:'Core Services', key:'core', gridCols:'4', color:'yellow'},
    {name:'External APIs', key:'external', gridCols:'4', color:'red'},
    {name:'Foundation Layer', key:'foundation', gridCols:'4', color:'blue'}
];

function renderServices() {
    const container = document.getElementById('service-layers');
    
    layerConfig.forEach(layer => {
        const layerServices = servicesData[layer.key];
        const layerDiv = document.createElement('div');
        layerDiv.className = 'space-y-4';
        layerDiv.innerHTML = `
            <h3 class="text-lg font-semibold text-white">${layer.name}</h3>
            <div class="grid grid-cols-2 md:grid-cols-${layer.gridCols} gap-4" id="layer-${layer.key}"></div>
        `;
        container.appendChild(layerDiv);
        
        const gridContainer = document.getElementById(`layer-${layer.key}`);
        
        layerServices.forEach(service => {
            const node = document.createElement('div');
            // USE LAYER COLOR instead of service.color
            node.className = `service-node bg-gray-900 rounded-lg p-5 border border-${layer.color}-800`;
            node.dataset.service = service.name;
            node.innerHTML = `
                <div class="flex items-center gap-3 mb-2">
                    <span class="text-2xl">${service.emoji}</span>
                    <div>
                        <h4 class="text-lg font-bold text-${layer.color}-400">${service.name}</h4>
                        ${service.port ? `<span class="text-xs text-gray-500">:${service.port}</span>` : ''}
                    </div>
                </div>
                <p class="text-xs text-gray-500 mt-2">${service.dependents.length} dependent${service.dependents.length !== 1 ? 's' : ''}</p>
            `;
            
            node.addEventListener('mouseenter', (e) => showTooltip(e, service));
            node.addEventListener('mouseleave', hideTooltip);
            node.addEventListener('click', () => showModal(service));
            
            gridContainer.appendChild(node);
        });
    });
}

function showTooltip(e, service) {
    const tooltip = document.getElementById('tooltip-services');
    const deps = service.dependencies.length > 0 ? service.dependencies.join(', ') : 'None';
    const dependents = service.dependents.length > 0 ? service.dependents.join(', ') : 'None';
    
    tooltip.innerHTML = `
        <div class="font-bold text-lg mb-2 text-white">${service.emoji} ${service.name}${service.port ? ' :' + service.port : ''}</div>
        <div class="text-sm text-gray-300 mb-3">${service.description}</div>
        <div class="text-xs mb-2">
            <div class="font-semibold text-blue-400 mb-1">Top Responsibilities:</div>
            <ul class="list-disc list-inside space-y-1">
                ${service.responsibilities.slice(0, 3).map(r => `<li class="text-gray-400">${r}</li>`).join('')}
                ${service.responsibilities.length > 3 ? `<li class="text-gray-500 italic">...and ${service.responsibilities.length - 3} more</li>` : ''}
            </ul>
        </div>
        <div class="text-xs">
            <div class="text-blue-400">ğŸ“¥ Depends on: <span class="text-gray-300">${deps}</span></div>
            <div class="text-green-400">ğŸ“¤ Needed by: <span class="text-gray-300">${dependents}</span></div>
        </div>
        <div class="text-xs text-gray-500 mt-2 italic">Click for full details</div>
    `;
    
    const rect = e.target.closest('.service-node').getBoundingClientRect();
    tooltip.style.left = `${rect.right + 10}px`;
    tooltip.style.top = `${rect.top}px`;
    tooltip.classList.add('visible');
}

function hideTooltip() {
    document.getElementById('tooltip-services').classList.remove('visible');
}

function showModal(service) {
    const modal = document.getElementById('modal-services');
    const title = document.getElementById('modal-title-services');
    const body = document.getElementById('modal-body-services');
    
    title.textContent = `${service.emoji} ${service.name}${service.port ? ' :' + service.port : ''}`;
    
    body.innerHTML = `
        <div class="space-y-6">
            <div>
                <h4 class="text-lg font-semibold text-blue-400 mb-2">Description</h4>
                <p class="text-gray-300">${service.description}</p>
            </div>
            
            <div>
                <h4 class="text-lg font-semibold text-purple-400 mb-2">Key Responsibilities</h4>
                <ul class="list-disc list-inside space-y-2 text-gray-300">
                    ${service.responsibilities.map(r => `<li>${r}</li>`).join('')}
                </ul>
            </div>
            
            <div>
                <h4 class="text-lg font-semibold text-yellow-400 mb-2">Dependencies</h4>
                ${service.dependencies.length > 0 
                    ? `<div class="flex flex-wrap gap-2">
                        ${service.dependencies.map(d => `<span class="bg-blue-900 text-blue-200 px-3 py-1 rounded text-sm">${d}</span>`).join('')}
                       </div>`
                    : `<p class="text-gray-500 italic">No dependencies</p>`
                }
            </div>
            
            <div>
                <h4 class="text-lg font-semibold text-green-400 mb-2">Dependents</h4>
                ${service.dependents.length > 0 
                    ? `<div class="flex flex-wrap gap-2">
                        ${service.dependents.map(d => `<span class="bg-green-900 text-green-200 px-3 py-1 rounded text-sm">${d}</span>`).join('')}
                       </div>`
                    : `<p class="text-gray-500 italic">No dependents</p>`
                }
            </div>
            
            ${service.endpoints && service.endpoints.length > 0 ? `
                <div>
                    <h4 class="text-lg font-semibold text-red-400 mb-2">Key Endpoints / Features</h4>
                    <ul class="space-y-2">
                        ${service.endpoints.map(e => `<li class="bg-gray-800 p-2 rounded text-sm font-mono text-gray-300">${e}</li>`).join('')}
                    </ul>
                </div>
            ` : ''}
        </div>
    `;
    
    modal.classList.add('active');
}

function closeServicesModal() {
    document.getElementById('modal-services').classList.remove('active');
}

document.getElementById('modal-services').addEventListener('click', (e) => {
    if (e.target.id === 'modal-services') {
        closeServicesModal();
    }
});

document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
        closeServicesModal();
    }
});

renderServices();
</script>
<!-- ========== END: SECTION 13 ========== -->

<!-- SECTION 14: AGENTS -->
<section id="agents" class="bg-gray-800 rounded-xl p-6 border border-gray-700">
    <h2 class="text-2xl font-bold text-white mb-6">ğŸ–¥ï¸ Section 14: Agent Architecture</h2>
    
    <!-- Prominent Callout: Customer-Hosted -->
    <div class="bg-blue-900/30 border-2 border-blue-500 rounded-lg p-6 mb-8">
        <h3 class="text-2xl font-bold text-blue-300 mb-3">ğŸ  Customer-Hosted Agents</h3>
        <p class="text-gray-300 text-lg mb-4">
            These agents run on <strong class="text-white">your hardware</strong>, not ours. You install them on your own servers, and they coordinate with our control plane to provision and manage your game servers.
        </p>
        <div class="grid md:grid-cols-3 gap-4 text-sm">
            <div class="bg-gray-900 rounded-lg p-3">
                <div class="text-blue-400 font-semibold mb-1">ğŸ“¥ Bootstrap</div>
                <div class="text-gray-400">Install agent â†’ Register with control plane â†’ Receive certificate</div>
            </div>
            <div class="bg-gray-900 rounded-lg p-3">
                <div class="text-green-400 font-semibold mb-1">ğŸ® Provision</div>
                <div class="text-gray-400">Control plane sends deployment commands â†’ Agent provisions game servers locally</div>
            </div>
            <div class="bg-gray-900 rounded-lg p-3">
                <div class="text-purple-400 font-semibold mb-1">ğŸ“Š Telemetry</div>
                <div class="text-gray-400">Agent ships metrics, logs, console output â†’ Displayed in Web UI</div>
            </div>
        </div>
    </div>

    <!-- Agent Platform Descriptions -->
    <div class="grid md:grid-cols-2 gap-6 mb-8">
        <div class="bg-gray-900 rounded-lg p-5 border border-green-800">
            <h3 class="text-xl font-semibold text-green-400 mb-3">ğŸ§ Agent.Linux</h3>
            <p class="text-gray-400 mb-4">Runs as a systemd service on your Linux server. Manages game servers via Docker containers.</p>
            <ul class="text-sm text-gray-400 space-y-1 mb-4">
                <li>â€¢ <strong class="text-white">Deployment:</strong> Systemd service</li>
                <li>â€¢ <strong class="text-white">Isolation:</strong> One Docker container per game server</li>
                <li>â€¢ <strong class="text-white">Resources:</strong> cgroup limits (CPU, RAM, disk I/O)</li>
                <li>â€¢ <strong class="text-white">Storage:</strong> Volume mounts for persistent game data</li>
                <li>â€¢ <strong class="text-white">Encryption:</strong> LUKS full disk encryption (optional)</li>
            </ul>
        </div>
        
        <div class="bg-gray-900 rounded-lg p-5 border border-blue-800">
            <h3 class="text-xl font-semibold text-blue-400 mb-3">ğŸªŸ Agent.Windows</h3>
            <p class="text-gray-400 mb-4">Runs as a Windows Service on your Windows server. Manages game servers as child processes.</p>
            <ul class="text-sm text-gray-400 space-y-1 mb-4">
                <li>â€¢ <strong class="text-white">Deployment:</strong> Windows Service</li>
                <li>â€¢ <strong class="text-white">Isolation:</strong> Job Objects for resource limits</li>
                <li>â€¢ <strong class="text-white">Resources:</strong> CPU affinity, memory limits, priority</li>
                <li>â€¢ <strong class="text-white">Required for:</strong> ARK, Conan Exiles, some Unity games</li>
                <li>â€¢ <strong class="text-white">Encryption:</strong> BitLocker full disk encryption (optional)</li>
            </ul>
        </div>
    </div>

    <!-- Trust & Transparency -->
    <h3 class="text-2xl font-bold text-white mb-4 border-b border-gray-600 pb-2">ğŸ”’ Trust & Transparency</h3>
    <div class="bg-yellow-900/30 border-2 border-yellow-600 rounded-lg p-6 mb-6">
        <h4 class="text-yellow-300 font-bold text-lg mb-3">âš ï¸ Important: Your Hardware, Your Rules</h4>
        <p class="text-gray-300 mb-4">
            We <strong class="text-white">cannot and will not</strong> enforce encryption or security policies on your hardware. 
            That's <strong class="text-white">your responsibility</strong>. What we <em>can</em> do is prove that our agents have limited, 
            well-defined operations and cannot execute arbitrary code against your machines.
        </p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
        <!-- Trust Mechanism 1: Command Audit Logging -->
        <div class="bg-gray-900 rounded-lg p-5 border border-green-700">
            <div class="flex items-center gap-3 mb-3">
                <span class="text-3xl">ğŸ“</span>
                <h4 class="text-lg font-bold text-green-400">Command Audit Logging</h4>
            </div>
            <p class="text-sm text-gray-400 mb-3">
                Every command the control plane sends to the agent is logged <strong class="text-white">locally on your machine</strong>.
            </p>
            <div class="bg-gray-800 rounded p-3 mb-3">
                <p class="text-xs text-gray-500 mb-2">Log locations:</p>
                <div class="space-y-2">
                    <div>
                        <p class="text-xs text-gray-400 mb-1">ğŸ§ <strong class="text-white">Linux:</strong></p>
                        <code class="text-green-400 text-xs">/var/log/meridian-agent/commands.log</code>
                    </div>
                    <div>
                        <p class="text-xs text-gray-400 mb-1">ğŸªŸ <strong class="text-white">Windows Event Log:</strong></p>
                        <code class="text-blue-400 text-xs block mb-1">Applications and Services Logs â†’ Meridian Console â†’ Agent Commands</code>
                        <p class="text-xs text-gray-500 italic">Custom event source: <code class="text-blue-300">MeridianAgent</code></p>
                    </div>
                </div>
            </div>
            <p class="text-xs text-gray-400">
                <strong class="text-white">You can audit these logs</strong> anytime to see exactly what our control plane requested your agent to do.
            </p>
        </div>

        <!-- Trust Mechanism 2: No Arbitrary Code Execution -->
        <div class="bg-gray-900 rounded-lg p-5 border border-red-700">
            <div class="flex items-center gap-3 mb-3">
                <span class="text-3xl">ğŸš«</span>
                <h4 class="text-lg font-bold text-red-400">No Arbitrary Code Execution</h4>
            </div>
            <p class="text-sm text-gray-400 mb-3">
                The agent <strong class="text-white">only executes predefined operations</strong> from a whitelist. We cannot send arbitrary shell commands.
            </p>
            <div class="bg-gray-800 rounded p-3 mb-3">
                <p class="text-xs text-gray-500 mb-1">Allowed operations:</p>
                <ul class="text-xs text-gray-400 space-y-1">
                    <li>â€¢ <code class="text-blue-300">install_game_server</code></li>
                    <li>â€¢ <code class="text-blue-300">start_server</code> / <code class="text-blue-300">stop_server</code></li>
                    <li>â€¢ <code class="text-blue-300">collect_metrics</code></li>
                    <li>â€¢ <code class="text-blue-300">stream_console_output</code></li>
                    <li>â€¢ <code class="text-blue-300">upload_file</code> / <code class="text-blue-300">download_file</code></li>
                </ul>
            </div>
            <p class="text-xs text-gray-400">
                Anything outside this whitelist is <strong class="text-white">rejected</strong> by the agent.
            </p>
        </div>

        <!-- Trust Mechanism 3: Declarative Operations Manifest -->
        <div class="bg-gray-900 rounded-lg p-5 border border-purple-700">
            <div class="flex items-center gap-3 mb-3">
                <span class="text-3xl">ğŸ“‹</span>
                <h4 class="text-lg font-bold text-purple-400">Declarative Operations Manifest</h4>
            </div>
            <p class="text-sm text-gray-400 mb-3">
                The agent ships with a <strong class="text-white">manifest file</strong> listing every operation it can perform and what privileges each requires.
            </p>
            <div class="bg-gray-800 rounded p-3 mb-3">
                <p class="text-xs text-gray-500 mb-1">Example manifest entry:</p>
                <pre class="text-xs text-purple-300">install_game_server:
  privileges: [file_write, process_spawn]
  scope: /opt/gameservers/*
  description: "Downloads and installs game server binaries"</pre>
            </div>
            <p class="text-xs text-gray-400">
                <strong class="text-white">You can review this manifest</strong> before installing the agent to understand exactly what it's capable of.
            </p>
        </div>

        <!-- Trust Mechanism 4: Permission Scoping -->
        <div class="bg-gray-900 rounded-lg p-5 border border-blue-700">
            <div class="flex items-center gap-3 mb-3">
                <span class="text-3xl">ğŸ”</span>
                <h4 class="text-lg font-bold text-blue-400">Principle of Least Privilege</h4>
            </div>
            <p class="text-sm text-gray-400 mb-3">
                The agent runs with <strong class="text-white">minimum required permissions</strong> and can only access specific directories.
            </p>
            <div class="bg-gray-800 rounded p-3 mb-3">
                <p class="text-xs text-gray-500 mb-1">Linux example:</p>
                <ul class="text-xs text-gray-400 space-y-1">
                    <li>â€¢ <strong class="text-white">User:</strong> <code class="text-cyan-300">meridian-agent</code> (dedicated user)</li>
                    <li>â€¢ <strong class="text-white">Write access:</strong> <code class="text-cyan-300">/opt/gameservers/</code> only</li>
                    <li>â€¢ <strong class="text-white">No root:</strong> Agent does not run as root</li>
                </ul>
                <p class="text-xs text-gray-500 mt-2 mb-1">Windows example:</p>
                <ul class="text-xs text-gray-400 space-y-1">
                    <li>â€¢ <strong class="text-white">Service Account:</strong> Restricted permissions</li>
                    <li>â€¢ <strong class="text-white">ACLs:</strong> Explicit folder/process permissions</li>
                </ul>
            </div>
            <p class="text-xs text-gray-400">
                <strong class="text-white">You control the user</strong> the agent runs as and can further restrict permissions via your OS.
            </p>
        </div>

        <!-- Trust Mechanism 5: Signed Binaries (NEW - MOVED FROM FUTURE) -->
        <div class="bg-gray-900 rounded-lg p-5 border border-orange-700">
            <div class="flex items-center gap-3 mb-3">
                <span class="text-3xl">ğŸ”</span>
                <h4 class="text-lg font-bold text-orange-400">Signed Binaries</h4>
            </div>
            <p class="text-sm text-gray-400 mb-3">
                All agent releases are <strong class="text-white">cryptographically signed</strong> via Azure Trusted Signing so you can verify authenticity.
            </p>
            <div class="bg-gray-800 rounded p-3 mb-3">
                <p class="text-xs text-gray-500 mb-1">Benefits:</p>
                <ul class="text-xs text-gray-400 space-y-1">
                    <li>â€¢ âœ… No "Unknown Publisher" warnings on Windows</li>
                    <li>â€¢ âœ… Verify it's really from Meridian Console</li>
                    <li>â€¢ âœ… Detect tampering before installation</li>
                    <li>â€¢ âœ… Integrated with Azure DevOps pipeline</li>
                </ul>
            </div>
            <div class="bg-green-900/30 border border-green-700 rounded p-2">
                <p class="text-xs text-green-300">
                    <strong>Implementation:</strong> Azure Trusted Signing (Basic tier, $10/month, 5,000 ops/month)
                </p>
            </div>
        </div>
    </div>

    <!-- Future Enhancements -->
    <h3 class="text-2xl font-bold text-white mb-4 border-b border-gray-600 pb-2">ğŸ”® Future Trust Enhancements</h3>
    <div class="grid md:grid-cols-2 gap-4 mb-8">
        <div class="bg-gray-900 rounded-lg p-4 border border-gray-600">
            <div class="text-green-400 font-semibold mb-2">ğŸ“‚ Open Source Agents</div>
            <p class="text-xs text-gray-400 mb-2">Publish agent source code on GitHub for full auditability ("Don't trust, verify").</p>
            <p class="text-xs text-gray-500 italic">Planned post-SaaS launch</p>
        </div>
        <div class="bg-gray-900 rounded-lg p-4 border border-gray-600">
            <div class="text-purple-400 font-semibold mb-2">ğŸ›¡ï¸ Third-Party Audit</div>
            <p class="text-xs text-gray-400 mb-2">Pay security firm to audit and certify agent code (or rely on nerds to audit for free ğŸ˜„).</p>
            <p class="text-xs text-gray-500 italic">When budget allows ($10k-50k)</p>
        </div>
    </div>

    <!-- Agent Security & Certificates -->
    <h3 class="text-2xl font-bold text-white mb-4 border-b border-gray-600 pb-2">ğŸ” Agent Security & Certificates</h3>
    <div class="bg-gray-900 rounded-lg p-5 border border-gray-600 mb-6">
        <div class="grid md:grid-cols-2 gap-6">
            <div>
                <h4 class="text-purple-400 font-medium mb-3">ğŸ“ Registration Flow</h4>
                <ol class="text-sm text-gray-400 space-y-2">
                    <li><strong class="text-white">1.</strong> Admin generates one-time registration code (15-minute expiry) via Web UI</li>
                    <li><strong class="text-white">2.</strong> Customer runs agent installer with code on their hardware</li>
                    <li><strong class="text-white">3.</strong> Agent registers with Nodes Service using code</li>
                    <li><strong class="text-white">4.</strong> Nodes Service creates DNS entry: <code class="text-cyan-300">agent-{id}.nodes.meridianconsole.com</code></li>
                    <li><strong class="text-white">5.</strong> Nodes Service requests certificate from Let's Encrypt (DNS-01 via Cloudflare)</li>
                    <li><strong class="text-white">6.</strong> Certificate pushed to agent over secure bootstrap channel</li>
                    <li><strong class="text-white">7.</strong> Agent installs certificate and establishes <strong class="text-cyan-400">mTLS connection</strong></li>
                </ol>
            </div>
            <div>
                <h4 class="text-purple-400 font-medium mb-3">ğŸ”„ Certificate Lifecycle</h4>
                <table class="w-full text-sm">
                    <tbody class="text-gray-400">
                        <tr><td class="py-1"><strong class="text-white">CA:</strong></td><td>Let's Encrypt</td></tr>
                        <tr><td class="py-1"><strong class="text-white">DNS:</strong></td><td class="font-mono text-xs">agent-{id}.nodes.meridianconsole.com</td></tr>
                        <tr><td class="py-1"><strong class="text-white">Validity:</strong></td><td>90 days</td></tr>
                        <tr><td class="py-1"><strong class="text-white">Renewal:</strong></td><td>45 days before expiry (automatic)</td></tr>
                        <tr><td class="py-1"><strong class="text-white">Handler:</strong></td><td>Nodes Service (not agent)</td></tr>
                        <tr><td class="py-1"><strong class="text-white">Distribution:</strong></td><td>Push over existing mTLS connection</td></tr>
                    </tbody>
                </table>
                <div class="mt-4 bg-green-900/30 border border-green-700 rounded p-3">
                    <p class="text-xs text-green-300 font-semibold mb-1">âœ… Zero Touch Renewal</p>
                    <p class="text-xs text-gray-400">Agents never directly request certs. Nodes Service handles all ACME interactions and pushes renewed certs automatically.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Agent Communication -->
    <h3 class="text-2xl font-bold text-white mb-4 border-b border-gray-600 pb-2">ğŸ“¡ Agent Communication</h3>
    <div class="bg-gray-900 rounded-lg p-4 border border-gray-600 mb-6">
        <h4 class="text-cyan-400 font-medium mb-3">Agent Boot Sequence</h4>
        <pre class="diagram text-green-400 text-xs">1. Agent loads mTLS certificate from local storage
   â””â”€ Linux: /etc/meridianconsole/certs/
   â””â”€ Windows: C:\ProgramData\MeridianConsole\certs\

2. Establish WSS connection to Nodes Service
   â””â”€ wss://nodes.meridianconsole.com/ws
   â””â”€ mTLS mutual authentication

3. Send HELLO message with metadata
   â””â”€ OS version, CPU cores, RAM, disk space
   â””â”€ Agent version, capabilities

4. Receive ACK + assigned server list
   â””â”€ Control plane tells agent what servers should be running

5. Reconcile local state
   â””â”€ Start servers that should be running
   â””â”€ Stop servers that shouldn't be running
   â””â”€ Report any discrepancies

6. Enter command loop
   â””â”€ Heartbeat every 30 seconds
   â””â”€ Listen for control plane commands
   â””â”€ Stream console output, metrics, logs</pre>
    </div>

    <div class="bg-gray-900 rounded-lg p-4 border border-gray-600">
        <h4 class="text-cyan-400 font-medium mb-3">Certificate Renewal (Automatic)</h4>
        <pre class="diagram text-yellow-400 text-xs">1. Nodes Service detects certificate expiring in < 45 days
   â””â”€ Scheduled job runs daily checking all agent certs

2. Nodes Service requests new certificate from Let's Encrypt
   â””â”€ DNS-01 challenge via Cloudflare API
   â””â”€ Creates TXT record: _acme-challenge.agent-{id}.nodes.meridianconsole.com

3. Let's Encrypt validates and issues new certificate

4. Nodes Service pushes new certificate to agent
   â””â”€ Sent over existing mTLS connection
   â””â”€ Agent receives cert + private key

5. Agent installs new certificate
   â””â”€ Writes to local storage (replaces old cert)
   â””â”€ Reloads TLS context (no restart required)

6. Agent confirms installation
   â””â”€ Sends confirmation message to Nodes Service
   â””â”€ Nodes Service marks renewal as complete</pre>
    </div>

    <!-- Key Points Summary -->
    <div class="mt-8 bg-blue-900/30 border-2 border-blue-600 rounded-lg p-6">
        <h3 class="text-xl font-bold text-blue-300 mb-4">ğŸ¯ Key Takeaways</h3>
        <div class="grid md:grid-cols-2 gap-4 text-sm">
            <div>
                <h4 class="text-white font-semibold mb-2">âœ… What We Do</h4>
                <ul class="text-gray-300 space-y-1">
                    <li>â€¢ Prove limited scope of operations</li>
                    <li>â€¢ Provide audit logs on your machine</li>
                    <li>â€¢ Run with least privilege</li>
                    <li>â€¢ Whitelist allowed operations</li>
                    <li>â€¢ Publish operations manifest</li>
                    <li>â€¢ Sign all binaries cryptographically</li>
                </ul>
            </div>
            <div>
                <h4 class="text-white font-semibold mb-2">âŒ What We Don't Do</h4>
                <ul class="text-gray-300 space-y-1">
                    <li>â€¢ Enforce encryption (your choice)</li>
                    <li>â€¢ Execute arbitrary code</li>
                    <li>â€¢ Access files outside designated paths</li>
                    <li>â€¢ Run with elevated privileges by default</li>
                    <li>â€¢ Hide what the agent is doing</li>
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- SECTION 15: KiP EDITION -->
<section id="kip" class="bg-gray-800 rounded-xl p-6 border border-indigo-700">
    <h2 class="text-2xl font-bold text-white mb-4">Section 15: KiP Edition (Knowledge is Power)</h2>
    <div class="bg-indigo-900/30 border border-indigo-700 rounded-lg p-4 mb-6">
        <p class="text-indigo-400 font-semibold">ğŸ¯ Self-Hosted Version â€” Post-SaaS Launch</p>
        <p class="text-sm text-gray-400 mt-1">A complete, self-contained deployment of Meridian Console for power users who want to run their own infrastructure.</p>
    </div>
    
    <div class="max-w-6xl mx-auto">

        <!-- Overview -->
        <div class="bg-gray-800 rounded-lg p-6 mb-6 border border-gray-700">
            <h2 class="text-2xl font-bold text-white mb-4">Overview</h2>
            <p class="text-gray-300 mb-4">
                <span class="text-sky-400 font-semibold">KiP Edition</span> is a scaled-down, open-source version of Meridian Console designed for self-hosting. 
                It targets power users, homelabbers, and small communities who want to run game servers on their own infrastructure without cloud dependencies.
            </p>
            <p class="text-gray-300">
                Think <strong>Pterodactyl/Pelican competitor</strong>, but built on modern .NET architecture with a focus on simplicity and developer experience.
            </p>
        </div>

        <!-- Post-MVP Warning -->
        <div class="bg-yellow-900/30 border-l-4 border-yellow-500 rounded-r-lg p-6 mb-6">
            <div class="flex items-start gap-3">
                <span class="text-2xl">âš ï¸</span>
                <div>
                    <h3 class="font-bold text-yellow-400 mb-2">Post-MVP Release</h3>
                    <p class="text-gray-300">KiP Edition ships <strong>after the SaaS MVP</strong>. Timeline TBD based on core platform stability and community demand.</p>
                </div>
            </div>
        </div>

        <!-- What's Included -->
        <div class="bg-gray-800 rounded-lg p-6 mb-6 border border-gray-700">
            <h2 class="text-2xl font-bold text-white mb-4">What's Included</h2>
            <ul class="space-y-3">
                <li class="flex items-start gap-3">
                    <span class="text-green-400 text-xl">âœ“</span>
                    <div>
                        <strong class="text-white">Core Panel Functionality</strong>
                        <p class="text-gray-400">Server management, resource allocation, monitoring, logs, console access</p>
                    </div>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-green-400 text-xl">âœ“</span>
                    <div>
                        <strong class="text-white">Agent System</strong>
                        <p class="text-gray-400">Open source game server agents with proper sandboxing</p>
                    </div>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-green-400 text-xl">âœ“</span>
                    <div>
                        <strong class="text-white">YARP Reverse Proxy (Internal Only)</strong>
                        <p class="text-gray-400">Internal API gateway for panel services - NOT for game server traffic</p>
                    </div>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-green-400 text-xl">âœ“</span>
                    <div>
                        <strong class="text-white">Local User Accounts</strong>
                        <p class="text-gray-400">Authentication without Azure AD B2C (local database-backed auth)</p>
                    </div>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-green-400 text-xl">âœ“</span>
                    <div>
                        <strong class="text-white">Blazor WASM UI</strong>
                        <p class="text-gray-400">Modern web interface with xterm.js console rendering</p>
                    </div>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-green-400 text-xl">âœ“</span>
                    <div>
                        <strong class="text-white">Built-in Update Mechanism</strong>
                        <p class="text-gray-400">Update button in UI to fetch and apply new versions</p>
                    </div>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-green-400 text-xl">âœ“</span>
                    <div>
                        <strong class="text-white">Community Support</strong>
                        <p class="text-gray-400">Documentation, community forums, GitHub discussions</p>
                    </div>
                </li>
            </ul>
        </div>

        <!-- What's NOT Included -->
        <div class="bg-gray-800 rounded-lg p-6 mb-6 border border-gray-700">
            <h2 class="text-2xl font-bold text-white mb-4">What's NOT Included</h2>
            <ul class="space-y-3">
                <li class="flex items-start gap-3">
                    <span class="text-red-400 text-xl">âœ—</span>
                    <div>
                        <strong class="text-white">Firewall Service</strong>
                        <p class="text-gray-400">Users manage their own firewall rules and DDoS protection</p>
                    </div>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-red-400 text-xl">âœ—</span>
                    <div>
                        <strong class="text-white">Discord Service</strong>
                        <p class="text-gray-400">No Discord bot integration or notifications</p>
                    </div>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-red-400 text-xl">âœ—</span>
                    <div>
                        <strong class="text-white">Secrets Service</strong>
                        <p class="text-gray-400">No Azure Key Vault or cloud secret management (file-driven config only)</p>
                    </div>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-red-400 text-xl">âœ—</span>
                    <div>
                        <strong class="text-white">Cloudflare/Let's Encrypt Automation</strong>
                        <p class="text-gray-400">Users manage their own SSL certificates and DNS</p>
                    </div>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-red-400 text-xl">âœ—</span>
                    <div>
                        <strong class="text-white">External Reverse Proxy for Game Servers</strong>
                        <p class="text-gray-400">Users manage their own reverse proxy for game traffic (nginx, Caddy, Traefik) - YARP only handles internal panel services</p>
                    </div>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-red-400 text-xl">âœ—</span>
                    <div>
                        <strong class="text-white">Bundled Dependencies</strong>
                        <p class="text-gray-400">PostgreSQL, RabbitMQ, and Redis are separate installs (not bundled)</p>
                    </div>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-red-400 text-xl">âœ—</span>
                    <div>
                        <strong class="text-white">Azure AD B2C Integration</strong>
                        <p class="text-gray-400">Auth works without Azure (local user accounts only)</p>
                    </div>
                </li>
            </ul>
        </div>

        <!-- YARP Clarification -->
        <div class="bg-blue-900/30 border-l-4 border-blue-400 rounded-r-lg p-6 mb-6">
            <div class="flex items-start gap-3">
                <span class="text-2xl">ğŸ’¡</span>
                <div>
                    <h3 class="font-bold text-blue-400 mb-2">YARP Clarification</h3>
                    <p class="text-gray-300 mb-2">YARP is included in KiP Edition, but <strong>only for internal panel traffic</strong> (API gateway between services).</p>
                    <p class="text-gray-300">Many game servers don't support being proxied, so users are responsible for managing external reverse proxies for game server traffic if needed.</p>
                </div>
            </div>
        </div>

        <!-- Deployment Options -->
        <div class="grid md:grid-cols-2 gap-6 mb-6">
            <div class="bg-gray-800 border border-sky-500 rounded-lg p-6">
                <div class="flex items-center gap-3 mb-4">
                    <span class="text-3xl">ğŸ³</span>
                    <h3 class="text-xl font-bold text-sky-400">Docker Compose</h3>
                </div>
                <p class="text-gray-300 mb-3">Pre-configured docker-compose.yml with:</p>
                <ul class="space-y-2 text-gray-400 text-sm">
                    <li>â€¢ Panel container</li>
                    <li>â€¢ PostgreSQL container</li>
                    <li>â€¢ RabbitMQ container</li>
                    <li>â€¢ Redis container</li>
                    <li>â€¢ Volume mounts for persistence</li>
                </ul>
                <p class="text-gray-500 text-sm mt-3 italic">Recommended for most users</p>
            </div>

            <div class="bg-gray-800 border border-purple-500 rounded-lg p-6">
                <div class="flex items-center gap-3 mb-4">
                    <span class="text-3xl">ğŸ“¦</span>
                    <h3 class="text-xl font-bold text-purple-400">Standalone Binary</h3>
                </div>
                <p class="text-gray-300 mb-3">Single executable that:</p>
                <ul class="space-y-2 text-gray-400 text-sm">
                    <li>â€¢ Runs directly on Linux</li>
                    <li>â€¢ Connects to existing PostgreSQL/RabbitMQ/Redis</li>
                    <li>â€¢ Configured via YAML/JSON file</li>
                    <li>â€¢ No Docker required</li>
                </ul>
                <p class="text-gray-500 text-sm mt-3 italic">For advanced users with existing infrastructure</p>
            </div>
        </div>

        <!-- System Requirements -->
        <div class="bg-gray-800 rounded-lg p-6 mb-6 border border-gray-700">
            <h2 class="text-2xl font-bold text-white mb-4">System Requirements</h2>
            <div class="grid md:grid-cols-3 gap-6">
                <div>
                    <h3 class="font-bold text-sky-400 mb-3">Minimum</h3>
                    <ul class="space-y-2 text-gray-300 text-sm">
                        <li>â€¢ 2 CPU cores</li>
                        <li>â€¢ 4 GB RAM</li>
                        <li>â€¢ 20 GB storage</li>
                        <li>â€¢ Linux (Ubuntu 22.04+)</li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-bold text-sky-400 mb-3">Recommended</h3>
                    <ul class="space-y-2 text-gray-300 text-sm">
                        <li>â€¢ 4 CPU cores</li>
                        <li>â€¢ 8 GB RAM</li>
                        <li>â€¢ 50 GB SSD</li>
                        <li>â€¢ Linux (Debian/Ubuntu)</li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-bold text-sky-400 mb-3">Dependencies</h3>
                    <ul class="space-y-2 text-gray-300 text-sm">
                        <li>â€¢ PostgreSQL 15+</li>
                        <li>â€¢ RabbitMQ 3.12+</li>
                        <li>â€¢ Redis 7+</li>
                        <li>â€¢ Docker (for Compose option)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Comparison Table -->
        <div class="bg-gray-800 rounded-lg p-6 mb-6 border border-gray-700">
            <h2 class="text-2xl font-bold text-white mb-4">KiP vs SaaS Comparison</h2>
            <div class="overflow-x-auto">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b border-gray-700">
                            <th class="text-left p-3 text-sky-400">Feature</th>
                            <th class="text-center p-3 text-purple-400">KiP Edition</th>
                            <th class="text-center p-3 text-green-400">SaaS Edition</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-700">
                        <tr>
                            <td class="p-3 text-white font-medium">Hosting</td>
                            <td class="p-3 text-center text-gray-300">Self-hosted</td>
                            <td class="p-3 text-center text-gray-300">Cloud-hosted</td>
                        </tr>
                        <tr>
                            <td class="p-3 text-white font-medium">Authentication</td>
                            <td class="p-3 text-center text-gray-300">Local accounts</td>
                            <td class="p-3 text-center text-gray-300">Azure AD B2C</td>
                        </tr>
                        <tr>
                            <td class="p-3 text-white font-medium">Firewall Management</td>
                            <td class="p-3 text-center text-red-400">âŒ User-managed</td>
                            <td class="p-3 text-center text-green-400">âœ“ Automated</td>
                        </tr>
                        <tr>
                            <td class="p-3 text-white font-medium">Discord Integration</td>
                            <td class="p-3 text-center text-red-400">âŒ None</td>
                            <td class="p-3 text-center text-green-400">âœ“ Full integration</td>
                        </tr>
                        <tr>
                            <td class="p-3 text-white font-medium">External Reverse Proxy</td>
                            <td class="p-3 text-center text-red-400">âŒ User-managed</td>
                            <td class="p-3 text-center text-green-400">âœ“ YARP included</td>
                        </tr>
                        <tr>
                            <td class="p-3 text-white font-medium">Internal API Gateway</td>
                            <td class="p-3 text-center text-green-400">âœ“ YARP included</td>
                            <td class="p-3 text-center text-green-400">âœ“ YARP included</td>
                        </tr>
                        <tr>
                            <td class="p-3 text-white font-medium">SSL Certificates</td>
                            <td class="p-3 text-center text-red-400">âŒ User-managed</td>
                            <td class="p-3 text-center text-green-400">âœ“ Automated</td>
                        </tr>
                        <tr>
                            <td class="p-3 text-white font-medium">Updates</td>
                            <td class="p-3 text-center text-gray-300">Manual (UI button)</td>
                            <td class="p-3 text-center text-gray-300">Automatic</td>
                        </tr>
                        <tr>
                            <td class="p-3 text-white font-medium">Support</td>
                            <td class="p-3 text-center text-gray-300">Community</td>
                            <td class="p-3 text-center text-gray-300">Official</td>
                        </tr>
                        <tr>
                            <td class="p-3 text-white font-medium">Price</td>
                            <td class="p-3 text-center text-green-400 font-bold">Free (OSS)</td>
                            <td class="p-3 text-center text-gray-300">Subscription</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Branding & Licensing -->
        <div class="bg-gray-800 rounded-lg p-6 mb-6 border border-gray-700">
            <h2 class="text-2xl font-bold text-white mb-4">Branding & Licensing</h2>
            <div class="mb-4">
                <h3 class="text-lg font-bold text-sky-400 mb-2">Required Attribution</h3>
                <p class="text-gray-300 mb-3">KiP Edition <strong>must</strong> display "Powered by Meridian Console" in the UI footer and documentation.</p>
                <div class="bg-gray-900 border border-gray-700 rounded p-3">
                    <code class="text-sky-300">Powered by Meridian Console | Open Source</code>
                </div>
            </div>
            <div class="bg-yellow-900/30 border-l-4 border-yellow-500 rounded-r-lg p-4 mt-4">
                <p class="text-gray-300"><strong class="text-yellow-400">License TBD:</strong> Need to discuss with Kira about open-source license choice (MIT, Apache 2.0, AGPL, etc.)</p>
            </div>
        </div>

        <!-- Target Audience -->
        <div class="grid md:grid-cols-3 gap-6 mb-6">
            <div class="bg-gray-800 rounded-lg p-6 border border-gray-700">
                <div class="text-4xl mb-3">ğŸ </div>
                <h3 class="text-lg font-bold text-sky-400 mb-2">Homelabbers</h3>
                <p class="text-gray-300 text-sm">Running game servers on their own hardware for friends and small communities.</p>
            </div>
            <div class="bg-gray-800 rounded-lg p-6 border border-gray-700">
                <div class="text-4xl mb-3">ğŸ®</div>
                <h3 class="text-lg font-bold text-sky-400 mb-2">Small Communities</h3>
                <p class="text-gray-300 text-sm">Clans, guilds, or friend groups who want control without cloud costs.</p>
            </div>
            <div class="bg-gray-800 rounded-lg p-6 border border-gray-700">
                <div class="text-4xl mb-3">ğŸ’»</div>
                <h3 class="text-lg font-bold text-sky-400 mb-2">Power Users</h3>
                <p class="text-gray-300 text-sm">Users comfortable with Linux, Docker, and networking who want full control.</p>
            </div>
        </div>

        <!-- Release Timeline -->
        <div class="bg-gray-800 rounded-lg p-6 mb-6 border border-gray-700">
            <h2 class="text-2xl font-bold text-white mb-4">Release Timeline</h2>
            <div class="space-y-4">
                <div class="flex items-start gap-4">
                    <div class="bg-sky-500 text-white font-bold rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 text-sm">1</div>
                    <div>
                        <h3 class="font-bold text-white">SaaS MVP First</h3>
                        <p class="text-gray-400 text-sm">Focus on core platform stability and revenue generation.</p>
                    </div>
                </div>
                <div class="flex items-start gap-4">
                    <div class="bg-purple-500 text-white font-bold rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 text-sm">2</div>
                    <div>
                        <h3 class="font-bold text-white">Evaluate Demand</h3>
                        <p class="text-gray-400 text-sm">Gauge community interest through surveys and discussions.</p>
                    </div>
                </div>
                <div class="flex items-start gap-4">
                    <div class="bg-green-500 text-white font-bold rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 text-sm">3</div>
                    <div>
                        <h3 class="font-bold text-white">KiP Edition Release</h3>
                        <p class="text-gray-400 text-sm">Ship post-MVP once core platform is stable. Timeline: <strong>TBD</strong></p>
                    </div>
                </div>
            </div>
        </div>

    </div>
</section>

<!-- SECTION 16: MVP SCOPE & PHASES - DETAILED ROADMAP -->
<section id="mvp" class="bg-gray-800 rounded-xl p-6 border border-gray-700">
    <h2 class="text-2xl font-bold text-white mb-2">ğŸ¯ MVP Scope & Phases</h2>
    <p class="text-gray-400 mb-6">Detailed project roadmap with <strong class="text-white">54 milestones</strong> across <strong class="text-white">6 phases</strong>. Each milestone includes dependencies and success criteria.</p>
    
    <!-- Phase Summary Bar -->
    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 mb-8">
        <div class="bg-gray-900 rounded-lg p-3 border-l-4 border-green-500 text-center hover:bg-gray-800 transition-colors">
            <div class="text-2xl font-bold text-green-400">9</div>
            <div class="text-xs text-gray-400">Phase 1: MVP</div>
        </div>
        <div class="bg-gray-900 rounded-lg p-3 border-l-4 border-yellow-500 text-center hover:bg-gray-800 transition-colors">
            <div class="text-2xl font-bold text-yellow-400">9</div>
            <div class="text-xs text-gray-400">Phase 2: Enhance</div>
        </div>
        <div class="bg-gray-900 rounded-lg p-3 border-l-4 border-blue-500 text-center hover:bg-gray-800 transition-colors">
            <div class="text-2xl font-bold text-blue-400">9</div>
            <div class="text-xs text-gray-400">Phase 3: Launch</div>
        </div>
        <div class="bg-gray-900 rounded-lg p-3 border-l-4 border-indigo-500 text-center hover:bg-gray-800 transition-colors">
            <div class="text-2xl font-bold text-indigo-400">9</div>
            <div class="text-xs text-gray-400">Phase 4: KiP</div>
        </div>
        <div class="bg-gray-900 rounded-lg p-3 border-l-4 border-purple-500 text-center hover:bg-gray-800 transition-colors">
            <div class="text-2xl font-bold text-purple-400">9</div>
            <div class="text-xs text-gray-400">Phase 5: Mobile</div>
        </div>
        <div class="bg-gray-900 rounded-lg p-3 border-l-4 border-pink-500 text-center hover:bg-gray-800 transition-colors">
            <div class="text-2xl font-bold text-pink-400">9</div>
            <div class="text-xs text-gray-400">Phase 6: Future</div>
        </div>
    </div>
    
    <!-- Critical Dependencies Note -->
    <div class="bg-amber-900/20 border border-amber-600/50 rounded-lg p-4 mb-8">
        <div class="flex items-start gap-3">
            <span class="text-amber-500 text-xl">âš ï¸</span>
            <div>
                <h4 class="text-amber-400 font-semibold text-sm">Critical Path Dependencies</h4>
                <p class="text-gray-400 text-xs mt-1">Phases must complete sequentially: MVP â†’ Enhancements â†’ Launch â†’ KiP â†’ Mobile â†’ Sustained Engineering. Some milestones within phases can be parallelized.</p>
            </div>
        </div>
    </div>
    
    <div class="space-y-8">
        <div class="bg-gray-900 rounded-lg p-5 border-l-4 border-green-500">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-4">
                <h3 class="text-xl font-semibold text-green-400">Phase 1: MVP (Minimum Viable Product)</h3>
                <span class="text-sm text-gray-400 mt-1 md:mt-0 bg-gray-800 px-3 py-1 rounded-full">9 milestones</span>
            </div>
            <p class="text-gray-400 mb-5 text-sm">Core product functionality with all 15 services operational. Estimated duration: 12-16 weeks</p>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-green-500 transition-all duration-200 hover:shadow-lg hover:shadow-green-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-green-900 text-green-400 text-xs font-bold border border-green-500 group-hover:scale-110 transition-transform">1.1</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M1</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-green-400 transition-colors">Foundation Infrastructure</h4>
                                <p class="text-gray-400 text-xs mb-3">Base platform infrastructure before deploying any services</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-green-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">None (starting point)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Kubernetes cluster passes conformance tests</li>
                                        <li class="text-xs text-gray-400">âœ“ All nodes healthy and schedulable</li>
                                        <li class="text-xs text-gray-400">âœ“ Cilium network policies enforced</li>
                                        <li class="text-xs text-gray-400">âœ“ PostgreSQL replication working</li>
                                        <li class="text-xs text-gray-500 italic">+4 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-green-500 transition-all duration-200 hover:shadow-lg hover:shadow-green-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-green-900 text-green-400 text-xs font-bold border border-green-500 group-hover:scale-110 transition-transform">1.2</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M2</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-green-400 transition-colors">Foundational Services</h4>
                                <p class="text-gray-400 text-xs mb-3">Deploy core services that other services depend on</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-green-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestone 1 (Infrastructure ready)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Secrets Service retrieves from Azure Key Vault successfully</li>
                                        <li class="text-xs text-gray-400">âœ“ Observability collecting logs and metrics from all infrastructure</li>
                                        <li class="text-xs text-gray-400">âœ“ Gateway Service routing requests correctly</li>
                                        <li class="text-xs text-gray-400">âœ“ All services register health endpoints</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-green-500 transition-all duration-200 hover:shadow-lg hover:shadow-green-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-green-900 text-green-400 text-xs font-bold border border-green-500 group-hover:scale-110 transition-transform">1.3</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M3</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-green-400 transition-colors">Identity & Access</h4>
                                <p class="text-gray-400 text-xs mb-3">User authentication and authorization</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-green-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestone 2 (Foundational services available)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Users can register and login via Azure AD B2C</li>
                                        <li class="text-xs text-gray-400">âœ“ JWT tokens generated and validated correctly</li>
                                        <li class="text-xs text-gray-400">âœ“ Basic RBAC enforced (admin vs user roles)</li>
                                        <li class="text-xs text-gray-400">âœ“ Password reset and email verification working</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-green-500 transition-all duration-200 hover:shadow-lg hover:shadow-green-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-green-900 text-green-400 text-xs font-bold border border-green-500 group-hover:scale-110 transition-transform">1.4</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M4</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-green-400 transition-colors">Core Backend Services</h4>
                                <p class="text-gray-400 text-xs mb-3">Essential business logic services</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-green-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestone 3 (Identity service for auth)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Billing Service processes test payments via Stripe</li>
                                        <li class="text-xs text-gray-400">âœ“ Firewall rules applied and enforced via Cilium</li>
                                        <li class="text-xs text-gray-400">âœ“ Mods can be uploaded and downloaded</li>
                                        <li class="text-xs text-gray-400">âœ“ Files stored in Azure Blob and retrievable</li>
                                        <li class="text-xs text-gray-500 italic">+2 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-green-500 transition-all duration-200 hover:shadow-lg hover:shadow-green-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-green-900 text-green-400 text-xs font-bold border border-green-500 group-hover:scale-110 transition-transform">1.5</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M5</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-green-400 transition-colors">Game Server Management Services</h4>
                                <p class="text-gray-400 text-xs mb-3">Services for managing game servers</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-green-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestone 4 (Core services available)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Servers Service can create/start/stop server records</li>
                                        <li class="text-xs text-gray-400">âœ“ Templates available for at least 3 game types</li>
                                        <li class="text-xs text-gray-400">âœ“ Schedules can trigger automated tasks</li>
                                        <li class="text-xs text-gray-400">âœ“ Console Service establishes WebSocket connections</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-green-500 transition-all duration-200 hover:shadow-lg hover:shadow-green-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-green-900 text-green-400 text-xs font-bold border border-green-500 group-hover:scale-110 transition-transform">1.6</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M6</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-green-400 transition-colors">Agent Infrastructure</h4>
                                <p class="text-gray-400 text-xs mb-3">Deploy and configure agents on game server hosts</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-green-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestone 5 (Server management services ready)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Agents install successfully on Windows/Linux</li>
                                        <li class="text-xs text-gray-400">âœ“ Agent registration completes with one-time token</li>
                                        <li class="text-xs text-gray-400">âœ“ Agents maintain secure connection to control plane</li>
                                        <li class="text-xs text-gray-400">âœ“ Agents report health status every 30 seconds</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-green-500 transition-all duration-200 hover:shadow-lg hover:shadow-green-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-green-900 text-green-400 text-xs font-bold border border-green-500 group-hover:scale-110 transition-transform">1.7</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M7</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-green-400 transition-colors">Agent-Driven Game Server Operations</h4>
                                <p class="text-gray-400 text-xs mb-3">Agents execute game server commands</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-green-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestone 6 (Agents deployed and connected)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Agents can start/stop game servers reliably</li>
                                        <li class="text-xs text-gray-400">âœ“ File operations complete successfully</li>
                                        <li class="text-xs text-gray-400">âœ“ Console output streams in real-time</li>
                                        <li class="text-xs text-gray-400">âœ“ Resource metrics reported accurately</li>
                                        <li class="text-xs text-gray-500 italic">+3 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-green-500 transition-all duration-200 hover:shadow-lg hover:shadow-green-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-green-900 text-green-400 text-xs font-bold border border-green-500 group-hover:scale-110 transition-transform">1.8</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M8</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-green-400 transition-colors">Frontend Development</h4>
                                <p class="text-gray-400 text-xs mb-3">User interface for all platform functionality</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-green-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestones 2-7 (services and APIs available)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ All backend APIs accessible via UI</li>
                                        <li class="text-xs text-gray-400">âœ“ Dashboard shows real-time server status</li>
                                        <li class="text-xs text-gray-400">âœ“ Server CRUD operations functional</li>
                                        <li class="text-xs text-gray-400">âœ“ Console displays real-time output</li>
                                        <li class="text-xs text-gray-500 italic">+3 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-green-500 transition-all duration-200 hover:shadow-lg hover:shadow-green-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-green-900 text-green-400 text-xs font-bold border border-green-500 group-hover:scale-110 transition-transform">1.9</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M9</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-green-400 transition-colors">MVP Integration & Testing</h4>
                                <p class="text-gray-400 text-xs mb-3">End-to-end testing and production readiness</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-green-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestones 1-8 (all MVP components ready)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ End-to-end user workflows tested and functional</li>
                                        <li class="text-xs text-gray-400">âœ“ System handles 100+ concurrent users</li>
                                        <li class="text-xs text-gray-400">âœ“ No critical security vulnerabilities</li>
                                        <li class="text-xs text-gray-400">âœ“ All documentation complete and accurate</li>
                                        <li class="text-xs text-gray-500 italic">+2 more...</li>
                                    </ul>
                                </div>
                            </div>
            </div>
        </div>

        <div class="bg-gray-900 rounded-lg p-5 border-l-4 border-yellow-500">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-4">
                <h3 class="text-xl font-semibold text-yellow-400">Phase 2: Enhancements</h3>
                <span class="text-sm text-gray-400 mt-1 md:mt-0 bg-gray-800 px-3 py-1 rounded-full">9 milestones</span>
            </div>
            <p class="text-gray-400 mb-5 text-sm">Advanced features and platform maturity. Estimated duration: 8-12 weeks</p>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-yellow-500 transition-all duration-200 hover:shadow-lg hover:shadow-yellow-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-yellow-900 text-yellow-400 text-xs font-bold border border-yellow-500 group-hover:scale-110 transition-transform">2.1</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M1</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-yellow-400 transition-colors">Mod Marketplace & Integration</h4>
                                <p class="text-gray-400 text-xs mb-3">Centralized mod discovery and installation</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-yellow-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">MVP Phase complete</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Marketplace contains 50+ curated mods at launch</li>
                                        <li class="text-xs text-gray-400">âœ“ Installation success rate >95%</li>
                                        <li class="text-xs text-gray-400">âœ“ Compatibility checker prevents conflicts</li>
                                        <li class="text-xs text-gray-400">âœ“ Updates deploy without breaking servers</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-yellow-500 transition-all duration-200 hover:shadow-lg hover:shadow-yellow-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-yellow-900 text-yellow-400 text-xs font-bold border border-yellow-500 group-hover:scale-110 transition-transform">2.2</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M2</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-yellow-400 transition-colors">Team Management & Permissions</h4>
                                <p class="text-gray-400 text-xs mb-3">Multi-user collaboration features</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-yellow-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">MVP Authentication Service</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Teams support 2-50 members</li>
                                        <li class="text-xs text-gray-400">âœ“ Permissions enforce correctly (no privilege escalation)</li>
                                        <li class="text-xs text-gray-400">âœ“ Audit log captures all critical actions</li>
                                        <li class="text-xs text-gray-400">âœ“ Team billing splits costs accurately</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-yellow-500 transition-all duration-200 hover:shadow-lg hover:shadow-yellow-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-yellow-900 text-yellow-400 text-xs font-bold border border-yellow-500 group-hover:scale-110 transition-transform">2.3</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M3</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-yellow-400 transition-colors">Advanced Billing & Usage Tracking</h4>
                                <p class="text-gray-400 text-xs mb-3">Detailed usage analytics and cost management</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-yellow-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">MVP Billing Service</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Usage data updates in real-time (<5 min lag)</li>
                                        <li class="text-xs text-gray-400">âœ“ Cost calculations match actual resource usage</li>
                                        <li class="text-xs text-gray-400">âœ“ Budget alerts trigger at configured thresholds</li>
                                        <li class="text-xs text-gray-400">âœ“ Invoice generation automated monthly</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-yellow-500 transition-all duration-200 hover:shadow-lg hover:shadow-yellow-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-yellow-900 text-yellow-400 text-xs font-bold border border-yellow-500 group-hover:scale-110 transition-transform">2.4</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M4</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-yellow-400 transition-colors">Advanced Networking Features</h4>
                                <p class="text-gray-400 text-xs mb-3">Enhanced networking capabilities</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-yellow-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">MVP Networking Service</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ DDoS mitigation blocks attacks >10Gbps</li>
                                        <li class="text-xs text-gray-400">âœ“ Custom DNS resolves in <50ms globally</li>
                                        <li class="text-xs text-gray-400">âœ“ Geographic routing reduces latency by 30%+</li>
                                        <li class="text-xs text-gray-400">âœ“ Network analytics dashboard operational</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-yellow-500 transition-all duration-200 hover:shadow-lg hover:shadow-yellow-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-yellow-900 text-yellow-400 text-xs font-bold border border-yellow-500 group-hover:scale-110 transition-transform">2.5</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M5</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-yellow-400 transition-colors">Advanced Console Features</h4>
                                <p class="text-gray-400 text-xs mb-3">Enhanced server console capabilities</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-yellow-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">MVP Console Service</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Console history retained 30+ days</li>
                                        <li class="text-xs text-gray-400">âœ“ Command templates save/execute correctly</li>
                                        <li class="text-xs text-gray-400">âœ“ Scheduled commands fire on time (Â±5 seconds)</li>
                                        <li class="text-xs text-gray-400">âœ“ Multi-server commands execute reliably</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-yellow-500 transition-all duration-200 hover:shadow-lg hover:shadow-yellow-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-yellow-900 text-yellow-400 text-xs font-bold border border-yellow-500 group-hover:scale-110 transition-transform">2.6</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M6</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-yellow-400 transition-colors">File Management Enhancements</h4>
                                <p class="text-gray-400 text-xs mb-3">Advanced file operations</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-yellow-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">MVP File Manager Service</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Bulk uploads handle 100+ files</li>
                                        <li class="text-xs text-gray-400">âœ“ File search indexes all server files</li>
                                        <li class="text-xs text-gray-400">âœ“ Archive operations complete without corruption</li>
                                        <li class="text-xs text-gray-400">âœ“ Text editor supports 10+ file types</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-yellow-500 transition-all duration-200 hover:shadow-lg hover:shadow-yellow-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-yellow-900 text-yellow-400 text-xs font-bold border border-yellow-500 group-hover:scale-110 transition-transform">2.7</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M7</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-yellow-400 transition-colors">Analytics & Reporting</h4>
                                <p class="text-gray-400 text-xs mb-3">Data insights and business intelligence</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-yellow-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">MVP Observability</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Analytics dashboards load in <2 seconds</li>
                                        <li class="text-xs text-gray-400">âœ“ Data accuracy verified against raw metrics</li>
                                        <li class="text-xs text-gray-400">âœ“ Reports generate on-demand or scheduled</li>
                                        <li class="text-xs text-gray-400">âœ“ Exports contain complete data sets</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-yellow-500 transition-all duration-200 hover:shadow-lg hover:shadow-yellow-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-yellow-900 text-yellow-400 text-xs font-bold border border-yellow-500 group-hover:scale-110 transition-transform">2.8</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M8</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-yellow-400 transition-colors">API & Developer Tools</h4>
                                <p class="text-gray-400 text-xs mb-3">Programmatic access and automation</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-yellow-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">MVP API Gateway</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ API covers 100% of UI functionality</li>
                                        <li class="text-xs text-gray-400">âœ“ WebSocket events deliver in <100ms</li>
                                        <li class="text-xs text-gray-400">âœ“ API docs auto-generated from code</li>
                                        <li class="text-xs text-gray-400">âœ“ SDKs published to package managers</li>
                                        <li class="text-xs text-gray-500 italic">+2 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-yellow-500 transition-all duration-200 hover:shadow-lg hover:shadow-yellow-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-yellow-900 text-yellow-400 text-xs font-bold border border-yellow-500 group-hover:scale-110 transition-transform">2.9</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M9</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-yellow-400 transition-colors">Mobile-Optimized Web Experience</h4>
                                <p class="text-gray-400 text-xs mb-3">Responsive design improvements</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-yellow-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">MVP Frontend</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Mobile UI usable on screens down to 320px width</li>
                                        <li class="text-xs text-gray-400">âœ“ PWA installable on iOS/Android</li>
                                        <li class="text-xs text-gray-400">âœ“ Push notifications work cross-browser</li>
                                        <li class="text-xs text-gray-400">âœ“ Mobile performance meets Core Web Vitals</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>
            </div>
        </div>

        <div class="bg-gray-900 rounded-lg p-5 border-l-4 border-blue-500">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-4">
                <h3 class="text-xl font-semibold text-blue-400">Phase 3: Launch</h3>
                <span class="text-sm text-gray-400 mt-1 md:mt-0 bg-gray-800 px-3 py-1 rounded-full">9 milestones</span>
            </div>
            <p class="text-gray-400 mb-5 text-sm">Go-to-market readiness and public release. Estimated duration: 6-8 weeks</p>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-blue-500 transition-all duration-200 hover:shadow-lg hover:shadow-blue-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-900 text-blue-400 text-xs font-bold border border-blue-500 group-hover:scale-110 transition-transform">3.1</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M1</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-blue-400 transition-colors">Legal & Compliance</h4>
                                <p class="text-gray-400 text-xs mb-3">Legal requirements for operating a commercial service</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-blue-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">None (can start anytime)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ All legal documents reviewed by attorney</li>
                                        <li class="text-xs text-gray-400">âœ“ Privacy policy covers all data collection/usage</li>
                                        <li class="text-xs text-gray-400">âœ“ Cookie consent banner implemented</li>
                                        <li class="text-xs text-gray-400">âœ“ DMCA agent registered with US Copyright Office</li>
                                        <li class="text-xs text-gray-500 italic">+2 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-blue-500 transition-all duration-200 hover:shadow-lg hover:shadow-blue-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-900 text-blue-400 text-xs font-bold border border-blue-500 group-hover:scale-110 transition-transform">3.2</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M2</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-blue-400 transition-colors">Customer Onboarding & Documentation</h4>
                                <p class="text-gray-400 text-xs mb-3">Help users get started successfully</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-blue-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">MVP complete (need product to document)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ At least 50 knowledge base articles published</li>
                                        <li class="text-xs text-gray-400">âœ“ 10+ video tutorials covering core features</li>
                                        <li class="text-xs text-gray-400">âœ“ New users complete onboarding flow (>70%)</li>
                                        <li class="text-xs text-gray-400">âœ“ API docs auto-generated from OpenAPI spec</li>
                                        <li class="text-xs text-gray-500 italic">+2 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-blue-500 transition-all duration-200 hover:shadow-lg hover:shadow-blue-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-900 text-blue-400 text-xs font-bold border border-blue-500 group-hover:scale-110 transition-transform">3.3</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M3</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-blue-400 transition-colors">Marketing Website & Brand</h4>
                                <p class="text-gray-400 text-xs mb-3">Public-facing marketing presence</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-blue-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Legal (Milestone 1 for ToS/Privacy links)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Marketing site deployed and responsive</li>
                                        <li class="text-xs text-gray-400">âœ“ Blog platform operational</li>
                                        <li class="text-xs text-gray-400">âœ“ Brand assets documented and accessible</li>
                                        <li class="text-xs text-gray-400">âœ“ Email templates designed and tested</li>
                                        <li class="text-xs text-gray-500 italic">+2 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-blue-500 transition-all duration-200 hover:shadow-lg hover:shadow-blue-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-900 text-blue-400 text-xs font-bold border border-blue-500 group-hover:scale-110 transition-transform">3.4</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M4</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-blue-400 transition-colors">Customer Support Infrastructure</h4>
                                <p class="text-gray-400 text-xs mb-3">Tools and processes for helping customers</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-blue-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">MVP complete (need product to support)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Ticketing system integrated with product</li>
                                        <li class="text-xs text-gray-400">âœ“ Live chat widget embedded in app</li>
                                        <li class="text-xs text-gray-400">âœ“ Support email routing to ticketing system</li>
                                        <li class="text-xs text-gray-400">âœ“ SLAs defined and communicated</li>
                                        <li class="text-xs text-gray-500 italic">+2 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-blue-500 transition-all duration-200 hover:shadow-lg hover:shadow-blue-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-900 text-blue-400 text-xs font-bold border border-blue-500 group-hover:scale-110 transition-transform">3.5</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M5</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-blue-400 transition-colors">Payment & Billing Launch Readiness</h4>
                                <p class="text-gray-400 text-xs mb-3">Production payment processing</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-blue-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">MVP Billing Service, Legal (Milestone 1)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Stripe account in production mode</li>
                                        <li class="text-xs text-gray-400">âœ“ All pricing tiers configured</li>
                                        <li class="text-xs text-gray-400">âœ“ Customers can upgrade/downgrade/cancel</li>
                                        <li class="text-xs text-gray-400">âœ“ Invoices sent automatically</li>
                                        <li class="text-xs text-gray-500 italic">+2 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-blue-500 transition-all duration-200 hover:shadow-lg hover:shadow-blue-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-900 text-blue-400 text-xs font-bold border border-blue-500 group-hover:scale-110 transition-transform">3.6</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M6</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-blue-400 transition-colors">Security Hardening & Audit</h4>
                                <p class="text-gray-400 text-xs mb-3">Production security readiness</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-blue-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">MVP complete (need full system to audit)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Penetration test completed with no critical findings</li>
                                        <li class="text-xs text-gray-400">âœ“ Vulnerability scans run automatically in CI/CD</li>
                                        <li class="text-xs text-gray-400">âœ“ All production secrets rotated and secured</li>
                                        <li class="text-xs text-gray-400">âœ“ DDoS protection active and tested</li>
                                        <li class="text-xs text-gray-500 italic">+2 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-blue-500 transition-all duration-200 hover:shadow-lg hover:shadow-blue-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-900 text-blue-400 text-xs font-bold border border-blue-500 group-hover:scale-110 transition-transform">3.7</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M7</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-blue-400 transition-colors">Performance & Scalability Testing</h4>
                                <p class="text-gray-400 text-xs mb-3">Ensure system can handle production load</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-blue-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">MVP complete (need full system to test)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ System handles 1000+ concurrent users</li>
                                        <li class="text-xs text-gray-400">âœ“ API response times <500ms (p95)</li>
                                        <li class="text-xs text-gray-400">âœ“ Database queries optimized (<100ms)</li>
                                        <li class="text-xs text-gray-400">âœ“ Static assets served via CDN</li>
                                        <li class="text-xs text-gray-500 italic">+2 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-blue-500 transition-all duration-200 hover:shadow-lg hover:shadow-blue-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-900 text-blue-400 text-xs font-bold border border-blue-500 group-hover:scale-110 transition-transform">3.8</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M8</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-blue-400 transition-colors">Monitoring & Alerting</h4>
                                <p class="text-gray-400 text-xs mb-3">Production observability</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-blue-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">MVP Observability</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Uptime monitoring checks all critical endpoints</li>
                                        <li class="text-xs text-gray-400">âœ“ Errors automatically tracked and triaged</li>
                                        <li class="text-xs text-gray-400">âœ“ Logs searchable and retained for 30+ days</li>
                                        <li class="text-xs text-gray-400">âœ“ APM shows service dependencies</li>
                                        <li class="text-xs text-gray-500 italic">+2 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-blue-500 transition-all duration-200 hover:shadow-lg hover:shadow-blue-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-900 text-blue-400 text-xs font-bold border border-blue-500 group-hover:scale-110 transition-transform">3.9</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M9</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-blue-400 transition-colors">Launch Checklist & Go-Live</h4>
                                <p class="text-gray-400 text-xs mb-3">Final verification before public launch</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-blue-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">All previous Launch milestones</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Pre-launch checklist 100% complete</li>
                                        <li class="text-xs text-gray-400">âœ“ Rollback procedures tested</li>
                                        <li class="text-xs text-gray-400">âœ“ Launch announcement ready to publish</li>
                                        <li class="text-xs text-gray-400">âœ“ All payment tiers functional</li>
                                        <li class="text-xs text-gray-500 italic">+2 more...</li>
                                    </ul>
                                </div>
                            </div>
            </div>
        </div>

        <div class="bg-gray-900 rounded-lg p-5 border-l-4 border-indigo-500">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-4">
                <h3 class="text-xl font-semibold text-indigo-400">Phase 4: KiP (Knowledge is Power Edition)</h3>
                <span class="text-sm text-gray-400 mt-1 md:mt-0 bg-gray-800 px-3 py-1 rounded-full">9 milestones</span>
            </div>
            <p class="text-gray-400 mb-5 text-sm">Open-source, self-hosted version for community deployment. Estimated duration: 6-10 weeks</p>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-indigo-500 transition-all duration-200 hover:shadow-lg hover:shadow-indigo-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-indigo-900 text-indigo-400 text-xs font-bold border border-indigo-500 group-hover:scale-110 transition-transform">4.1</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M1</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-indigo-400 transition-colors">Open Source Preparation</h4>
                                <p class="text-gray-400 text-xs mb-3">Prepare codebase for public release</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-indigo-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">MVP complete (need stable codebase)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ All proprietary code removed or abstracted</li>
                                        <li class="text-xs text-gray-400">âœ“ No hardcoded secrets or internal URLs</li>
                                        <li class="text-xs text-gray-400">âœ“ License file added to all repositories</li>
                                        <li class="text-xs text-gray-400">âœ“ Contributor documentation complete</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-indigo-500 transition-all duration-200 hover:shadow-lg hover:shadow-indigo-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-indigo-900 text-indigo-400 text-xs font-bold border border-indigo-500 group-hover:scale-110 transition-transform">4.2</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M2</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-indigo-400 transition-colors">Simplified Deployment</h4>
                                <p class="text-gray-400 text-xs mb-3">Make self-hosting accessible</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-indigo-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestone 1 (open source prep)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Docker Compose deploys all services successfully</li>
                                        <li class="text-xs text-gray-400">âœ“ Helm chart installs on vanilla K8s cluster</li>
                                        <li class="text-xs text-gray-400">âœ“ Installation completes in <30 minutes</li>
                                        <li class="text-xs text-gray-400">âœ“ Configuration documented and validated</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-indigo-500 transition-all duration-200 hover:shadow-lg hover:shadow-indigo-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-indigo-900 text-indigo-400 text-xs font-bold border border-indigo-500 group-hover:scale-110 transition-transform">4.3</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M3</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-indigo-400 transition-colors">Self-Hosted Infrastructure Alternatives</h4>
                                <p class="text-gray-400 text-xs mb-3">Replace managed services with self-hostable options</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-indigo-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestone 2 (deployment tools ready)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ All Azure-specific services have self-hosted alternatives</li>
                                        <li class="text-xs text-gray-400">âœ“ Configuration switches between managed/self-hosted</li>
                                        <li class="text-xs text-gray-400">âœ“ Documentation covers all alternative options</li>
                                        <li class="text-xs text-gray-400">âœ“ Default config uses self-hosted components</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-indigo-500 transition-all duration-200 hover:shadow-lg hover:shadow-indigo-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-indigo-900 text-indigo-400 text-xs font-bold border border-indigo-500 group-hover:scale-110 transition-transform">4.4</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M4</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-indigo-400 transition-colors">Simplified Feature Set</h4>
                                <p class="text-gray-400 text-xs mb-3">Remove enterprise/cloud-only features for KiP</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-indigo-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestone 3 (infrastructure alternatives ready)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ KiP runs without billing service</li>
                                        <li class="text-xs text-gray-400">âœ“ Single-tenant mode functional</li>
                                        <li class="text-xs text-gray-400">âœ“ Basic networking works without Cilium</li>
                                        <li class="text-xs text-gray-400">âœ“ No Azure dependencies remain</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-indigo-500 transition-all duration-200 hover:shadow-lg hover:shadow-indigo-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-indigo-900 text-indigo-400 text-xs font-bold border border-indigo-500 group-hover:scale-110 transition-transform">4.5</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M5</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-indigo-400 transition-colors">Community Infrastructure</h4>
                                <p class="text-gray-400 text-xs mb-3">Support channels for self-hosters</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-indigo-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestone 1 (open source ready)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ GitHub Discussions enabled and moderated</li>
                                        <li class="text-xs text-gray-400">âœ“ Discord server active with channels</li>
                                        <li class="text-xs text-gray-400">âœ“ Documentation site deployed and indexed</li>
                                        <li class="text-xs text-gray-400">âœ“ At least 10 example configurations</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-indigo-500 transition-all duration-200 hover:shadow-lg hover:shadow-indigo-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-indigo-900 text-indigo-400 text-xs font-bold border border-indigo-500 group-hover:scale-110 transition-transform">4.6</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M6</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-indigo-400 transition-colors">Agent Simplification</h4>
                                <p class="text-gray-400 text-xs mb-3">Streamlined agents for self-hosted environments</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-indigo-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestone 4 (simplified feature set)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Agents install with one command</li>
                                        <li class="text-xs text-gray-400">âœ“ No external dependencies required</li>
                                        <li class="text-xs text-gray-400">âœ“ Agents work in air-gapped environments</li>
                                        <li class="text-xs text-gray-400">âœ“ Configuration UI functional and intuitive</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-indigo-500 transition-all duration-200 hover:shadow-lg hover:shadow-indigo-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-indigo-900 text-indigo-400 text-xs font-bold border border-indigo-500 group-hover:scale-110 transition-transform">4.7</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M7</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-indigo-400 transition-colors">Performance Optimization for Small Deployments</h4>
                                <p class="text-gray-400 text-xs mb-3">Optimize for single-server/small-cluster deployments</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-indigo-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestone 2 (deployment ready)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ System runs on 2 CPU / 4GB RAM minimum</li>
                                        <li class="text-xs text-gray-400">âœ“ Lightweight mode reduces resource usage by 50%</li>
                                        <li class="text-xs text-gray-400">âœ“ Database performs well with <1000 servers</li>
                                        <li class="text-xs text-gray-400">âœ“ Combined services deploy successfully</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-indigo-500 transition-all duration-200 hover:shadow-lg hover:shadow-indigo-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-indigo-900 text-indigo-400 text-xs font-bold border border-indigo-500 group-hover:scale-110 transition-transform">4.8</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M8</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-indigo-400 transition-colors">Migration Tools (Cloud to Self-Hosted)</h4>
                                <p class="text-gray-400 text-xs mb-3">Allow users to migrate from hosted to KiP</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-indigo-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestone 3 (self-hosted infrastructure ready)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Export tool captures all user data</li>
                                        <li class="text-xs text-gray-400">âœ“ Import tool restores data successfully</li>
                                        <li class="text-xs text-gray-400">âœ“ No data loss during migration</li>
                                        <li class="text-xs text-gray-400">âœ“ Migration guide tested and validated</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-indigo-500 transition-all duration-200 hover:shadow-lg hover:shadow-indigo-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-indigo-900 text-indigo-400 text-xs font-bold border border-indigo-500 group-hover:scale-110 transition-transform">4.9</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M9</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-indigo-400 transition-colors">KiP Launch & Promotion</h4>
                                <p class="text-gray-400 text-xs mb-3">Public release and community building</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-indigo-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">All previous KiP milestones</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ GitHub repository starred by 100+ users</li>
                                        <li class="text-xs text-gray-400">âœ“ Launch announcement reaches 10k+ impressions</li>
                                        <li class="text-xs text-gray-400">âœ“ YouTube video published with installation guide</li>
                                        <li class="text-xs text-gray-400">âœ“ Comparison guide helps users choose version</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>
            </div>
        </div>

        <div class="bg-gray-900 rounded-lg p-5 border-l-4 border-purple-500">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-4">
                <h3 class="text-xl font-semibold text-purple-400">Phase 5: Mobile Apps</h3>
                <span class="text-sm text-gray-400 mt-1 md:mt-0 bg-gray-800 px-3 py-1 rounded-full">9 milestones</span>
            </div>
            <p class="text-gray-400 mb-5 text-sm">iOS and Android native applications. Estimated duration: 10-14 weeks</p>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-purple-500 transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-purple-900 text-purple-400 text-xs font-bold border border-purple-500 group-hover:scale-110 transition-transform">5.1</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M1</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-purple-400 transition-colors">Mobile Strategy & Requirements</h4>
                                <p class="text-gray-400 text-xs mb-3">Define scope and approach for mobile presence</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-purple-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Launch Phase complete (stable API)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Mobile feature set defined and approved</li>
                                        <li class="text-xs text-gray-400">âœ“ Platform choice justified and documented</li>
                                        <li class="text-xs text-gray-400">âœ“ UX mockups for key flows completed</li>
                                        <li class="text-xs text-gray-400">âœ“ Performance benchmarks established</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-purple-500 transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-purple-900 text-purple-400 text-xs font-bold border border-purple-500 group-hover:scale-110 transition-transform">5.2</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M2</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-purple-400 transition-colors">Mobile API Enhancements</h4>
                                <p class="text-gray-400 text-xs mb-3">Optimize backend for mobile clients</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-purple-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestone 1 (requirements defined)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Push notifications deliver reliably</li>
                                        <li class="text-xs text-gray-400">âœ“ API responses optimized for mobile bandwidth</li>
                                        <li class="text-xs text-gray-400">âœ“ Offline mode caches critical data</li>
                                        <li class="text-xs text-gray-400">âœ“ Biometric auth works on iOS/Android</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-purple-500 transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-purple-900 text-purple-400 text-xs font-bold border border-purple-500 group-hover:scale-110 transition-transform">5.3</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M3</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-purple-400 transition-colors">Core Mobile App (iOS)</h4>
                                <p class="text-gray-400 text-xs mb-3">iOS app with essential functionality</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-purple-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestone 2 (mobile API ready)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ App approved and published to App Store</li>
                                        <li class="text-xs text-gray-400">âœ“ All core features functional</li>
                                        <li class="text-xs text-gray-400">âœ“ Performance smooth on iPhone 12+</li>
                                        <li class="text-xs text-gray-400">âœ“ Battery usage acceptable (<5% per hour)</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-purple-500 transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-purple-900 text-purple-400 text-xs font-bold border border-purple-500 group-hover:scale-110 transition-transform">5.4</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M4</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-purple-400 transition-colors">Core Mobile App (Android)</h4>
                                <p class="text-gray-400 text-xs mb-3">Android app with essential functionality</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-purple-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestone 2 (mobile API ready)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ App approved and published to Google Play</li>
                                        <li class="text-xs text-gray-400">âœ“ All core features functional</li>
                                        <li class="text-xs text-gray-400">âœ“ Performance smooth on Android 10+</li>
                                        <li class="text-xs text-gray-400">âœ“ Battery usage acceptable (<5% per hour)</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-purple-500 transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-purple-900 text-purple-400 text-xs font-bold border border-purple-500 group-hover:scale-110 transition-transform">5.5</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M5</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-purple-400 transition-colors">Advanced Mobile Features (Phase 1)</h4>
                                <p class="text-gray-400 text-xs mb-3">Enhanced functionality beyond basics</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-purple-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestones 3 & 4 (core apps released)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Interactive console works reliably</li>
                                        <li class="text-xs text-gray-400">âœ“ File operations functional on mobile</li>
                                        <li class="text-xs text-gray-400">âœ“ Server creation wizard mobile-optimized</li>
                                        <li class="text-xs text-gray-400">âœ“ Widgets provide useful at-a-glance info</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-purple-500 transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-purple-900 text-purple-400 text-xs font-bold border border-purple-500 group-hover:scale-110 transition-transform">5.6</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M6</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-purple-400 transition-colors">Advanced Mobile Features (Phase 2)</h4>
                                <p class="text-gray-400 text-xs mb-3">Power user features</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-purple-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestone 5 (advanced features phase 1)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Batch operations work across multiple servers</li>
                                        <li class="text-xs text-gray-400">âœ“ Custom alert rules save and trigger correctly</li>
                                        <li class="text-xs text-gray-400">âœ“ Offline actions sync when connection restored</li>
                                        <li class="text-xs text-gray-400">âœ“ Mod browsing optimized for mobile screens</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-purple-500 transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-purple-900 text-purple-400 text-xs font-bold border border-purple-500 group-hover:scale-110 transition-transform">5.7</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M7</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-purple-400 transition-colors">Mobile App Optimization</h4>
                                <p class="text-gray-400 text-xs mb-3">Performance and polish</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-purple-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestones 3-6 (apps functional)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ App size <50MB</li>
                                        <li class="text-xs text-gray-400">âœ“ Launch time <2 seconds</li>
                                        <li class="text-xs text-gray-400">âœ“ Accessibility audit passes</li>
                                        <li class="text-xs text-gray-400">âœ“ At least 3 languages supported</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-purple-500 transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-purple-900 text-purple-400 text-xs font-bold border border-purple-500 group-hover:scale-110 transition-transform">5.8</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M8</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-purple-400 transition-colors">Tablet & Watch Support</h4>
                                <p class="text-gray-400 text-xs mb-3">Extend to additional form factors</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-purple-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Milestones 3 & 4 (phone apps stable)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ iPad app uses available screen space effectively</li>
                                        <li class="text-xs text-gray-400">âœ“ Android tablet layouts responsive</li>
                                        <li class="text-xs text-gray-400">âœ“ Watch apps functional for quick checks</li>
                                        <li class="text-xs text-gray-400">âœ“ Watch apps don't drain battery excessively</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-purple-500 transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-purple-900 text-purple-400 text-xs font-bold border border-purple-500 group-hover:scale-110 transition-transform">5.9</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M9</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-purple-400 transition-colors">Mobile Platform Maturity</h4>
                                <p class="text-gray-400 text-xs mb-3">Long-term mobile sustainability</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-purple-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">All previous mobile milestones</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Feature parity documented and justified</li>
                                        <li class="text-xs text-gray-400">âœ“ At least 2 mobile-first features launched</li>
                                        <li class="text-xs text-gray-400">âœ“ Deep links work from all notification types</li>
                                        <li class="text-xs text-gray-400">âœ“ App clips/instant apps functional</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>
            </div>
        </div>

        <div class="bg-gray-900 rounded-lg p-5 border-l-4 border-pink-500">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-4">
                <h3 class="text-xl font-semibold text-pink-400">Phase 6: Sustained Engineering & Future</h3>
                <span class="text-sm text-gray-400 mt-1 md:mt-0 bg-gray-800 px-3 py-1 rounded-full">9 milestones</span>
            </div>
            <p class="text-gray-400 mb-5 text-sm">Long-term product evolution, maintenance, and innovation. Ongoing</p>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-pink-500 transition-all duration-200 hover:shadow-lg hover:shadow-pink-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-pink-900 text-pink-400 text-xs font-bold border border-pink-500 group-hover:scale-110 transition-transform">6.1</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M1</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-pink-400 transition-colors">Technical Debt Reduction</h4>
                                <p class="text-gray-400 text-xs mb-3">Address accumulated shortcuts and improve code quality</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-pink-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">All previous phases (need stable product)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Code coverage reaches 90%+</li>
                                        <li class="text-xs text-gray-400">âœ“ All dependencies on supported versions</li>
                                        <li class="text-xs text-gray-400">âœ“ No critical security vulnerabilities</li>
                                        <li class="text-xs text-gray-400">âœ“ Performance regressions addressed</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-pink-500 transition-all duration-200 hover:shadow-lg hover:shadow-pink-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-pink-900 text-pink-400 text-xs font-bold border border-pink-500 group-hover:scale-110 transition-transform">6.2</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M2</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-pink-400 transition-colors">Scalability Improvements</h4>
                                <p class="text-gray-400 text-xs mb-3">Prepare for 10x+ growth</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-pink-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Launch phase complete (production traffic data)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ System handles 10,000+ concurrent users</li>
                                        <li class="text-xs text-gray-400">âœ“ Database scales horizontally</li>
                                        <li class="text-xs text-gray-400">âœ“ API response times remain <500ms at scale</li>
                                        <li class="text-xs text-gray-400">âœ“ CDN serves 90%+ of static content</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-pink-500 transition-all duration-200 hover:shadow-lg hover:shadow-pink-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-pink-900 text-pink-400 text-xs font-bold border border-pink-500 group-hover:scale-110 transition-transform">6.3</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M3</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-pink-400 transition-colors">Enterprise Features</h4>
                                <p class="text-gray-400 text-xs mb-3">Features for larger organizations</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-pink-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Launch phase complete (customer feedback)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ SSO integration with major providers (Okta, Azure AD)</li>
                                        <li class="text-xs text-gray-400">âœ“ RBAC supports complex org structures</li>
                                        <li class="text-xs text-gray-400">âœ“ Audit logs meet SOC 2 requirements</li>
                                        <li class="text-xs text-gray-400">âœ“ SLA monitoring and reporting automated</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-pink-500 transition-all duration-200 hover:shadow-lg hover:shadow-pink-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-pink-900 text-pink-400 text-xs font-bold border border-pink-500 group-hover:scale-110 transition-transform">6.4</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M4</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-pink-400 transition-colors">AI/ML Integration</h4>
                                <p class="text-gray-400 text-xs mb-3">Intelligent features powered by machine learning</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-pink-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Launch phase (need historical data)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Anomaly detection accuracy >85%</li>
                                        <li class="text-xs text-gray-400">âœ“ Predictive scaling reduces incidents by 50%</li>
                                        <li class="text-xs text-gray-400">âœ“ Recommendations improve performance measurably</li>
                                        <li class="text-xs text-gray-400">âœ“ Automated troubleshooting resolves 30%+ of issues</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-pink-500 transition-all duration-200 hover:shadow-lg hover:shadow-pink-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-pink-900 text-pink-400 text-xs font-bold border border-pink-500 group-hover:scale-110 transition-transform">6.5</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M5</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-pink-400 transition-colors">Advanced Game Support</h4>
                                <p class="text-gray-400 text-xs mb-3">Expand beyond initial game types</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-pink-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">MVP game support stable</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ At least 15 total game types supported</li>
                                        <li class="text-xs text-gray-400">âœ“ Game-specific features implemented for top 5 games</li>
                                        <li class="text-xs text-gray-400">âœ“ Mod marketplace has 200+ mods</li>
                                        <li class="text-xs text-gray-400">âœ“ Voice server provisioning functional</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-pink-500 transition-all duration-200 hover:shadow-lg hover:shadow-pink-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-pink-900 text-pink-400 text-xs font-bold border border-pink-500 group-hover:scale-110 transition-transform">6.6</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M6</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-pink-400 transition-colors">Platform Ecosystem</h4>
                                <p class="text-gray-400 text-xs mb-3">Enable third-party integrations and extensions</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-pink-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">API & Developer Tools (Enhancements Phase)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Plugin system supports common use cases</li>
                                        <li class="text-xs text-gray-400">âœ“ Marketplace has 20+ third-party plugins</li>
                                        <li class="text-xs text-gray-400">âœ“ Webhooks deliver 99.9% of events</li>
                                        <li class="text-xs text-gray-400">âœ“ GraphQL API covers all functionality</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-pink-500 transition-all duration-200 hover:shadow-lg hover:shadow-pink-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-pink-900 text-pink-400 text-xs font-bold border border-pink-500 group-hover:scale-110 transition-transform">6.7</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M7</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-pink-400 transition-colors">Global Expansion</h4>
                                <p class="text-gray-400 text-xs mb-3">Support international customers</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-pink-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Launch phase (stable foundation)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Services deployed in 3+ regions</li>
                                        <li class="text-xs text-gray-400">âœ“ UI/docs translated to 10+ languages</li>
                                        <li class="text-xs text-gray-400">âœ“ Payment processing in 5+ currencies</li>
                                        <li class="text-xs text-gray-400">âœ“ GDPR compliance verified</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-pink-500 transition-all duration-200 hover:shadow-lg hover:shadow-pink-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-pink-900 text-pink-400 text-xs font-bold border border-pink-500 group-hover:scale-110 transition-transform">6.8</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M8</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-pink-400 transition-colors">Advanced Analytics & BI</h4>
                                <p class="text-gray-400 text-xs mb-3">Deep insights for users and business</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-pink-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">Analytics & Reporting (Enhancements Phase)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Users can create custom dashboards</li>
                                        <li class="text-xs text-gray-400">âœ“ Data export supports CSV, JSON, Parquet</li>
                                        <li class="text-xs text-gray-400">âœ“ Predictive models deployed and accurate</li>
                                        <li class="text-xs text-gray-400">âœ“ BI dashboards track key business metrics</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded-lg p-4 border border-gray-600 hover:border-pink-500 transition-all duration-200 hover:shadow-lg hover:shadow-pink-500/10 group">
                                <div class="flex items-start justify-between mb-2">
                                    <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-pink-900 text-pink-400 text-xs font-bold border border-pink-500 group-hover:scale-110 transition-transform">6.9</span>
                                    <span class="text-xs text-gray-500 bg-gray-700 px-2 py-0.5 rounded">M9</span>
                                </div>
                                <h4 class="text-white font-semibold text-sm mb-1 group-hover:text-pink-400 transition-colors">Innovation & R&D</h4>
                                <p class="text-gray-400 text-xs mb-3">Explore future technologies and features</p>
                                <div class="mb-3">
                                    <span class="text-xs font-medium text-pink-400">â†³ Depends on:</span>
                                    <p class="text-xs text-gray-500 mt-0.5">All previous phases (mature platform)</p>
                                </div>
                                <div class="border-t border-gray-700 pt-2">
                                    <span class="text-xs font-medium text-gray-300 block mb-1">âœ… Success Criteria:</span>
                                    <ul class="space-y-0.5">
                                        <li class="text-xs text-gray-400">âœ“ Edge deployment piloted in 2+ locations</li>
                                        <li class="text-xs text-gray-400">âœ“ Blockchain features (if pursued) functional</li>
                                        <li class="text-xs text-gray-400">âœ“ VR/AR platform support (if applicable) working</li>
                                        <li class="text-xs text-gray-400">âœ“ Encryption upgraded to quantum-resistant algorithms</li>
                                        <li class="text-xs text-gray-500 italic">+1 more...</li>
                                    </ul>
                                </div>
                            </div>
            </div>
        </div>
    </div>
</section>

<!-- SECTION 17: GOVERNANCE -->
<section id="governance" class="bg-gray-800 rounded-xl p-6 border border-indigo-700">
    <h2 class="text-2xl font-bold text-white mb-4">ğŸ›ï¸ Product Governance</h2>
    <p class="text-sm text-gray-400 mb-6">Governance structure specific to Meridian Console product development and operations.</p>
    
    <div class="grid md:grid-cols-2 gap-6 mb-6">
        <div class="bg-gray-900 rounded-lg p-5 border border-gray-600">
            <h3 class="text-xl font-semibold text-indigo-400 mb-3">ğŸ”§ Service Ownership</h3>
            <table class="w-full text-sm">
                <thead><tr class="text-left text-gray-400"><th>Service</th><th>Owner</th></tr></thead>
                <tbody class="text-gray-300">
                    <tr><td>Cloudflare (DNS, CDN)</td><td class="text-cyan-400">Aura</td></tr>
                    <tr><td>M365 Tenant</td><td class="text-cyan-400">Cady</td></tr>
                    <tr><td>GitHub Organization</td><td class="text-cyan-400">Jorsh</td></tr>
                    <tr><td>Azure Subscription</td><td class="text-cyan-400">TBD</td></tr>
                </tbody>
            </table>
        </div>
        <div class="bg-gray-900 rounded-lg p-5 border border-gray-600">
            <h3 class="text-xl font-semibold text-indigo-400 mb-3">ğŸ“‹ Contribution Tracking</h3>
            <ul class="text-sm text-gray-400 space-y-2">
                <li>â€¢ <strong class="text-white">Method:</strong> GitHub CONTRIBUTIONS.md</li>
                <li>â€¢ <strong class="text-white">Focus:</strong> Significant efforts, not hours</li>
                <li>â€¢ <strong class="text-white">No credentials:</strong> Hard rule â€” AKV only</li>
                <li>â€¢ <strong class="text-white">Audit:</strong> Git history for changes</li>
            </ul>
        </div>
    </div>
    
    <div class="bg-gray-900 rounded-lg p-5 border border-gray-600">
        <h3 class="text-xl font-semibold text-indigo-400 mb-3">ğŸ¯ Decision Authority</h3>
        <div class="grid md:grid-cols-3 gap-4 text-sm">
            <div>
                <h4 class="text-white font-medium mb-2">Technical Decisions</h4>
                <ul class="text-gray-400 space-y-1">
                    <li>â€¢ Architecture â†’ Founders consensus</li>
                    <li>â€¢ Tech stack â†’ Founders consensus</li>
                    <li>â€¢ Implementation â†’ Assigned dev</li>
                </ul>
            </div>
            <div>
                <h4 class="text-white font-medium mb-2">Product Decisions</h4>
                <ul class="text-gray-400 space-y-1">
                    <li>â€¢ Features â†’ Founders consensus</li>
                    <li>â€¢ Pricing â†’ Founders consensus</li>
                    <li>â€¢ Roadmap â†’ Founders consensus</li>
                </ul>
            </div>
            <div>
                <h4 class="text-white font-medium mb-2">Operational Decisions</h4>
                <ul class="text-gray-400 space-y-1">
                    <li>â€¢ Incidents â†’ On-call owner</li>
                    <li>â€¢ Access grants â†’ Service owner</li>
                    <li>â€¢ Vendor changes â†’ Founders vote</li>
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- SECTION 18: REPOSITORY STRUCTURE -->
<section id="repos" class="bg-gray-800 rounded-xl p-6 border border-gray-700">
    <h2 class="text-2xl font-bold text-white mb-4">ğŸ“ Repository Structure</h2>
    <div class="bg-gray-900 rounded-lg p-4 overflow-x-auto border border-gray-600">
        <pre class="tree text-green-400">MeridianConsole/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Shared/
â”‚   â”‚   â”œâ”€â”€ MeridianConsole.Shared/           # Common utilities
â”‚   â”‚   â”œâ”€â”€ MeridianConsole.Contracts/        # DTOs, API contracts
â”‚   â”‚   â”œâ”€â”€ MeridianConsole.Messaging/        # RabbitMQ abstractions
â”‚   â”‚   â””â”€â”€ MeridianConsole.ServiceDefaults/  # Aspire defaults
â”‚   â”œâ”€â”€ Gateway/
â”‚   â”œâ”€â”€ Identity/
â”‚   â”œâ”€â”€ Billing/                              # SaaS only (excluded from KiP)
â”‚   â”œâ”€â”€ Servers/
â”‚   â”œâ”€â”€ Nodes/
â”‚   â”œâ”€â”€ Tasks/
â”‚   â”œâ”€â”€ Files/
â”‚   â”œâ”€â”€ Console/
â”‚   â”œâ”€â”€ Mods/
â”‚   â”œâ”€â”€ Notifications/
â”‚   â”œâ”€â”€ Firewall/
â”‚   â”œâ”€â”€ Secrets/
â”‚   â”œâ”€â”€ Discord/
â”‚   â”œâ”€â”€ Web/
â”‚   â””â”€â”€ Agents/
â”‚       â”œâ”€â”€ MeridianConsole.Agent.Core/
â”‚       â”œâ”€â”€ MeridianConsole.Agent.Linux/
â”‚       â””â”€â”€ MeridianConsole.Agent.Windows/
â”œâ”€â”€ deploy/
â”‚   â”œâ”€â”€ kubernetes/                           # SaaS deployment
â”‚   â”‚   â”œâ”€â”€ base/
â”‚   â”‚   â”œâ”€â”€ overlays/
â”‚   â”‚   â””â”€â”€ cert-manager/
â”‚   â”œâ”€â”€ compose/                              # KiP deployment
â”‚   â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â”‚   â”œâ”€â”€ docker-compose.monitoring.yml
â”‚   â”‚   â”œâ”€â”€ docker-compose.discord.yml
â”‚   â”‚   â””â”€â”€ .env.example
â”‚   â””â”€â”€ terraform/
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ architecture/
â”‚   â”œâ”€â”€ runbooks/
â”‚   â””â”€â”€ kip/                                  # Self-host documentation
â”œâ”€â”€ CONTRIBUTIONS.md
â””â”€â”€ README.md</pre>
    </div>
</section>

</main>

<footer class="bg-gray-800 border-t border-gray-700 py-8 px-6 mt-12">
    <div class="max-w-7xl mx-auto">
        <div class="grid md:grid-cols-3 gap-6 text-sm text-gray-400">
            <div>
                <h4 class="text-white font-semibold mb-2">ğŸ“‹ Document Info</h4>
                <p>Version: 4.4 (Pre-MVP)</p>
                <p>Last Updated: January 2025</p>
                <p>Product: Meridian Console</p>
                <p>Company: Sandbox Servers</p>
            </div>
            <div>
                <h4 class="text-white font-semibold mb-2">ğŸ·ï¸ Codenames</h4>
                <ul class="space-y-1">
                    <li><span class="text-indigo-400">Dadghar</span> â€” SaaS (primary)</li>
                    <li><span class="text-gray-500">KiP</span> â€” Self-Host (future)</li>
                </ul>
            </div>
            <div>
                <h4 class="text-white font-semibold mb-2">ğŸ“Š Stats</h4>
                <ul class="space-y-1">
                    <li>14 Microservices (13 in KiP)</li>
                    <li>2 Agent Types</li>
                    <li>2 Deployment Modes (K8s + Compose)</li>
                    <li>30-day log retention (global)</li>
                </ul>
            </div>
        </div>
        <div class="mt-6 pt-6 border-t border-gray-700 text-center text-gray-500">
            ğŸ® Meridian Console v4.4 â€” A Product of Sandbox Servers
        </div>
    </div>
</footer>
</body>
</html>
