@page "/"
@inject ScopeContentService Scope

<PageTitle>Meridian Console Scope Navigator</PageTitle>

<div class="mx-auto w-full max-w-5xl">
    <div class="space-y-6">

        <!-- HERO -->
        <MudPaper Class="rounded-2xl border border-white/10 bg-white/5 p-6" Elevation="0">
            <div class="flex flex-col gap-6 md:flex-row md:items-center md:justify-between">
                <div class="max-w-xl">
                    <MudText Typo="Typo.h3" Class="font-bold tracking-tight">Meridian Console Scope Navigator</MudText>

                    <MudText Typo="Typo.body1" Class="mt-3" Style="color: rgba(255,255,255,0.8);">
                        A living, searchable architecture + delivery map for Meridian Console.
                    </MudText>

                    <ul class="mt-4 space-y-2 text-sm text-white/70">
                        <li class="flex gap-2">
                            <span class="mt-[2px] inline-block h-2 w-2 rounded-full bg-white/30"></span>
                            Browse structured sections with deep links and fast sidebar search
                        </li>
                        <li class="flex gap-2">
                            <span class="mt-[2px] inline-block h-2 w-2 rounded-full bg-white/30"></span>
                            Explore an interactive dependency graph across services, data, and flows
                        </li>
                        <li class="flex gap-2">
                            <span class="mt-[2px] inline-block h-2 w-2 rounded-full bg-white/30"></span>
                            Share a single URL that reflects the current, agreed scope
                        </li>
                    </ul>
                </div>

                <img src="images/meridian-console.png"
                     alt="Meridian Console"
                     class="w-full max-w-xs rounded-2xl border border-white/10 shadow-xl md:w-72" />
            </div>

            <!-- START WHERE YOU ARE -->
            <MudPaper Class="mt-6 rounded-2xl border border-white/10 bg-black/30 p-5" Elevation="0">
                <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">Start where you are</MudText>
                <MudText Typo="Typo.body2" Class="mt-2" Style="color: rgba(255,255,255,0.7);">
                    New here? Follow the narrative. Need impact fast? Jump to phases or open the dependency map.
                </MudText>

                <div class="mt-4 flex flex-wrap gap-3">
                    <MudButton Href="/s/project-structure"
                               Variant="Variant.Filled"
                               Color="Color.Primary"
                               Class="rounded-xl font-semibold"
                               Style="text-transform: none;">
                        Start at Section 1
                    </MudButton>

                    <MudButton Href="/s/mvp"
                               Variant="Variant.Outlined"
                               Color="Color.Default"
                               Class="rounded-xl font-semibold"
                               Style="border: 1px solid rgba(255,255,255,0.15); background: transparent; text-transform: none;">
                        MVP Scope &amp; Phases
                    </MudButton>

                    <MudButton Href="/dependencies"
                               Variant="Variant.Outlined"
                               Color="Color.Default"
                               Class="rounded-xl font-semibold"
                               Style="border: 1px solid rgba(255,255,255,0.15); background: transparent; text-transform: none;">
                        Dependency Map
                    </MudButton>

                    <MudButton Href="/s/repos"
                               Variant="Variant.Outlined"
                               Color="Color.Default"
                               Class="rounded-xl font-semibold"
                               Style="border: 1px solid rgba(255,255,255,0.15); background: transparent; text-transform: none;">
                        Repository Structure
                    </MudButton>
                </div>
            </MudPaper>

            <!-- WHAT THIS APP DOES -->
            <div class="mt-6 grid gap-4 lg:grid-cols-3">
                <MudPaper Class="rounded-2xl border border-white/10 bg-black/30 p-4" Elevation="0">
                    <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">How to use it</MudText>
                    <MudText Typo="Typo.body2" Class="mt-2" Style="color: rgba(255,255,255,0.7);">
                        Use the sidebar to browse sections, or type to filter instantly. Every section has a stable link
                        so you can share exact context in discussions.
                    </MudText>
                </MudPaper>

                <MudPaper Class="rounded-2xl border border-white/10 bg-black/30 p-4" Elevation="0">
                    <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">What you can do here</MudText>
                    <MudText Typo="Typo.body2" Class="mt-2" Style="color: rgba(255,255,255,0.7);">
                        Move between vision, architecture, security, schemas, and flows—then switch to the dependency map
                        to validate impact before changes land.
                    </MudText>
                </MudPaper>

                <MudPaper Class="rounded-2xl border border-white/10 bg-black/30 p-4" Elevation="0">
                    <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">What it replaces</MudText>
                    <MudText Typo="Typo.body2" Class="mt-2" Style="color: rgba(255,255,255,0.7);">
                        No more hunting through scattered docs and diagrams. This consolidates scope and architecture
                        references into one always-current hub.
                    </MudText>
                </MudPaper>
            </div>
        </MudPaper>

        <!-- ABOUT THE PRODUCT -->
        <MudPaper Class="rounded-2xl border border-white/10 bg-white/5 p-6" Elevation="0">
            <div class="flex flex-col gap-4">
                <div>
                    <MudText Typo="Typo.h5" Class="font-semibold">What Meridian Console is</MudText>
                    <MudText Typo="Typo.body1" Class="mt-2" Style="color: rgba(255,255,255,0.7);">
                        Meridian Console <span style="color: rgba(255,255,255,0.6);">(codename Dhadgar)</span> is a comprehensive game server hosting and management platform
                        built on .NET 10 with a microservices architecture. Think of it as a self-hosted alternative to commercial game server hosts,
                        giving organizations full control over their gaming infrastructure.
                    </MudText>
                </div>

                <MudPaper Class="rounded-2xl border border-white/10 bg-black/30 p-5" Elevation="0">
                    <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">Architecture</MudText>
                    <MudText Typo="Typo.body2" Class="mt-2" Style="color: rgba(255,255,255,0.7);">
                        The platform consists of 10+ microservices communicating via HTTP/REST and RabbitMQ event streams:
                    </MudText>

                    <div class="mt-4 grid gap-3 md:grid-cols-2">
                        <MudPaper Class="rounded-xl border border-white/10 bg-white/5 p-3" Elevation="0">
                            <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">Identity Service</MudText>
                            <MudText Typo="Typo.caption" Class="mt-1" Style="color: rgba(255,255,255,0.7);">User/org authentication and authorization</MudText>
                        </MudPaper>

                        <MudPaper Class="rounded-xl border border-white/10 bg-white/5 p-3" Elevation="0">
                            <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">Servers Service</MudText>
                            <MudText Typo="Typo.caption" Class="mt-1" Style="color: rgba(255,255,255,0.7);">Game server lifecycle (create, start, stop, configure)</MudText>
                        </MudPaper>

                        <MudPaper Class="rounded-xl border border-white/10 bg-white/5 p-3" Elevation="0">
                            <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">Nodes Service</MudText>
                            <MudText Typo="Typo.caption" Class="mt-1" Style="color: rgba(255,255,255,0.7);">Physical infrastructure / agent management</MudText>
                        </MudPaper>

                        <MudPaper Class="rounded-xl border border-white/10 bg-white/5 p-3" Elevation="0">
                            <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">Billing Service</MudText>
                            <MudText Typo="Typo.caption" Class="mt-1" Style="color: rgba(255,255,255,0.7);">Subscriptions, invoicing, payment processing</MudText>
                        </MudPaper>

                        <MudPaper Class="rounded-xl border border-white/10 bg-white/5 p-3" Elevation="0">
                            <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">Tasks Service</MudText>
                            <MudText Typo="Typo.caption" Class="mt-1" Style="color: rgba(255,255,255,0.7);">Background jobs and scheduled operations</MudText>
                        </MudPaper>

                        <MudPaper Class="rounded-xl border border-white/10 bg-white/5 p-3" Elevation="0">
                            <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">Files Service</MudText>
                            <MudText Typo="Typo.caption" Class="mt-1" Style="color: rgba(255,255,255,0.7);">S3-backed file storage and backups</MudText>
                        </MudPaper>

                        <MudPaper Class="rounded-xl border border-white/10 bg-white/5 p-3" Elevation="0">
                            <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">Mods Service</MudText>
                            <MudText Typo="Typo.caption" Class="mt-1" Style="color: rgba(255,255,255,0.7);">Plugin/mod installation and management</MudText>
                        </MudPaper>

                        <MudPaper Class="rounded-xl border border-white/10 bg-white/5 p-3" Elevation="0">
                            <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">Firewall Service</MudText>
                            <MudText Typo="Typo.caption" Class="mt-1" Style="color: rgba(255,255,255,0.7);">UniFi network integration</MudText>
                        </MudPaper>

                        <MudPaper Class="rounded-xl border border-white/10 bg-white/5 p-3" Elevation="0">
                            <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">Secrets Service</MudText>
                            <MudText Typo="Typo.caption" Class="mt-1" Style="color: rgba(255,255,255,0.7);">Credential management</MudText>
                        </MudPaper>

                        <MudPaper Class="rounded-xl border border-white/10 bg-white/5 p-3" Elevation="0">
                            <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">Notifications Service</MudText>
                            <MudText Typo="Typo.caption" Class="mt-1" Style="color: rgba(255,255,255,0.7);">Alerts and event-driven messaging</MudText>
                        </MudPaper>

                        <MudPaper Class="rounded-xl border border-white/10 bg-white/5 p-3" Elevation="0">
                            <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">Discord Service</MudText>
                            <MudText Typo="Typo.caption" Class="mt-1" Style="color: rgba(255,255,255,0.7);">Bot integration for server events</MudText>
                        </MudPaper>
                    </div>

                    <MudPaper Class="mt-4 rounded-xl border border-white/10 bg-black/40 p-3" Elevation="0">
                        <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">Status</MudText>
                        <MudText Typo="Typo.caption" Class="mt-1" Style="color: rgba(255,255,255,0.7);">
                            Active development — Phase 1 planning complete with ~400 work items mapped in Azure DevOps.
                        </MudText>
                    </MudPaper>
                </MudPaper>
            </div>
        </MudPaper>

        <!-- KEY CAPABILITIES -->
        <MudPaper Class="rounded-2xl border border-white/10 bg-white/5 p-6" Elevation="0">
            <MudText Typo="Typo.h5" Class="font-semibold">Key capabilities</MudText>
            <MudText Typo="Typo.body1" Class="mt-2" Style="color: rgba(255,255,255,0.7);">
                The scope is presented as a tool you can navigate, search, and share—built for both stakeholders and engineers.
            </MudText>

            <div class="mt-5 grid gap-4 md:grid-cols-2">
                <MudPaper Class="rounded-2xl border border-white/10 bg-black/30 p-4" Elevation="0">
                    <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">Structured scope index</MudText>
                    <MudText Typo="Typo.body2" Class="mt-2" Style="color: rgba(255,255,255,0.7);">
                        Clear, consistent sections for product scope, platform architecture, security posture, data model, and network flows.
                    </MudText>
                </MudPaper>

                <MudPaper Class="rounded-2xl border border-white/10 bg-black/30 p-4" Elevation="0">
                    <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">Instant search + deep links</MudText>
                    <MudText Typo="Typo.body2" Class="mt-2" Style="color: rgba(255,255,255,0.7);">
                        Filter content quickly from the sidebar and share links that open the exact section being discussed.
                    </MudText>
                </MudPaper>

                <MudPaper Class="rounded-2xl border border-white/10 bg-black/30 p-4" Elevation="0">
                    <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">Dependency Map</MudText>
                    <MudText Typo="Typo.body2" Class="mt-2" Style="color: rgba(255,255,255,0.7);">
                        Visualize how services, schemas, and integrations connect—so changes are scoped before they surprise you.
                    </MudText>
                </MudPaper>

                <MudPaper Class="rounded-2xl border border-white/10 bg-black/30 p-4" Elevation="0">
                    <MudText Typo="Typo.body2" Class="font-semibold" Style="color: rgba(255,255,255,0.8);">Delivery alignment</MudText>
                    <MudText Typo="Typo.body2" Class="mt-2" Style="color: rgba(255,255,255,0.7);">
                        Connect "what we're building" to phases and dependencies to keep scope, sequencing, and tradeoffs explicit.
                    </MudText>
                </MudPaper>
            </div>
        </MudPaper>

        <!-- QUICK SEARCH -->
        <MudPaper Class="rounded-2xl border border-white/10 bg-white/5 p-6" Elevation="0">
            <MudText Typo="Typo.h5" Class="font-semibold">Quick search</MudText>
            <MudText Typo="Typo.body1" Class="mt-2" Style="color: rgba(255,255,255,0.7);">
                Use the search box in the sidebar to filter section titles and jump directly to what you need.
                It's designed for "find it fast" moments in meetings.
            </MudText>
        </MudPaper>

    </div>
</div>
