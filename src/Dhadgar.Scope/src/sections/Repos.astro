---
// Section 19: Repository Structure
---

<div class="rounded-2xl border border-white/10 bg-white/5 p-6">
  <h2 class="mb-4 text-2xl font-bold">Section 19: Repository Structure</h2>

  <h3 class="mb-3 text-lg font-semibold text-indigo-400">Monorepo Overview</h3>
  <p class="mb-4 text-white/70">
    Single repository containing all services, agents, frontends, and shared libraries. ~46 projects
    in the Dhadgar.sln solution.
  </p>

  <h3 class="mb-3 text-lg font-semibold text-indigo-400">Directory Structure</h3>
  <div class="mb-6 rounded-2xl border border-white/10 bg-black/35 p-4 overflow-x-auto">
    <pre><code>MeridianConsole/
├── Dhadgar.sln              # Main solution
├── global.json              # .NET SDK version
├── Directory.Build.props    # Shared build config
├── Directory.Packages.props # Central package versions
├── azure-pipelines.yml      # CI/CD
├── src/
│   ├── Agents/              # Customer-side agents
│   │   ├── Dhadgar.Agent.Core/
│   │   ├── Dhadgar.Agent.Linux/
│   │   └── Dhadgar.Agent.Windows/
│   ├── Shared/              # Cross-cutting libraries
│   │   ├── Dhadgar.Contracts/
│   │   ├── Dhadgar.Messaging/
│   │   ├── Dhadgar.ServiceDefaults/
│   │   └── Dhadgar.Shared/
│   ├── Dhadgar.Gateway/     # YARP API Gateway
│   ├── Dhadgar.Identity/    # Auth service
│   ├── Dhadgar.Servers/     # Game server management
│   ├── Dhadgar.Nodes/       # Agent management
│   ├── Dhadgar.Tasks/       # Background jobs
│   ├── Dhadgar.Files/       # File management
│   ├── Dhadgar.Mods/        # Mod registry
│   ├── Dhadgar.Console/     # Real-time console
│   ├── Dhadgar.Billing/     # Subscriptions
│   ├── Dhadgar.Notifications/
│   ├── Dhadgar.Firewall/
│   ├── Dhadgar.Secrets/
│   ├── Dhadgar.Discord/
│   ├── Dhadgar.Panel/       # Main web UI
│   ├── Dhadgar.ShoppingCart/# Marketing site
│   └── Dhadgar.Scope/       # This documentation site
├── tests/                   # 1:1 test projects
├── deploy/
│   ├── compose/             # Docker Compose (local dev)
│   ├── kubernetes/          # K8s manifests
│   └── terraform/           # IaC
└── docs/                    # Architecture docs</code></pre>
  </div>

  <h3 class="mb-3 text-lg font-semibold text-indigo-400">Key Files</h3>
  <table class="mb-6 w-full border-collapse text-sm">
    <thead>
      <tr>
        <th class="border border-white/10 bg-white/5 px-2.5 py-2 text-left text-white/90">File</th>
        <th class="border border-white/10 bg-white/5 px-2.5 py-2 text-left text-white/90">Purpose</th>
      </tr>
    </thead>
    <tbody>
      <tr><td class="border border-white/10 px-2.5 py-2 align-top">global.json</td><td class="border border-white/10 px-2.5 py-2 align-top">Pins .NET SDK to 10.0.100</td></tr>
      <tr><td class="border border-white/10 px-2.5 py-2 align-top">Directory.Packages.props</td><td class="border border-white/10 px-2.5 py-2 align-top">Central package version management</td></tr>
      <tr><td class="border border-white/10 px-2.5 py-2 align-top">CLAUDE.md</td><td class="border border-white/10 px-2.5 py-2 align-top">Instructions for Claude Code AI assistant</td></tr>
      <tr><td class="border border-white/10 px-2.5 py-2 align-top">azure-pipelines.yml</td><td class="border border-white/10 px-2.5 py-2 align-top">CI/CD pipeline definition</td></tr>
    </tbody>
  </table>

  <h3 class="mb-3 text-lg font-semibold text-indigo-400">Branching Strategy</h3>
  <div class="rounded-2xl border border-indigo-500/35 bg-indigo-500/[0.12] p-4">
    <strong>Trunk-based:</strong> Short-lived feature branches merged to main. PRs require review and
    passing CI. No long-lived release branches (yet).
  </div>
</div>
