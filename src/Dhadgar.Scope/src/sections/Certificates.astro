---
// Section 8: Certificate Management
---

<div class="rounded-2xl border border-white/10 bg-white/5 p-6">
  <h2 class="mb-4 text-2xl font-bold">Section 8: Certificate Management</h2>

  <h3 class="mb-3 text-lg font-semibold text-indigo-400">TLS Strategy</h3>
  <p class="mb-4 text-white/70">
    All communications encrypted with TLS. Different certificate sources for different tiers.
  </p>

  <table class="mb-6 w-full border-collapse text-sm">
    <thead>
      <tr>
        <th class="border border-white/10 bg-white/5 px-2.5 py-2 text-left text-white/90">Tier</th>
        <th class="border border-white/10 bg-white/5 px-2.5 py-2 text-left text-white/90">Certificate Source</th>
        <th class="border border-white/10 bg-white/5 px-2.5 py-2 text-left text-white/90">Rotation</th>
      </tr>
    </thead>
    <tbody>
      <tr><td class="border border-white/10 px-2.5 py-2 align-top">Public endpoints</td><td class="border border-white/10 px-2.5 py-2 align-top">Cloudflare (edge)</td><td class="border border-white/10 px-2.5 py-2 align-top">Automatic</td></tr>
      <tr
        ><td class="border border-white/10 px-2.5 py-2 align-top">Control plane internal</td><td class="border border-white/10 px-2.5 py-2 align-top">cert-manager + Let's Encrypt</td><td class="border border-white/10 px-2.5 py-2 align-top"
          >90 days auto-renew</td
        ></tr
      >
      <tr><td class="border border-white/10 px-2.5 py-2 align-top">Agent mTLS</td><td class="border border-white/10 px-2.5 py-2 align-top">Internal CA (planned)</td><td class="border border-white/10 px-2.5 py-2 align-top">24-48 hours</td></tr>
      <tr><td class="border border-white/10 px-2.5 py-2 align-top">Database connections</td><td class="border border-white/10 px-2.5 py-2 align-top">Self-signed (internal only)</td><td class="border border-white/10 px-2.5 py-2 align-top">Annual</td></tr>
    </tbody>
  </table>

  <h3 class="mb-3 text-lg font-semibold text-indigo-400">Agent Certificate Lifecycle</h3>
  <div class="mb-6 rounded-2xl border border-white/10 bg-white/[0.03] p-4">
    <ol class="space-y-2 text-white/70">
      <li>1. Agent enrolls with one-time bootstrap token</li>
      <li>2. Control plane issues short-lived certificate (24-48h)</li>
      <li>3. Agent auto-renews before expiry</li>
      <li>4. Revocation via CRL or real-time check</li>
    </ol>
  </div>

  <h3 class="mb-3 text-lg font-semibold text-indigo-400">Key Storage</h3>
  <div class="rounded-2xl border border-indigo-500/35 bg-indigo-500/[0.12] p-4">
    Private keys never leave their origin. Agent keys generated on-device, control plane keys in
    Kubernetes secrets.
  </div>
</div>
